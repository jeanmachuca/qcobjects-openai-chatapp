var zt=Object.defineProperty;var Qt=(Fe,P,y)=>P in Fe?zt(Fe,P,{enumerable:!0,configurable:!0,writable:!0,value:y}):Fe[P]=y;var C=(Fe,P)=>zt(Fe,"name",{value:P,configurable:!0}),bt=(Fe=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(Fe,{get:(P,y)=>(typeof require<"u"?require:P)[y]}):Fe)(function(Fe){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+Fe+'" is not supported')});var Lt=(Fe,P)=>()=>(P||Fe((P={exports:{}}).exports,P),P.exports);var W=(Fe,P,y)=>Qt(Fe,typeof P!="symbol"?P+"":P,y);var Xt=Lt(()=>{"use strict";var ie=(()=>{var Fe=Object.defineProperty,P=C((E,h,p)=>h in E?Fe(E,h,{enumerable:!0,configurable:!0,writable:!0,value:p}):E[h]=p,"Zn"),y=C((E,h)=>Fe(E,"name",{value:h,configurable:!0}),"c"),Tt=(E=>typeof bt<"u"?bt:typeof Proxy<"u"?new Proxy(E,{get:C((h,p)=>(typeof bt<"u"?bt:h)[p],"get")}):E)(function(E){if(typeof bt<"u")return bt.apply(this,arguments);throw new Error('Dynamic require of "'+E+'" is not supported')}),G=C((E,h)=>()=>(h||E((h={exports:{}}).exports,h),h.exports),"V"),U=C((E,h,p)=>(P(E,typeof h!="symbol"?h+"":h,p),p),"S"),Ft=G((E,h)=>{y(C(function p(c){"use strict";if(typeof Object.defineProperty<"u"&&typeof c<"u")try{Object.defineProperty(c,"__qcobjects_sdk__",{enumerable:!0,configurable:!1,writable:!1,value:p})}catch{typeof c.__qcobjects_sdk__<"u"&&(c.__qcobjects_sdk__.__loaded__=!0)}if(typeof c.__qcobjects_sdk__.__loaded__>"u"){if(c.__qcobjects_sdk__.__loaded__=!0,typeof c>"u")throw Error("Top context empty: It should either global, module or window");var S=c;c.global=S;var j=typeof window<"u"&&typeof window.self<"u"&&window===window.self,A=typeof h<"u",I=CONFIG.get("remoteImportsPath"),k=CONFIG.get("relativeImportPath"),x=!CONFIG.get("useLocalSDK");x&&!A?CONFIG.set("remoteImportsPath","https://sdk.qcobjects.dev/v2.4/src/js/"):CONFIG.set("relativeImportPath","qcobjects-sdk/src/js/"),typeof c._DOMCreateElement>"u"&&(c._DOMCreateElement=function(K){var de;return j?de=document.createElement(K):de={},de});var H;if(j&&!A)H=[Import("org.qcobjects.i18n_messages",function(){},x),Import("org.qcobjects.models",function(){},x),Import("org.qcobjects.components",function(){},x),Import("org.qcobjects.components.grid",function(){},x),Import("org.qcobjects.components.list",function(){},x),Import("org.qcobjects.components.slider",function(){},x),Import("org.qcobjects.components.notifications",function(){},x),Import("org.qcobjects.components.splashscreen",function(){},x),Import("org.qcobjects.controllers",function(){},x),Import("org.qcobjects.controllers.grid",function(){},x),Import("org.qcobjects.controllers.list",function(){},x),Import("org.qcobjects.controllers.slider",function(){},x),Import("org.qcobjects.controllers.form",function(){},x),Import("org.qcobjects.controllers.swagger",function(){},x),Import("org.qcobjects.effects",function(){},x),Import("org.qcobjects.modal.controllers",function(){},x),Import("org.qcobjects.views",function(){},x),Import("org.qcobjects.tools.canvas",function(){},x),Import("org.qcobjects.tools.layouts",function(){},x),Import("org.qcobjects.cloud.auth.session.usertoken",function(){},x),Import("org.qcobjects.cloud.auth.session.data",function(){},x)];else{A&&CONFIG.set("remoteImportsPath",CONFIG.get("basePath",""));var B="qcobjects-sdk/src/js/";H=[Import(B+"org.qcobjects.models",function(){},x),Import(B+"org.qcobjects.components",function(){},x),Import(B+"org.qcobjects.controllers",function(){},x),Import(B+"org.qcobjects.views",function(){},x),Import(B+"org.qcobjects.effects",function(){},x),Import(B+"org.qcobjects.tools.canvas",function(){},x),Import(B+"org.qcobjects.tools.layouts",function(){},x),Import(B+"org.qcobjects.cloud.auth.session.usertoken",function(){},x),Import(B+"org.qcobjects.cloud.auth.session.data",function(){},x)]}let ee=GlobalSettings.__start__.bind(c);c._sdk_=Promise.all(H).then(()=>{CONFIG.set("useSDK",!0),CONFIG.set("remoteImportsPath",I),CONFIG.set("relativeImportPath",k),ee()})}},"w"),"__qcobjects_sdk__").call(null,typeof h=="object"&&typeof h.exports=="object"?h.exports=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof ie<"u"?ie:{}:typeof ie=="object"?ie:typeof window=="object"?window:{})}),pt=G((E,h)=>{var p=Ft();h.exports=p}),Oe=G((E,h)=>{y(C(function p(c){"use strict";var $,le;if(typeof Object.defineProperty<"u"&&typeof c<"u")try{Object.defineProperty(c,"__qcobjects__",{enumerable:!0,configurable:!1,writable:!1,value:p})}catch{typeof c.__qcobjects__<"u"&&(c.__qcobjects__.loaded=!0)}if(typeof c.__qcobjects__.loaded>"u"){let Q=C(function(e){A?Ze.push(e.bind(window)):typeof S<"u"&&Ze.push(e.bind(S))},"$e");y(Q,"Ready"),c.__qcobjects__.loaded=!0;var S=c;c.global=S;var j=typeof window<"u"&&"Deno"in window,A=typeof window<"u"&&typeof window.self<"u"&&window===window.self&&!j,I=typeof h<"u",k=y(function(){},"deno_require"),x=y(function(){return j?k(...arguments):Tt(...arguments)},"_require_"),H=y(function(e){var t=typeof e.prototype<"u"?e.prototype.toString:function(){return""};typeof e.prototype<"u"&&(e.prototype.toString=function(){var s=["__qcobjects__","__qcobjects_sdk__","__loaded__","ComplexStorageCache","css","append","attachIn","debug","info","warn","QC_Append","set","get","done","componentDone","_new_","__new__","Class","ClassFactory","New","Export","Package","Import","subelements","componentLoader","buildComponents","Controller","View","VO","Service","serviceLoader","JSONService","ConfigService","SourceJS","SourceCSS","ArrayList","ArrayCollection","Effect","Timer","sum","avg","table","max","min","range","matrix","matrix2d","matrix3d","unique","uniqueId","shortCode","NamespaceRef"],i;return s.includes(this.name)?i=this.name+"{ [QCObjects native code] }":i=t.call(this),i})},"_protected_code_");H(Function);var B=y(function(e){var t=[];for(var s in e)(typeof e[s]).toLowerCase()==="function"&&t.push(e[s]);return t},"_methods_");String.prototype.__mAll__=function(e){var t=[];return this.replace(e,function(){var s=Array.prototype.slice.call(arguments,0,-2);s.input=arguments[arguments.length-1],s.index=arguments[arguments.length-2],t.push(s)}),t},typeof String.prototype.matchAll>"u"&&(String.prototype.matchAll=String.prototype.__mAll__);var ee=y(function(e){var t;return A?t=document.createElement(e):t={},t},"_DOMCreateElement");if(!A){let e=x("fs")}var K=y(function(e){var t=y(function(){var s=new WeakSet,i=0;return function(d,f){if(typeof f=="object"&&f!==null){if(s.has(f))return i+=1,i<=3?z(f):null;s.add(f)}return f}},"getCircularReplacer");return JSON.stringify(e,t())},"_DataStringify");if(A){var de=y(function(e){return[...this.querySelectorAll(e)]},"subelements");Element.prototype.subelements=de,HTMLDocument.prototype.subelements=de,HTMLElement.prototype.subelements=de,typeof ShadowRoot<"u"&&(ShadowRoot.prototype.subelements=de)}if(A)try{c=typeof window.top<"u"?window.top:window,c._allowed_=!0}catch{try{c=document,c._allowed_=!0}catch{try{c=S,c._allowed_=!0}catch{c={},c._allowed_=!0}}}else typeof S<"u"&&(c=S);var R,ce,fe="quick-component:not([loaded]),component:not([loaded])";if(ce=function(){var e="";if(A){var t=c.document.baseURI.split("?")[0].split("/");t.pop(),e=t.join("/")+"/"}else{var s;try{s=x("process")}catch{}typeof s<"u"?e=`${s.cwd()}/`:e=""}return e}(),A){"Promise"in c||(c.Promise=function(e){var t={then(){},catch(){},_then(s){this.then.call(t,s)},_catch(s){this.catch.call(t,s)}};return e.call(t,t._then,t._catch),t}),typeof c.console>"u"&&(c.console=function(){},c.console.prototype.log=function(e){}),R=function(){return typeof document<"u"&&document.domain!==""?document.domain:"localhost"}();var Z=function(){var e=c["lo"+(typeof[])[4]+"at"+(""+[][[]])[+["10"]/2]+"o"+(""+[][[]])[1]].host.toLowerCase();return e}(),Ge=function(){return typeof cordova<"u"}()}else{var Z="secret";R="localhost"}c._asyncLoad=[];var ke=y(function(e,t){var s={func:e,args:t,dispatch(){this.func.apply(null,this.args)}};return c._asyncLoad.push(s),s},"asyncLoad");if(A){var $e=y(function(){document.readyState==="complete"&&c._asyncLoad.map(function(e){e.dispatch.call(e)})},"_fireAsyncLoad");document.onreadystatechange=$e}else typeof c.global<"u"&&(c.global._fireAsyncLoad=function(){c._asyncLoad.map(function(e){e.dispatch.call(e)})});c.asyncLoad=ke;var Re=y(function(){return{debugEnabled:!0,infoEnabled:!0,warnEnabled:!0,debug(e){this.debugEnabled&&console.log("\x1B[35m%s\x1B[0m",`[DEBUG][${performance.now().toLocaleString()}] ${e}`)},info(e){var t;this.infoEnabled&&(A?t="\x1B[103m%s\x1B[0m":t="\x1B[33m%s\x1B[0m",console.info(t,`[INFO][${performance.now().toLocaleString()}] ${e}`))},warn(e){this.warnEnabled&&console.warn("\x1B[31m%s\x1B[0m",`[WARN][${performance.now().toLocaleString()}] ${e}`)}}},"Logger"),v=new Re;v.debugEnabled=!1,v.infoEnabled=!0,c.logger=v;var be={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode(e){var t="",s,i,d,f,w,g,T,M=0;for(e=be._utf8_encode(e);M<e.length;)s=e.charCodeAt(M++),i=e.charCodeAt(M++),d=e.charCodeAt(M++),f=s>>2,w=(s&3)<<4|i>>4,g=(i&15)<<2|d>>6,T=d&63,isNaN(i)?g=T=64:isNaN(d)&&(T=64),t=t+this._keyStr.charAt(f)+this._keyStr.charAt(w)+this._keyStr.charAt(g)+this._keyStr.charAt(T);return t},decode(e){var t="",s,i,d,f,w,g,T,M=0;for(e=e.replace(/[^A-Za-z0-9+/=]/g,"");M<e.length;)f=this._keyStr.indexOf(e.charAt(M++)),w=this._keyStr.indexOf(e.charAt(M++)),g=this._keyStr.indexOf(e.charAt(M++)),T=this._keyStr.indexOf(e.charAt(M++)),s=f<<2|w>>4,i=(w&15)<<4|g>>2,d=(g&3)<<6|T,t=t+String.fromCharCode(s),g!==64&&(t=t+String.fromCharCode(i)),T!==64&&(t=t+String.fromCharCode(d));return t=be._utf8_decode(t),t},_utf8_encode(e){e=e.replace(/rn/g,"n");for(var t="",s=0;s<e.length;s++){var i=e.charCodeAt(s);i<128?t+=String.fromCharCode(i):i>127&&i<2048?(t+=String.fromCharCode(i>>6|192),t+=String.fromCharCode(i&63|128)):(t+=String.fromCharCode(i>>12|224),t+=String.fromCharCode(i>>6&63|128),t+=String.fromCharCode(i&63|128))}return t},_utf8_decode(e){for(var t="",s=0,i=0,d=0,f=0,w;s<e.length;)i=e.charCodeAt(s),i<128?(t+=String.fromCharCode(i),s++):i>191&&i<224?(f=e.charCodeAt(s+1),t+=String.fromCharCode((i&31)<<6|f&63),s+=2):(f=e.charCodeAt(s+1),w=e.charCodeAt(s+2),t+=String.fromCharCode((i&15)<<12|(f&63)<<6|w&63),s+=3);return t}},Me=y(function(e,t){var s=y(function(i,d){var f=2e3,w=0,g=setInterval(function(){d.call()?(clearInterval(g),i.call(),v.debug("Ejecuting "+i.name+" after wait")):w<f?(w+=1,v.debug("WAIT UNTIL "+i.name+" is true, "+w.toString()+" cycles")):(v.debug("Max execution time for "+i.name+" expression until true"),clearInterval(g))},1)},"_waitUntil");setTimeout(function(){s(e,t)},1)},"waitUntil");if(typeof ae>"u")var ae={getItem(e){return Object.hasOwnProperty.call(this,e)?this[e]:null},setItem(e,t){this[e]=t},removeItem(e){delete this[e]}};var Se=y(function(e){var t,s,i;if(t=e.index,typeof t<"u"){s=e.load,i=e.alternate;var d=this.getID(t),f=ae.getItem(d);if(this.isEmpty(f)){var w=s.call(null,{cachedObjectID:d,cachedResponse:f,cache:this});this.save(t,w),v.debug("RESPONSE OF {{cachedObjectID}} CACHED".replace("{{cachedObjectID}}",d))}else{var g=i.call(null,{cachedObjectID:d,cachedResponse:f,cache:this});v.debug("RESPONSE OF {{cachedObjectID}} IS ALREADY CACHED ".replace("{{cachedObjectID}}",d))}}else throw new Error("ComplexStorageCache: index is undefined");return this},"ComplexStorageCache");if(Se.prototype.getItem=function(e){var t=ae.getItem(e);return this.isEmpty(t)?null:JSON.parse(t)},Se.prototype.setItem=function(e,t){ae.setItem(e,K(t))},Se.prototype.isEmpty=function(e){var t=!1;switch(!0){case typeof e>"u":case(typeof e=="string"&&e===""):case(typeof e=="string"&&e==="undefined"):case(typeof e=="number"&&e===0):case e===null:t=!0;break;default:t=!1}return t},Se.prototype.getID=function(e){var t;return typeof e<"u"&&(t="cachedObject_"+be.encode(K(e).replace(/\{|\}|,/g,"_"))),t},Se.prototype.save=function(e,t){var s=this.getID(e);v.debug("CACHING THE RESPONSE OF {{cachedObjectID}} ".replace("{{cachedObjectID}}",s)),this.setItem(s,t)},Se.prototype.getCached=function(e){var t=this.getID(e);return this.getItem(t)},Se.prototype.clear=function(){Object.keys(ae).filter(function(e){return e.startsWith("cachedObject_")}).map(function(e){ae.removeItem(e)})},A){var We=!1;try{var tt=Object.defineProperty({},"passive",{get(){return We=!0,We}});window.addEventListener("testPassive",null,tt),window.removeEventListener("testPassive",null,tt)}catch{}var ut=y(function(){return We?{passive:!0}:!1},"captureFalse")}A&&(Element.prototype.find=function(e){var t=[],s=document.subelements(e);return s.map(function(i,d){typeof s[d]<"u"&&s[d].parentNode.tagName===this.parentNode.tagName&&t.push(ot(i,new Object))}),t});var De,ft=function(){var e=Object.prototype.hasOwnProperty;return function(t){if(typeof t!="object")throw TypeError("Object prototype may only be an Object or null. The type is "+typeof t);var s=y(function(){},"QCObjects");s.prototype=t;var i=new s;if(arguments.length>1){var d=Object(arguments[1]);for(var f in d)e.call(d,f)&&(i[f]=d[f])}return i}}();typeof Object.assign!="function"&&Object.defineProperty(Object,"assign",{value:y(function(e,t){"use strict";if(e===null)throw new TypeError("Cannot convert undefined or null to object");for(var s=Object(e),i=1;i<arguments.length;i++){var d=arguments[i];if(d!==null)for(var f in d)Object.prototype.hasOwnProperty.call(d,f)&&(s[f]=d[f])}return s},"assign"),writable:!0,configurable:!0});var yt=y(function(e){return!!(typeof e=="function"&&e.toString().startsWith("class"))},"__is_raw_class__"),z=y(function(e){var t;switch(!0){case typeof e=="string":t=e;break;case typeof e=="number":t=e;break;case typeof e=="object":t=Object.assign({},e);break;case typeof e=="function":t=e.bind({});break;case yt(e):t=y(class extends e{},"_value_");break;default:break}return t},"_LegacyCopy"),Y={},he={},ze=[],Ze=[],nt=y(function(e){var t="";return typeof e=="function"&&Object.hasOwnProperty.call(e,"name")&&e.name!==""?t=e.name:typeof e<"u"&&typeof e.constructor=="function"&&e.constructor.name!==""?t=e.constructor.name:typeof e<"u"&&typeof e.constructor=="object"&&(t=e.constructor.toString().replace(/\[(.*?)\]/g,"$1").split(" ").slice(1).join("")),t},"ObjectName"),ot=y(function(e,t){for(var s in e)if(typeof e[s]<"u")try{t[s]=e[s]}catch{}return t},"_Cast"),Xe=y(function(e,t){for(var s in e)if(typeof e[s]<"u"&&typeof e[s]!="function")try{t[s]=e[s]}catch{}else if(typeof e[s]=="function")try{t[s]=e[s].bind(t)}catch(i){v.warn(i)}return t},"_CastProps"),Nt=y(function(){return["__proto__","prototype","Object","Map","defineProperty","indexOf","toString","__instanceID"].indexOf(arguments[0])!==-1},"__is__forbidden_name__"),Te=y(function(e){var t="";switch(!0){case(yt(e)&&!!e.name):t=e.name;break;case(typeof e=="object"&&!!e.constructor&&!!e.constructor.name&&e.constructor.name!==""):t=e.constructor.name;break;case(!!e&&!!e.__classType&&e.__classType!==""):t=e.__classType;break;case(!!e&&!!e.__definition&&!!e.__definition.__classType&&e.__definition.__classType!==""):t=e.__definition.__classType;break;case(typeof e=="function"&&!!e.name):t=e.name;break;default:t=nt(e);break}return t},"__getType__"),qe=y(function(e,t){return!!(typeof e<"u"&&e!==null&&((He(e)||ct(e))&&e.hierarchy().includes(t)||Te(e)===t||nt(e)===t||typeof e===t))},"is_a"),Ke=y(function(e){if(typeof e<"u")if(A)try{c[e.name]=e,window[e.name]=e}catch{}else typeof S<"u"&&(Object.hasOwnProperty.call(S,e.name)||(S[e.name]=e))},"__make_global__"),rt=y(function(e,t){var s=e.name||Te(e);return e.__definition.__classType=s,typeof t<"u"&&(e.__definition.__namespace=t),Y[s]=e,c[s]=Y[s],c[s]},"__register_class__"),Qe=y(function(e,t){return rt(e,t)},"RegisterClass");Ke(Qe);var Ee=y(function(){var e={},t,s,i;switch(arguments.length){case 0:return class{};case 1:t=arguments[0],s=y(class{},"type"),i={};break;case 2:t=arguments[0],s=y(class{},"type"),i=arguments[1];break;case 3:t=arguments[0],s=arguments[1],i=arguments[2];break;default:break}if(typeof s!="function")throw new Error("Class type must be a function or class");if(Nt.call(this,t))throw new Error(`${t} is not an allowed word in the name of a class`);return typeof s.__definition<"u"&&(i.__definition=Object.assign(z(s.__definition),s)),e[s.name]=s,typeof i>"u"||i===null?i={}:i=z(i),typeof i.__instanceID<"u"&&delete i.__instanceID,Y[t]=class extends e[s.name]{constructor(){var d;arguments.length>0?d={...arguments[0]}:d={},super(d),U(this,"__classType",t),U(this,"__definition",{...i});let f=this;if(De=typeof De>"u"||De===null?0:De+1,f.__instanceID||Object.defineProperty(f,"__instanceID",{value:De,writable:!1}),typeof f.__definition<"u"&&Object.keys(f.__definition).filter(function(w){return isNaN(w)&&!["name","__instanceID","__classType","__definition"].includes(w)}).forEach(function(w){typeof f.__definition[w]=="function"?f[w]=f.__definition[w].bind(f):f[w]=f.__definition[w]}),B(Y[f.__classType]).map(function(w){f[w.name]=w.bind(f)}),B(f.__definition).map(function(w){f[w.name]=w.bind(f)}),f.body)if(typeof f.__definition>"u"||!Object.hasOwnProperty.call(f.__definition,"body")||typeof f.__definition.body>"u")try{A?f.body=ee(f.__definition.__classType):f.body={}}catch{f.body={}}else Object.hasOwnProperty.call(f.__definition,"body")&&(f.body=f.__definition.body);try{if(typeof f.__new__=="function"?f.__new__.call(f,d):typeof super.__new__=="function"&&(f.__new__=super.__new__.bind(f),f.__new__.call(f,d)),typeof f=="object"&&Object.hasOwnProperty.call(f,"_new_")&&typeof f._new_.isCalled>"u")try{f._new_.call(f,d),f._new_.isCalled=!0}catch(w){v.warn(`${f.__classType}._new_() failed with error: ${w}`)}}catch(w){v.warn(w)}}static hierarchy(d){var f=y(function(T){return Object.hasOwnProperty.call(T,"__classType")?T.__classType:Te.call(d,T)},"__classType"),w=y(T=>typeof T<"u"&&typeof T.__proto__<"u"&&T.__proto__!==null?(f(T)!==""?[f(T)]:[]).concat(w(T.__proto__)):[],"__hierarchy__proto__");(typeof d>"u"||d===null)&&(d=this);var g=[];return g.push(f(d)),g=g.concat(w(d.__proto__)),g}static getParentClass(){return Object.getPrototypeOf(this.prototype.constructor)}__new__(d){Xe(d,this)}_new_(){}getClass(){return Object.getPrototypeOf(this.constructor)}css(d){return typeof this.body<"u"&&this.body.style!=="undefined"&&(v.debug("body style"),this.body.style=ot(d,this.body.style)),this.body.style}hierarchy(){var d=this;return this.getClass().hierarchy(d)}append(f){v.debug("append: start"),qe(f,"Component")&&(v.debug("append: child is a Component"),v.debug(`appending the body of ${f.name}`));var f=arguments.length>0?arguments[0]:this.body;typeof this.body<"u"&&(v.debug("append element"),arguments.lenght>0?(v.debug("append to element"),this.body.append(f),typeof this.childs>"u"&&(this.childs=[]),this.childs.push(f)):A&&(v.debug("append to body"),document.body.append(f)))}attachIn(d){if(A)for(var f=document.subelements(d),w=0,g=f.length;w<g;w++)f[w].append(this);else throw new Error("attachIn not yet implemented for non browser platforms")}},Y[t]=Xe(i,Y[t]),Y[t].__definition=i,Y[t].__definition.__classType=t,Y[t].__definition.__new__=y(function(d){Xe(d,this)},"__new__"),c[t]=Y[t],c[t]},"Class");Ee.prototype.toString=function(){return"Class(name, type, definition) { [QCObjects native code] }"};var D=y(function(e){var t;if(e!==null&&e.indexOf(".")>-1){var s=e.split(".").slice(0,e.split(".").length-1).join("."),i=e.split(".").slice(-1).join(""),d=Ne(s),f=typeof d<"u"?d.filter(w=>He(w)&&(w.__definition.__classType===i||typeof w=="function"&&!!w.name)).reverse():[];if(f.length>0)t=f[0];else throw Error(`Class ${e} not found.`)}else e!==null&&Object.hasOwnProperty.call(Y,e)&&(t=Y[e]);return t},"ClassFactory");A&&(Element.prototype.append=y(function(e){ct(e)||typeof e.body<"u"?this.appendChild(e.body):this.appendChild(e)},"QC_Append"),Element.prototype.render=y(function(e){var t=this,s=y(function(i,d){if(typeof document.implementation.createHTMLDocument<"u"){var f=document.implementation.createHTMLDocument("");f.innerHTML=d,f.body.subelements("*").map(function(w){return i.append(w)})}},"_appendVDOM");if(typeof this.innerHTML<"u")try{this.innerHTML+=e}catch{s(t,e)}else s(t,e)},"QC_Render"));var at=y(function(e,t,s){return D(e)[t]},"_super_");at.prototype.toString=function(){return"_super_(className,classMethodName,params) { [QCObjects native code] }"};var ye=y(function(e,t){return t=arguments.length>1?t:{},typeof e>"u"?new Object:new e(t)},"New");ye.prototype.toString=function(){return"New(QCObjectsClassName, args) { [QCObjects native code] }"};var te=y(function(e){return Ke(e)},"Export");if(te.prototype.toString=function(){return"Export(function or symbol) { [QCObjects native code] }"},!A){var Je=y(function(e){let t=x("fs");var s=null;try{var i=[`${c.CONFIG.get("projectPath")}${c.CONFIG.get("relativeImportPath")}`,`${c.CONFIG.get("basePath")}${c.CONFIG.get("relativeImportPath")}`,`${c.CONFIG.get("projectPath")}`,`${c.CONFIG.get("basePath")}`,`${c.CONFIG.get("relativeImportPath")}`,`${process.cwd()}${c.CONFIG.get("relativeImportPath")}`,`${process.cwd()}/node_modules/`+e,`${process.cwd()}/node_modules`,`${process.cwd()}`,"node_modules","./",""].concat(h.paths);i=i.filter(d=>t.existsSync(d+"/"+e)),i.length>0&&(s=i[0],v.info(e+" is Installed."))}catch(d){console.log(d)}return s},"findPackageNodePath");te(Je)}Ee("_Crypt",Object,{last_string:"",last_key:"",construct:!1,_new_(e){var t=e.string,s=e.hasOwnProperty.call(e,"key")?e.key:null;this.__new__(e),s=s===null?this.__instanceID:s,this.last_key=s,this.last_string=t,this.construct=!0},_encrypt(){for(var e=this.string,t=this.key,s="",i,d,f=0;f<e.length;f++)i=e.substr(f,1),d=t.substr(f%t.length-1,1),i=String.fromCharCode(i.charCodeAt(0)+d.charCodeAt(0)),s+=i;return this.last_string=be.encode(s),this.last_string},_decrypt(){var e=this.string,t=this.key,s="",i,d;e=be.decode(e);for(var f=0;f<e.length;f++)i=e.substr(f,1),d=t.substr(f%t.length-1,1),i=String.fromCharCode(i.charCodeAt(0)-d.charCodeAt(0)),s+=i;return this.last_string=s,this.last_string},encrypt(e,t){var s=ye(D("_Crypt"),{string:e,key:t!==""?t:"12345678ABC"});return s._encrypt()},decrypt(e,t){var s=ye(D("_Crypt"),{string:e,key:t!==""?t:"12345678ABC"});return s._decrypt()}});var dt=y(function(e){return D("_Crypt").encrypt(K(e),Z)},"_CryptObject"),st=y(function(e){return e===""?{}:JSON.parse(D("_Crypt").decrypt(e,Z))},"_DecryptObject"),it=y(function(){var e=1e3,t=D("_Crypt").encrypt((Math.random()*e).toString().replace(".",""),new Date().getTime().toString()),s=D("_Crypt").encrypt((Math.random()*e).toString().replace(".",""),new Date(new Date().getTime()-1e3*1e3).getTime().toString()),i=s.list().map((d,f)=>t.list()[f]===d?null:d).filter(d=>d!==null).join("");return i},"shortCode"),xe=it;Ee("InheritClass",class{},{});let J=($=class extends D("InheritClass"){constructor(){super(...arguments),U(this,"component",null),U(this,"__definition",{}),U(this,"__classType","Processor"),this.processors=J.processors,this.process=J.process.bind(this),this.processObject=J.processObject.bind(this),this.setProcessor=J.setProcessor.bind(this),this.execute=J.execute.bind(this)}static setProcessor(t){typeof t=="function"&&t.name!==""&&(this.processors[t.name]=t)}static execute(t,s,i){var d=typeof t<"u"&&t!==null?t.processorHandler:this;return d.processors[s].bind(d).apply(d,[t,...i.split(",")])}static process(t,s=null){var i=s!==null?s.processorHandler:ye(J,{component:null});return typeof t=="string"&&Object.keys(i.processors).map(function(d){[...t.matchAll(new RegExp("\\$"+d+"\\((.*)\\).*","g"))].map(function(f){var w=`$${d}(${f[1]})`;t=t.replace(w,i.execute.bind(i).call(i,s,d,f[1]))})}),t}static processObject(t,s=null){var i=s===null?this:s.processorHandler;return typeof i>"u"&&(i=new J({component:s})),typeof t=="object"?Object.keys(t).map(function(d){typeof t[d]=="object"&&!t[d].hasOwnProperty.call(t[d],"call")?t[d]=i.processObject.bind(i)(t[d],s):typeof t[d]=="string"&&(t[d]=i.process.bind(i)(t[d],s))}):typeof t=="string"&&(t=i.process.bind(i)(t,s)),t}},C($,"we"),$),ne=J;y(ne,"Processor"),U(ne,"processors",{config(e,t){return c.CONFIG.get(t,"")},ENV(e,t){return typeof process<"u"?process.env[t]:""},global(e,t){return typeof S<"u"?S[t]:""}}),ne.__definition={},ne.__classType="Processor",Qe(ne,"com.qcobjects"),Ke(ne);let ge=(le=class{static get instance(){if(this._instance===null){var t=new ge;t._CONFIG={relativeImportPath:"",remoteImportsPath:"",remoteSDKPath:"https://sdk.qcobjects.dev/v2.4/",asynchronousImportsLoad:!1,removePackageScriptAfterLoading:!0,componentsBasePath:"",delayForReady:0,preserveComponentBodyTag:!1,useConfigService:!1,routingWay:"hash",useSDK:!0,useLocalSDK:!1,basePath:ce},t._CONFIG_ENC=null,this._instance=t}return this._instance}static set instance(t){this._instance=t}},C(le,"Ot"),le),Ie=ge;y(Ie,"ConfigSettings"),U(Ie,"_instance",null),U(Ie,"_CONFIG_ENC",null),Y.ConfigSettings=Ie,Ee("CONFIG",Object,{get _CONFIG_ENC(){return D("ConfigSettings").instance._CONFIG_ENC},get _CONFIG(){return D("ConfigSettings").instance._CONFIG},set(e,t){v.debug(`CONFIG.set  ${e}: ${t}`),e==="basePath"&&(ce=t);var s;try{s=function(i){i._CONFIG_ENC===null&&(i._CONFIG_ENC=D("_Crypt").encrypt(K({}),Z));var d=i._CONFIG_ENC.valueOf(),f=i._CONFIG.valueOf();return Xe(f,st(d))}(D("ConfigSettings").instance)}catch(i){s={},console.error(i),v.debug("failed to encrypt config")}s[e]=t,D("ConfigSettings").instance._CONFIG_ENC=dt(s),Object.hasOwnProperty.call(D("ConfigSettings").instance,"_CONFIG")&&Object.hasOwnProperty.call(D("ConfigSettings").instance._CONFIG,e)&&(D("ConfigSettings").instance._CONFIG[e]=t)},get(e,t){var s;try{var i=function(d){d._CONFIG_ENC===null&&(d._CONFIG_ENC=D("_Crypt").encrypt(K({}),Z));var f=d._CONFIG_ENC.valueOf(),w=d._CONFIG.valueOf();return Xe(w,st(f))}(D("ConfigSettings").instance);typeof i[e]<"u"?s=i[e]:typeof t<"u"&&(s=t)}catch(d){console.error(d),v.debug("Something wrong when trying to get CONFIG values"),v.debug("No config value for: "+e),s=t}return ne.processObject.call(ne,s)}}),te(Me),te(at),te(Se),te(D),te(ee),te(it),te(Te),te(qe);var ct=y(function(e){return!!(typeof e=="object"&&Object.hasOwnProperty.call(e,"__classType")&&e.__instanceID&&Object.hasOwnProperty.call(e,"__definition")&&typeof e.__definition<"u")},"isQCObjects_Object"),He=y(function(e){return!!(typeof e=="function"&&!e.__instanceID&&e.__definition&&typeof e.__definition<"u"&&e.__definition.__classType)},"isQCObjects_Class"),Ne=y(function(e,t){return he.hasOwnProperty.call(he,e)&&typeof he[e]<"u"&&he[e].hasOwnProperty.call(he[e],"length")&&he[e].length>0&&typeof t<"u"&&t.hasOwnProperty.call(t,"length")&&t.length>0?(t.filter(function(s){return He(s)}).map(function(s){s.__definition.__namespace=e,s.__namespace=e}),he[e]=he[e].concat(t)):typeof t<"u"&&(typeof t=="object"&&t.hasOwnProperty.call(t,"length")?t.filter(function(s){return He(s)}).map(function(s){s.__definition.__namespace=e,s.__namespace=e}):He(t)&&(t.__definition.__namespace=e,t.__namespace=e),he[e]=t),Object.hasOwnProperty.call(he,e)&&he[e].map(function(s){rt(s,e)}),Object.hasOwnProperty.call(he,e)?he[e]:void 0},"Package");Ne.prototype.toString=function(){return"Package(namespace, classes) { [QCObjects native code] }"},Ne("com.qcobjects",[ne]);var At=y(function(e){let t=Ne(e).filter(s=>He(s)).map(s=>({[s.__definition.__classType]:s})).reduce((s,i)=>Object.assign(s,i));return e.split(".").map(s=>({[s]:t})).reverse().reduce((s,i)=>(i[Object.keys(i)]=s,i))},"NamespaceRef"),X=y(function(){var e,t=y(function(){},"ready"),s=!1;if(!(arguments.length<1)){arguments.length===1?e=arguments[0]:arguments.length===2?(e=arguments[0],t=arguments[1]):arguments.length>2&&(e=arguments[0],t=arguments[1],s=arguments[2],v.debug("[Import] Setting external="+s.toString()+" resource to import: "+e)),s?v.debug("[Import] Registering external resource to import: "+e):v.debug("[Import] Registering local resource to import: "+e);var i;return A?(i=new Promise(function(d,f){var w=y(function(){var M=!1,q=0;for(var se in he)q++;return q<ze.length?M=!1:M=!0,M},"allPackagesImported"),g=y(function(M){ze.push(t),w()&&ze.map(function(q){Ze.push(q)}),A&&c.CONFIG.get("removePackageScriptAfterLoading")&&M.target.remove(),d.call(i,{_imported_:M.target,_package_name_:e})},"readyImported");if(!he.hasOwnProperty.call(he,e)){var T=ee("script");T.type=c.CONFIG.get("sourceType","text/javascript"),T.async=!!c.CONFIG.get("asynchronousImportsLoad"),T.onreadystatechange=function(){T.readyState==="complete"&&g.call()},T.onload=g,T.onerror=function(M){f.call(i,{_imported_:T,_package_name_:e})},T.src=s?c.CONFIG.get("remoteImportsPath")+e+".js":ce+c.CONFIG.get("relativeImportPath")+e+".js",document.getElementsByTagName("head")[0].appendChild(T)}}),i.catch(function(){v.debug("Import: Error loading a package ")})):i=new Promise(function(d,f){try{var w=Je(e),g="";if(w!==null)g=w+"/"+e;else{var T=Je(e+".js");T!==null?g=T+"/"+e+".js":g=ce+c.CONFIG.get("relativeImportPath")+e}try{d.call(i,{_imported_:x(`${g}`),_package_name_:e})}catch(M){f.call(i,{_imported_:null,_package_name_:e,error:M})}}catch(M){f.call(i,{_imported_:null,_package_name_:e,error:M})}}).catch(function(d){v.debug("Something happened when importing "+e),console.warn(d)}),i.catch(function(d){v.warn(K(d))}),i}},"Import");X.prototype.toString=function(){return"Import(packagename,ready,external) { [QCObjects native code] }"},A&&(Element.prototype.Cast=y(function(t){t.__definition.body=this;var t=ye(t);return t},"QC_Object")),Ee("TagElements",Array,{show(){this.map(function(e){return e.style.opacity=1})},hide(){this.map(function(e){return e.style.opacity=0})},effect(){var e=[...arguments].slice(1),t=arguments[0];(typeof t).toLowerCase()==="string"&&(t=D(t)),this.map(function(s){return t.apply.apply(t,[s].concat(e))})},findElements(e){var t=ye(D("TagElements"));if(A)for(var s in this)typeof s=="number"&&typeof this[s]!="function"&&this[s].hasOwnProperty.call(this[s],"subelements")&&t.push(this[s].subelements(e));return t}});var oe=y(function(e,t){var s=ye(D("TagElements"));if(A)for(var i=document.subelements(e),d=[],f=0;f<i.length;f++)typeof t<"u"&&i[f].hasOwnProperty.call(i[f],"innerHTML")&&(i[f].innerHTML=t),d.indexOf(f)<0&&(s.push(i[f]),d.push(f));return s},"Tag"),ve=Q,we=y(function(e){var t=y(function(){Ze.map(function(s,i){typeof s=="function"&&(s.call(),delete Ze[i])})},"_execReady");c.CONFIG.get("delayForReady")>0?A?setTimeout(t.bind(window),c.CONFIG.get("delayForReady")):typeof S<"u"&&setTimeout(t.bind(S),c.CONFIG.get("delayForReady")):t.call(c)},"_Ready");A?(window.onload=we,Ge&&document.addEventListener("deviceready",we,ut)):S.onload=we;let vt=class vt extends D("InheritClass"){constructor({instance:t,name:s,fget:i,fset:d,value:f}){super({instance:t,name:s,fget:i,fset:d,value:f}),this._new_({instance:t,name:s,fget:i,fset:d,value:f})}_new_({instance:t,name:g,fget:i,fset:d,value:f}){var w=this,g=typeof g>"u"?nt(w):g;Object.defineProperty(t,g,{set(T){let M=T;v.debug("value changed "+g);var q;typeof d<"u"&&typeof d=="function"?q=d(M):q=M,t["_"+g]=q},get(){let T=t["_"+g];v.debug("returning value "+g);var M=y(function(se){return typeof se=="object"&&Object.hasOwnProperty.call(se,"value")?se.value:se},"is_ddo"),q;return typeof i<"u"&&typeof i=="function"?q=i(M(T)):q=M(T),q}})}};C(vt,"Ut");let Ae=vt;y(Ae,"DDO"),te(Ae);let _e=class _e{constructor({component:t,template:s}){U(this,"template",""),U(this,"__definition",{}),this.component=t,this.template=s}assign(t){var s=this;if(typeof s.component>"u")throw new Error("DefaultTemplateHandler.assign: component is undefined");if(typeof s.component.processorHandler>"u")throw new Error("DefaultTemplateHandler.assign: component.processorHandler is undefined");var i=s.component.processorHandler;i.component=s.component;var d=typeof s.template<"u"?s.template:"";typeof t=="object"?[...Object.keys(t)].map(function(f){var w=t[f];if(typeof w=="string"||typeof w=="number"||!isNaN(w))try{w=ne.processObject.bind(i).call(i,w,s.component),d=d.replace(new RegExp(`{{${f}}}`,"g"),w)}catch(g){throw v.warn(`${s.component.name} could not parse processors.`),Error(`${s.component.name} could not parse processors. Reason: ${g.message}`)}}):v.debug(`${s.component.name}.data is not an object`);try{d=ne.processObject.call(i,d,s.component)}catch(f){throw v.warn(`${s.component.name} could not parse processors.`),Error(`${s.component.name} could not parse processors. Reason: ${f.message}`)}return d}};C(_e,"wt");let Be=_e;y(Be,"DefaultTemplateHandler"),Be.__definition={},Qe(Be,"com.qcobjects");var o=y(function(e,t){let s=e.path.replace(/{(.*?)}/g,"(?<$1>.*)");return{...[...t.matchAll(new RegExp(s,"g"))][0].groups}},"__routing_params__"),r=y(function(e,t){return e.filter(function(s){var i=s.path.replace(/{(.*?)}/g,"(?<$1>.*)");return new RegExp(i,"g").test(t)}).reverse()},"__valid_routings__"),n=y(function(e,t){return e.includes(t)},"__valid_routing_way__"),a=y(function(e,t){var s=e.getAttribute("shadowed")===null,i=e.getAttribute("template-source")===null,d=e.getAttribute("shadowed")==="true",f=e.getAttribute("cached")===null,w=e.getAttribute("cached")==="true",g=typeof c.CONFIG.get("tplextension")<"u"?c.CONFIG.get("tplextension"):"html";g=e.getAttribute("tplextension")!==null?e.getAttribute("tplextension"):g;var T=e.getAttribute("name"),M=e.getAttribute("componentClass")!==null?e.getAttribute("componentClass"):"Component";let q=c.CONFIG.get("preserveComponentBodyTag")?T!==null?"com.qcobjects.components."+T+".ComponentBody":"com.qcobjects.components.ComponentBody":M;T=T!==null?T:D(q)&&typeof D(q).name<"u"?D(q).name:"";var se=D(q),V=q!=="Component"&&typeof se<"u"&&typeof se.tplsource=="string"&&se.tplsource!=="",me=i&&V?se.tplsource:i?"default":e.getAttribute("template-source");v.debug(`template source for  ${T} is ${me} `),v.debug(`type for ${T} is ${Te(se)} `);var pe;pe=b({COMPONENTS_BASE_PATH:c.CONFIG.get("componentsBasePath"),COMPONENT_NAME:T,TPLEXTENSION:g,TPL_SOURCE:me}),c.CONFIG.get("preserveComponentBodyTag")&&Ne(T!==""?"com.qcobjects.components."+T:"com.qcobjects.components",[Ee("ComponentBody",D("Component"),{name:T,tplsource:me,tplextension:g,reload:!0})]);var ue=y(function(){var Pe=s?se&&se.shadowed||D("Component").shadowed:d,re={__parent__:t,name:T,cached:f?D("Component").cached:w,shadowed:Pe,tplextension:g,body:c.CONFIG.get("preserveComponentBodyTag")?ee("componentBody"):e,templateURI:pe,tplsource:me};(typeof T>"u"||T===""||T===null)&&delete re.name,pe===""&&delete re.templateURI;var Le=ye(se,re);return c.CONFIG.get("preserveComponentBodyTag")&&e.append(Le),Le},"__create_component_instance_"),Ue=ue.call(this);return Ue},"_buildComponentFromElement_"),l=y(function(e,t){var s=[];return A?s=e.map(function(i){return a(i,t)}):v.debug("[_buildComponentsFromElements_] not implemented for Non-Browser environments"),s},"_buildComponentsFromElements_");Ne("com.qcobjects",[y(class extends D("InheritClass"){constructor({templateURI:e="",template:t,tplsource:s="default",url:i="",name:d="",method:f="GET",data:w={},reload:g=!1,shadowed:T=!1,cached:M=!0,_body:q=ee("div"),__promise__:se=null,__shadowRoot:V,body:me,shadowRoot:pe,splashScreenComponent:ue,controller:Ue,view:Pe}){super(...arguments),U(this,"validRoutingWays",["pathname","hash","search"]),U(this,"basePath",ce),U(this,"domain",R),U(this,"templateHandler","DefaultTemplateHandler"),U(this,"processorHandler",null),U(this,"routingWay",null),U(this,"routingNodes",[]),U(this,"routings",[]),U(this,"routingPath",""),U(this,"routingPaths",[]),U(this,"_componentHelpers",[]),U(this,"subcomponents",[]),U(this,"splashScreenComponent"),U(this,"controller"),U(this,"view"),U(this,"effect"),U(this,"method","GET"),U(this,"cached",!0),U(this,"__promise__",null),U(this,"__namespace");var re=this;typeof re.name>"u"&&v.warn("A name is not defined for "+Te(re)),re.routingWay=c.CONFIG.get("routingWay"),re.processorHandler=ye(ne,{component:re}),re.data=typeof re.data>"u"||re.data===null?{}:re.data,re.data=Object.assign(re.data,re.dataAttributes),re.createServiceInstance().then(function(Le){typeof re.__new__=="function"&&re.__new__.call(re,re),re._generateRoutingPaths(re.body).then(function(){re._reroute_().then(function(){return re.rebuild().then(function(){v.info(`Component._new_ The component ${re.name} was built successfully!`)}).catch(function(gt){v.warn(`Component._new_ Something went wrong building the component ${re.name}`),console.error(gt)})})})})}set body(e){var t=this;t._body=e}get body(){var e=this;return e._body}set cacheIndex(e){v.debug("[cacheIndex] This property is readonly")}get cacheIndex(){var e=this,t=K(e.routingPath);return be.encode(e.name+t)}set parsedAssignmentText(e){v.debug("[parsedAssignmentText] This property is readonly")}get parsedAssignmentText(){var e=this;if(e._parsedAssignmentText=e.parseTemplate(e.template),typeof e._parsedAssignmentText>"u")throw Error(`[Component][${this.name}][parsedAssignmentText] Could not generate content!`);return e._parsedAssignmentText}set shadowRoot(e){var t=this;typeof t.__shadowRoot>"u"?t.__shadowRoot=e:v.debug("[shadowRoot] This property can only be assigned once!")}get shadowRoot(){var e=this;return e.__shadowRoot}set routingSelected(e){v.debug("[routingSelected] This is a read-only property of the component")}get routingSelected(){var e=this;return r(e.routings,e.routingPath)}set routingParams(e){v.debug("[routingParams] This is a read-only property of the component")}get routingParams(){var e=this;return[{}].concat(e.routingSelected.map(function(t){return o(t,e.routingPath)})).reduce(function(t,s,i){return Object.assign(t,s)})}createServiceInstance(){var e=this,t=e.body,s=this.data,i,d=e.getClass().__definition,f=A&&t.getAttribute("serviceClass")!==null?t.getAttribute("serviceClass"):null;return new Promise(function(w,g){var T=!!(Object.hasOwnProperty.call(t,"enableServiceClass")&&t.enableServiceClass||!Object.hasOwnProperty.call(t,"enableServiceClass")),M=!!(A&&t.getAttribute("response-to")!==null&&t.getAttribute("response-to")==="data"),q=!!(A&&t.getAttribute("response-to")!==null&&t.getAttribute("response-to")==="template");if(T&&f!==null&&(i=D(f)),!M&&d&&Object.hasOwnProperty.call(d,"responseTo")?M=d.responseTo==="data":!M&&Object.hasOwnProperty.call(D("Component"),"responseTo")&&(M=D("Component").responseTo==="data"),!q&&d&&Object.hasOwnProperty.call(d,"responseTo")?q=d.responseTo==="template":!q&&Object.hasOwnProperty.call(D("Component"),"responseTo")&&(q=D("Component").responseTo==="template"),typeof i<"u"&&typeof T<"u"&&T===!0&&(M||q)){v.info("Loading service "+f);var se=ye(i,{data:s});m(se).then(function({request:V,service:me}){var pe;typeof me.JSONresponse<"u"&&me.JSONresponse!==null?pe=me.JSONresponse:pe=me.template,M&&(typeof s=="object"&&typeof pe=="object"?s=Object.assign(s,pe):s=pe,e.data=s),e.serviceInstance=se,e.serviceData=s,q&&(e.template=pe),w(pe)},function(V){v.debug(`Service loading rejected for ${f} in ${e.name}`),g(V)}).catch(function(V){throw v.debug("Something went wroing while trying to load the service "+f),Error(`Error loading ${f} for ${e.name}. Detail: ${V}`)})}else w(null)})}_bindroute_(){var e=this;e._bindroute_.loaded?v.debug(`Routes already bound to popstate events for ${e.name}`):(A&&e.hostElements("a").map(function(t){return t.oldclick=t.onclick,t.onclick=function(s){var i=!0;c.global.get("routingPaths")||c.global.set("routingPaths",[]);var d=c.CONFIG.get("routingWay"),f=s.target[d];return c.global.get("routingPaths").includes(f)&&s.target[d]!==document.location[d]&&s.target.href!==document.location.href?(v.debug("A ROUTING WAS FOUND: "+f),window.history.pushState({href:s.target.href},s.target.href,s.target.href),D("Component").route(),i=!1):v.debug("NO ROUTING FOUND FOR: "+f),typeof s.target.oldclick<"u"&&typeof s.target.oldclick=="function"&&s.target.oldclick.call(s.target,s),i},null}),this._bindroute_.loaded=!0)}done(e){var t;if(typeof e<"u"){var{request:s,component:i}=e;t=Promise.resolve({request:s,component:i})}return t}createControllerInstance(){var e;if(A){if(typeof this.body>"u")throw new Error("The component has no body");var t=this.body.getAttribute("controllerClass");t||(t="Controller"),e=D(t),typeof e<"u"&&(this.controller=ye(e,{component:this}))}return new Promise((s,i)=>{if(A&&typeof e<"u"&&typeof this.controller<"u"){if(typeof this.controller.done=="function")try{this.controller.done.call(this.controller)}catch(d){throw Error(d)}else v.debug(`${t} does not have a done() method.`),i(`${t} does not have a done() method.`);typeof this.controller.createRoutingController=="function"?this.controller.createRoutingController.call(this.controller):v.debug(`${t} does not have a createRoutingController() method.`)}s({component:this,controller:this.controller})})}createEffectInstance(){var e=this;return new Promise(function(t,s){if(A){var i=e.body.getAttribute("effectClass"),d=e.body.getAttribute("apply-effect-to");d=d!==null?d:"load",i!==null&&d==="observe"?e.applyObserveTransitionEffect(i):i!==null&&d==="load"&&e.applyTransitionEffect(i)}t({component:e,effect:e.effect})})}createViewInstance(){var e=this;return new Promise(function(t,s){var i=A?e.body.getAttribute("viewClass"):null;if(i!==null){var d=D(i);typeof d<"u"&&(e.view=ye(d,{component:e}),Object.hasOwnProperty.call(e.view,"done")&&typeof e.view.done=="function"&&e.view.done.call(e.view))}t({component:e,view:e.view})})}__done__(){var e=this,t=y(function(){if(typeof e>"u")throw new Error("componentDone() has lost its context");if(typeof e.body>"u")throw new Error("The component has no body");e.createViewInstance(),e.createControllerInstance(),e.createEffectInstance(),v.debug(`Trying to run component helpers for ${e.name}...`);try{e.runComponentHelpers(),v.debug(`Component helpers for ${e.name} executed.`)}catch(s){throw v.debug(`Component helpers for ${e.name} could not be executed.`),Error(s)}e.subcomponents=e.__buildSubComponents__(),e._bindroute_(),e.body.setAttribute("loaded",!0)},"componentDone");return new Promise(function(s,i){try{Promise.resolve(t.call(e))}catch(d){i(d)}})}hostElements(e){var t=this,s=t.shadowed&&typeof t.shadowRoot<"u"?t.shadowRoot.subelements(e):t.body.subelements(e);return s}get subtags(){var e=this,t=fe;return e.hostElements(t)}get bodyAttributes(){var e=this,t=e.body;return A?[...t.getAttributeNames()].map(s=>({[s]:t.getAttribute(s)})).reduce((s,i,d)=>Object.assign(s,i)):{}}get dataAttributes(){var e=this,t=e.body;return A?[{}].concat([...t.getAttributeNames()].filter(s=>s.startsWith("data-")).map(s=>({[s.split("-")[1]]:t.getAttribute(s)}))).reduce((s,i,d)=>Object.assign(s,i)):{}}__buildSubComponents__(e=!1){var t=this,s=t.subtags;return e||(s=s.filter(i=>i.getAttribute("loaded")!=="true")),(typeof t<"u"||t.subcomponents.length<1)&&(t.subcomponents=l(s,t)),t.subcomponents}fail(e){var t;if(typeof e<"u"){var{error:s,component:i}=e;t=Promise.resolve({error:s,component:i})}return t}set(e,t){this[e]=t}get(e){return this[e]}feedComponent(){var e=this;v.debug(`[Component][${this.name}][feedComponent] start feeding component...`);var t=y(function(d){if(typeof d.container>"u"&&typeof d.body>"u"){v.warn("COMPONENT {{NAME}} has an undefined container and body".replace("{{NAME}}",d.name));return}var f=typeof d.container>"u"||d.container===null?d.body:d.container,w=d.parsedAssignmentText;if(d.innerHTML=w,d.shadowed){v.debug("COMPONENT {{NAME}} is shadowed".replace("{{NAME}}",d.name)),v.debug("Preparing slots for Shadowed COMPONENT {{NAME}}".replace("{{NAME}}",d.name));var g=ee("div");f.subelements("[slot]").map(function(q){q.parentElement===f&&g.appendChild(q)}),v.debug("Creating shadowedContainer for COMPONENT {{NAME}}".replace("{{NAME}}",d.name));var T=ee("div");T.classList.add("shadowHost");try{d.shadowRoot=T.attachShadow({mode:"open"})}catch{try{v.debug("Shadowed COMPONENT {{NAME}} is repeated".replace("{{NAME}}",d.name)),d.shadowRoot=T.shadowRoot}catch{v.warn("Shadowed COMPONENT {{NAME}} is not allowed on this browser".replace("{{NAME}}",d.name))}}if(typeof d.shadowRoot<"u"&&d.shadowRoot!==null){d.reload?(v.debug("FORCED RELOADING OF CONTAINER FOR Shadowed COMPONENT {{NAME}}".replace("{{NAME}}",d.name)),T.shadowRoot.innerHTML=d.innerHTML):(g.innerHTML=d.parseTemplate(g.innerHTML),v.debug("ADDING Shadowed COMPONENT {{NAME}} ".replace("{{NAME}}",d.name)),T.shadowRoot.innerHTML+=d.innerHTML),v.debug("ADDING Slots to Shadowed COMPONENT {{NAME}} ".replace("{{NAME}}",d.name)),T.innerHTML+=g.innerHTML,v.debug("APPENDING Shadowed COMPONENT {{NAME}} to Container ".replace("{{NAME}}",d.name));var M=f.querySelector(".shadowHost");typeof M<"u"&&M!==null?(v.debug("Shadowed Container for COMPONENT {{NAME}} is already present in the tree ".replace("{{NAME}}",d.name)),d.shadowRoot.innerHTML=T.shadowRoot.innerHTML):f.appendChild(T)}else v.warn("Shadowed COMPONENT {{NAME}} is bad configured".replace("{{NAME}}",d.name))}else d.reload?(v.debug("FORCED RELOADING OF CONTAINER FOR COMPONENT {{NAME}}".replace("{{NAME}}",d.name)),f.innerHTML=d.innerHTML):f&&d?(v.debug("ADDING COMPONENT {{NAME}} ".replace("{{NAME}}",d.name)),f.innerHTML+=d.innerHTML):v.warn("COMPONENT {{NAME}} is not added to the DOM".replace("{{NAME}}",d.name))},"_feedComponent_InBrowser"),s=y(function(d){var f=d.parsedAssignmentText;d.innerHTML=f},"_feedComponent_InNode"),i;if(!qe(e,"Component")){v.warn("Trying to feed a non component object");return}return A?i=t(e):i=s(e),i}rebuild(){var e=this,t=new Promise(function(s,i){if((typeof e>"u"||e===null)&&i("Component is undefined"),ct(e)&&qe(e,"Component"))switch(!0){case e.get("tplsource")==="none":v.debug("Component "+e.name+" has specified template-source=none, so no template load was done");var d={request:null,component:e};e.__done__().then(function(){typeof e.done=="function"&&e.done.call(e,d),s.call(t,d)},function(){i.call(t,d)});break;case e.get("tplsource")==="inline":v.debug("Component "+e.name+" has specified template-source=inline, so it is assumed that template is already declared"),async function(f){f.feedComponent.bind(f)()}(e);var d={request:null,component:e};e.__done__().then(function(){typeof e.done=="function"&&e.done.call(e,d),s.call(t,d)},function(){i.call(t,d)});break;case(e.get("tplsource")==="default"&&e.get("templateURI")!==""):e.set("url",e.get("basePath")+e.get("templateURI")),u(e,!1).then(function(f){s.call(t,f)},function(f){i.call(t,f)});break;case(e.get("tplsource")==="external"&&e.get("templateURI")!==""):e.set("url",e.get("templateURI")),u(e,!1).then(function(f){s.call(t,f)},function(f){i.call(t,f)});break;case(e.get("tplsource")==="default"&&e.get("templateURI","")===""):v.debug(`Component ${e.name} template-source is ${e.get("tplsource")} and no templateURI is present`),i.call(t,`Component ${e.name} template-source is ${e.get("tplsource")} and no templateURI is present`);break;default:v.debug("Component "+e.name+" will not be rebuilt because no templateURI is present"),i.call(t,{request:null,component:e});break}});return t}Cast(e){let t=B(e).map(s=>s.name.replace(/bound /g,"")).map(s=>({[s]:e[s].bind(this)})).reduce((s,i)=>Object.assign(s,i),{});return ot(this,t)}static route(){var e=this,t,s=!!(ct(e)&&qe(e,"Component")),i=y(function(d){var f=[],w=d.filter(function(g){return typeof g<"u"}).map(function(g){if(typeof g.name<"u")f.push(g.name);else throw new Error(Te(g)+" does not have a name");return new Promise(function(T,M){var q;return typeof g<"u"&&g._reroute_?q=g._reroute_().then(function(){return g.reload=!0,g.rebuild()}).then(function(se){if(Object.hasOwnProperty.call(g,"subcomponents")&&typeof g.subcomponents<"u"&&g.subcomponents.length>0)return v.debug("LOOKING FOR ROUTINGS IN SUBCOMPONENTS FOR: "+g.name),i.call(g,g.subcomponents);v.debug("No subcomponents to look for routings in: "+g.name),g.subtags.length>0&&(g.subcomponents=g.__buildSubComponents__(!0)),T(g)}):typeof g<"u"&&M("Component "+g.name+" is not an instance of Component"),q})});return Promise.all(w).then(function(){v.debug("ROUTING COMPLETED FOR "+f.join(", "))}).catch(function(g){v.warn("ROUTING FAILED FOR "+f.join(", ")+": "+g)})},"__route__");if(s||c.componentsStack)s&&v.debug("loading routings for instance "+e.name),t=i.call(e,s?e.subcomponents:c.componentsStack);else throw v.debug("An undetermined result expected if load routings. So will not be loaded this time."),Error("There is no valid instance and no components stack available to apply rountings");return t}fullscreen(){if(A){var e=this.body;e.requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.msRequestFullscreen&&e.msRequestFullscreen()}}closefullscreen(){A&&(document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen())}_generateRoutingPaths(e){var t=this;return new Promise(function(s,i){A&&n(t.validRoutingWays,t.routingWay)&&typeof e<"u"&&(t.innerHTML=e.innerHTML,t.routingNodes=e.subelements("routing"),t.routings=[],t.routingNodes.map(function(d,f){var w=d.getAttributeNames(),g={};w.map(function(T,M){g[w[M]]=d.getAttribute(w[M])}),t.routings.push(g),t.routingPaths||(t.routingPaths=[]),t.routingPaths.includes(g.path)||t.routingPaths.push(g.path),c.global.get("routingPaths")||c.global.set("routingPaths",[]),c.global.get("routingPaths").includes(g.path)||c.global.get("routingPaths").push(g.path)})),s()})}parseTemplate(e){var t=this,s,i=e;if(Object.hasOwnProperty.call(t,"templateHandler")){var d=t.templateHandler;v.debug(`[Component][${this.name}][parseTemplate] Attempting to use ${d} ...`);var f=D(d),w=ye(f,{component:t,template:i});w.component=t;var g=t.data;if(Object.hasOwnProperty.call(t,"assignRoutingParams")&&t.assignRoutingParams)try{g=Object.assign(g,t.routingParams)}catch{v.debug("[parseTemplate] it was not possible to assign the routing params to the template")}s=w.assign(g)}else v.debug(`[Component][${this.name}][parseTemplate] No value for templateHandler. Using raw content...`),s=i;return s}_reroute_(){var e=this;return new Promise(function(t,s){A&&n(e.validRoutingWays,e.routingWay)&&(e.routingPath=document.location[e.routingWay],e.routingSelected.map(function(i,d){var f=b({COMPONENTS_BASE_PATH:c.CONFIG.get("componentsBasePath"),COMPONENT_NAME:i.name.toString(),TPLEXTENSION:Object.hasOwnProperty.call(i,"tplextension")?i.tplextension:e.tplextension,TPL_SOURCE:"default"});e.templateURI=f}),e.routingSelected.length>0&&(e.template="",e.body.innerHTML="")),t(e)})}lazyLoadImages(){if(A){var e=this,t=e.shadowed?e.shadowRoot:e.body,s=[...t.subelements("img[lazy-src]")],i=y(function(f){f.setAttribute("src",f.getAttribute("lazy-src")),f.onload=()=>{f.removeAttribute("lazy-src")}},"_lazyLoadImages");if("IntersectionObserver"in window){var d=new IntersectionObserver((f,w)=>{f.forEach(g=>{g.isIntersecting&&(i(g.target),w.unobserve(g.target))})});s.map(function(f){return d.observe(f)})}else s.map(i)}return null}applyTransitionEffect(e){var t=D(e);if(typeof t>"u")throw Error(`${e} not found.`);typeof t<"u"&&qe(t,"TransitionEffect")?(this.effect=ye(t,{component:this}),this.effect.apply(this.effect.defaultParams)):v.debug(`${e} is ${Te(t)} but is not a TransitionEffect`)}applyObserveTransitionEffect(e){if(A){var t=this,s=t.shadowed?t.shadowRoot.host:t.body,i=y(function(f){t.applyTransitionEffect(e)},"_applyEffect_");if("IntersectionObserver"in window){var d=new IntersectionObserver((f,w)=>{f.forEach(g=>{g.isIntersecting&&(i(g.target),w.unobserve(g.target))})});d.observe(s)}else i(s)}return null}scrollIntoHash(){if(A){var e=this;if(document.location.hash!==""){var t=e.shadowed?e.shadowRoot:e.body;t.subelements(document.location.hash).map(function(s){typeof s.scrollIntoView=="function"&&s.scrollIntoView(c.CONFIG.get("scrollIntoHash",{behavior:"auto",block:"top",inline:"top"}))})}}}i18n_translate(){if(A&&c.CONFIG.get("use_i18n")){var e=this,t=e.shadowed?e.shadowRoot:e.body,s=c.CONFIG.get("lang","en"),i=navigator.language.slice(0,2),d=c.global.get("i18n");if(s!==i&&typeof d=="object"&&Object.hasOwnProperty.call(d,"messages")){var f=y(function(){var w=this;return new Promise(function(g,T){var M=d.messages.filter(function(q){return Object.hasOwnProperty.call(q,s)&&Object.hasOwnProperty.call(q,i)});t.subelements("ul,li,h1,h2,h3,a,b,p,input,textarea,summary,details,option,component").map(function(q){return M.map(function(se){var V=q.innerHTML;return V=V.replace(new RegExp(`${se[s]}`,"g"),se[i]),q.innerHTML=V,null}),q}),g()})},"callback_i18n");f.call(e).then(function(){v.debug("i18n loaded for component: "+e.name)})}}}addComponentHelper(e){var t=this;t._componentHelpers.push(e)}runComponentHelpers(){if(A){var e=this,t=[];t.push(e.i18n_translate.bind(e)),t.push(e.scrollIntoHash.bind(e)),t.push(e.lazyLoadImages.bind(e)),t=t.concat(e._componentHelpers),t.map(function(s){v.debug(`Executing ${s.name} as component helper for ${e.name}...`),s()})}}},"Component")]),B(D("Component")).map(function(e){H(e)}),A&&window.addEventListener("popstate",function(e){e.stopImmediatePropagation(),e.stopPropagation(),D("Component").route()}),Ne("com.qcobjects.controllers",[y(class extends D("InheritClass"){constructor({component:e,dependencies:t}){if(super({component:e,dependencies:t}),U(this,"component",null),U(this,"dependencies",[]),this.component=e,this.dependencies=t,typeof this.component>"u"||this.component==="null")throw Error(`${Te(this)} must be called with a component`)}routingSelectedAttr(e){return this.component.routingSelected.map(function(t){return t[e]}).filter(function(t){return t}).pop()}isTouchable(){return"ontouchstart"in window||navigator.MaxTouchPoints>0||navigator.msMaxTouchPoints>0}onpress(e,t){try{this.isTouchable()?this.component.body.subelements(e)[0].addEventListener("touchstart",t,{passive:!0}):this.component.body.subelements(e)[0].addEventListener("click",t,{passive:!0})}catch{v.debug("No button to assign press event")}}createRoutingController(){var e=this,t=e.component,s=e.routingSelectedAttr("controllerclass");if(typeof s<"u"){var i=D(s);typeof i<"u"&&(t.routingController=ye(i,{component:t}),Object.hasOwnProperty.call(t.routingController,"done")&&typeof t.routingController.done=="function"&&t.routingController.done.call(t.routingController))}}done(){}},"Controller")]),Ne("com.qcobjects.views",[y(class extends D("InheritClass"){constructor({component:e=void 0,dependencies:t=[]}){if(super(...arguments),typeof this.component>"u"||this.component==="null")throw Error(`${Te(this)} must be called with a component`)}},"View")]),Ne("com.qcobjects.api",[y(class extends D("InheritClass"){constructor(){super(...arguments),U(this,"kind","rest"),U(this,"domain",R),U(this,"basePath",ce),U(this,"url",""),U(this,"method","GET"),U(this,"data",{}),U(this,"reload",!1),U(this,"cached",!1)}set(e,t){this[e]=t}get(e){return this[e]}},"Service")]),Ne("com.qcobjects.api.services",[y(class extends D("Service"){constructor(){super(...arguments),U(this,"method","GET"),U(this,"cached",!1),U(this,"headers",{"Content-Type":"application/json",charset:"utf-8"}),U(this,"JSONresponse",null)}done(e){v.debug("***** RECEIVED RESPONSE:"),v.debug(e.service.template),this.JSONresponse=JSON.parse(e.service.template)}},"JSONService")]),Ne("com.qcobjects.api.config",[y(class extends D("JSONService"){constructor(){super(...arguments),U(this,"method","GET"),U(this,"cached",!1),U(this,"configFileName","config.json"),U(this,"headers",{"Content-Type":"application/json",charset:"utf-8"}),U(this,"JSONresponse",null),this.set("url",this.get("basePath")+this.get("configFileName"))}done(e){v.debug("***** CONFIG LOADED:"),v.debug(e.service.template),this.JSONresponse=JSON.parse(e.service.template),Object.hasOwnProperty.call(this.JSONresponse,"__encoded__")&&(this.JSONresponse=JSON.parse(D("_Crypt").decrypt(this.JSONresponse.__encoded__,Z)));for(var t in this.JSONresponse)c.CONFIG.set(t,this.JSONresponse[t]);this.configLoaded.call(this)}fail(e){this.configLoaded.call(this)}},"ConfigService")]),Ne("com.qcobjects.valueObjects",[y(class extends D("InheritClass"){constructor(){super(...arguments)}},"VO")]);var b=y(function(e){var t="";if(e.TPL_SOURCE==="default"){t="{{COMPONENTS_BASE_PATH}}{{COMPONENT_NAME}}.{{TPLEXTENSION}}";for(var s in e){var i=e[s];t=t.replace("{{"+s+"}}",e[s])}}return t},"ComponentURI"),u=y(function(e,t){var s,i=y(function(w,g){return s=new Promise(function(T,M){var q=w.__promise__,se=Object.hasOwnProperty.call(w,"container")&&typeof w.container<"u"&&w.container!==null?w.container:w.body;if(se!==null){var V=y(function(Le){Le.feedComponent();var gt={request:ue,component:Le};T.call(q,gt)},"_feedComponent_");v.debug("LOADING COMPONENT DATA {{DATA}} FROM {{URL}}".replace("{{DATA}}",K(w.data)).replace("{{URL}}",w.url));var me=y(function(){var Le=pe?0:200;if(ue.status===Le){var gt=ue.responseText;v.debug("Data received {{DATA}}".replace("{{DATA}}",K(gt))),v.debug("CREATING COMPONENT {{NAME}}".replace("{{NAME}}",w.name)),w.template=gt,w.cached&&typeof re<"u"&&re.save(w.name,w.template),V.call(this,w)}else{var qt={request:ue,component:w};M.call(q,qt)}},"_componentLoaded");if(typeof w.template=="string"&&w.template!=="")V.call(this,w);else{var pe=!!w.url.startsWith("file:"),ue=new XMLHttpRequest;if(pe){if("fetch"in c){v.debug("I can use fetch..."),v.debug("It is a file to be loaded, so I will try to use fetch");var Ue=fetch(w.url).then(Le=>{v.debug("I got a response from fetch, so I'll feed the component"),Le.text().then(gt=>{w.template=gt,V.call(this,w)})})}}else try{v.debug("Calling the url of component in async mode."),ue.open(w.method,w.url,!0)}catch{v.debug("Last try has failed... The component cannot be loaded.")}!Ge&&!pe&&ue.setRequestHeader("Content-Type","text/html"),pe||(ue.onload=me);var Pe=y(function(Le){Le=!(typeof Le>"u"||!Le),v.debug("SENDING THE NORMAL REQUEST  "),Le?"fetch"in c||(v.debug("I have to try to load the file using xhr...  "),ue.send(null),ue.status===XMLHttpRequest.DONE&&me.call(this)):(v.debug("Trying to send the data to the component...  "),ue.send(K(w.data)))},"_directLoad");if(w.cached&&!pe){v.debug("USING CACHE FOR COMPONENT: "+w.name);var re=new Se({index:w.cacheIndex,load(Le){Pe.call(this,pe)},alternate(Le){w.method==="GET"?(w.template=Le.cache.getCached(w.cacheIndex),V.call(this,w)):Pe.call(this,pe)}});S.lastCache=re}else v.debug("NOT USING CACHE FOR COMPONENT: "+w.name),Pe.call(this,pe)}}else v.debug("CONTAINER DOESNT EXIST")}),s.then(function(T){return w.__done__().then(function(){var M;return typeof w.done=="function"&&(M=w.done.call(w,T)),Promise.resolve(M)})},function(T){var M;return typeof w.fail=="function"&&(M=w.fail.call(w,T)),Promise.reject(M)}).catch(function(T){v.debug("Something wrong loading the component")}),s},"_componentLoaderInBrowser"),d=y(function(w,g){return s=new Promise(function(T,M){var q=s,se=y(function(ue){ue.feedComponent();var Ue={request:null,component:ue};T.call(q,Ue)},"_feedComponent_");v.debug("LOADING COMPONENT DATA {{DATA}} FROM {{URL}}".replace("{{DATA}}",K(w.data)).replace("{{URL}}",w.url));var V=y(function(ue,Ue){if(ue){var Pe={request:null,component:w};M.call(q,Pe)}else{var re=Ue.toString();v.debug("Data received {{DATA}}".replace("{{DATA}}",K(re))),v.debug("CREATING COMPONENT {{NAME}}".replace("{{NAME}}",w.name)),w.template=re,w.cached&&typeof pe<"u"&&pe.save(w.name,w.template),se.call(this,w)}},"_componentLoaded");if(typeof w.template=="string"&&w.template!=="")se.call(this,w);else{v.debug("Loading the component as a local file in server...");var me=y(function(ue){let Ue=x("fs");v.debug("SENDING THE NORMAL REQUEST  "),Ue.readFile(w.url,V)},"_directLoad");if(w.cached){v.debug("USING CACHE FOR COMPONENT: "+w.name);var pe=new Se({index:w.cacheIndex,load(ue){me.call(this)},alternate(ue){w.method==="GET"?(w.template=ue.cache.getCached(w.cacheIndex),se.call(this,w)):me.call(this)}});S.lastCache=pe}else v.debug("NOT USING CACHE FOR COMPONENT: "+w.name),me.call(this)}}),s.then(function(T){return w.__done__().then(function(){var M;return typeof w.done=="function"&&(M=w.done.call(w,T)),Promise.resolve(M)})},function(T){var M;return typeof w.fail=="function"&&(M=w.fail.call(w,T)),Promise.reject(M)}).catch(function(T){v.debug("Something wrong loading the component")}),s},"_componentLoaderInNode"),f;return A?typeof t<"u"&&t?f=ke(i,arguments):f=i(e,t):f=d(e,t),f},"componentLoader"),m=y(function(e,t){var s=y(function(g,T){var M=new Promise(function(q,se){v.debug("LOADING SERVICE DATA {{DATA}} FROM {{URL}}".replace("{{DATA}}",K(g.data)).replace("{{URL}}",g.url));var V=new XMLHttpRequest;V.withCredentials=g.withCredentials;var me=!0;V.open(g.method,g.url,me);for(var pe in g.headers)try{typeof g.headers[pe]!="function"&&V.setRequestHeader(pe,g.headers[pe])}catch{v.debug("Something went wrong when assign the header "+pe)}V.onload=function(){if(V.status===200){var Pe=V.responseText;if(v.debug("Data received {{DATA}}".replace("{{DATA}}",K(Pe))),v.debug("CREATING SERVICE {{NAME}}".replace("{{NAME}}",g.name)),g.template=Pe,g.cached&&typeof Ue<"u"&&Ue.save(g.name,g.template),typeof g.done=="function"){var re={request:V,service:g};g.done.call(g,re),q.call(M,re)}}else if(typeof g.fail=="function"){var re={request:V,service:g};g.fail.call(g,re),se.call(M,re)}};var ue=y(function(){v.debug("SENDING THE NORMAL REQUEST  ");try{V.send(K(g.data))}catch{v.debug("SOMETHING WRONG WITH REQUEST  "),se.call(M,{request:V,service:g})}},"_directLoad");if(g.cached){var Ue=new Se({index:g.data,load(Pe){ue.call(this)},alternate(Pe){if(g.method==="GET"){if(g.template=Pe.cache.getCached(g.name),typeof g.done=="function"){var re={request:V,service:g};g.done.call(g,re),q.call(M,re)}}else ue.call(this)}});S.lastCache=Ue}else ue.call(this);return V});return M},"_serviceLoaderInBrowser"),i=y(function(g,T){var M=new Promise(function(q,se){if(typeof URL>"u"){S.URL=x("url").URL;let Ve=S.URL}var V=new URL(g.url),me;g.useHTTP2=Object.hasOwnProperty.call(g,"useHTTP2")&&g.useHTTP2;var pe=y(function(Ve){v.debug("LOADING SERVICE DATA (non-browser) {{DATA}} FROM {{URL}}".replace("{{DATA}}",K(g.data)).replace("{{URL}}",g.url));var xt,Ut={http2Client:Pe,request:Ve,service:g,responseHeaders:null};if(typeof g.data=="object"&&g.data!==null&&g.useHTTP2)try{v.debug("Sending data...");let Pt=new Buffer(K(g.data));Ve.write(Pt)}catch{v.debug("It was not possible to send any data")}xt="",Ve.on("response",(Pt,on)=>{v.debug("receiving response..."),Ut.responseHeaders=Pt,xt=""}),Ve.on("data",Pt=>{v.debug("receiving data..."),xt+=""+Pt.toString(),g.template=xt}),g.useHTTP2&&Ve.resume(),Ve.on("end",()=>{v.debug("ending call..."),g.template=xt,Object.hasOwnProperty.call(g,"useHTTP2")&&g.useHTTP2?Pe.destroy():Ve.destroy(),g.done.call(g,Ut),q.call(M,Ut)}),g.useHTTP2&&Ve.end()},"captureEvents");try{var ue;if(g.useHTTP2){v.debug("using http2");var Ue=x("http2"),Pe=Ue.connect(V.origin);ue=Object.assign({":method":g.method,":path":V.pathname},g.options),ue=Object.assign(ue,g.headers),me=Pe.request(ue),me.setEncoding("utf8"),pe(me)}else if(V.protocol==="http:"){var re=x("http"),Le=re.request;ue=Object.assign({url:g.url,headers:g.headers},g.options);var me=Le(g.url);pe(me)}else if(V.protocol==="https:"){var gt=x("https");ue=Object.assign({hostname:V.hostname,port:V.port,path:V.pathname,method:g.method,headers:g.headers},g.options);var qt=gt.request(ue,function(Ve){pe(Ve)});qt.end()}else{var Bt="Protocol not supported: "+V.protocol;throw v.debug(Bt),new Error(Bt)}}catch(Ve){v.debug(Ve),g.fail.call(g,Ve),se.call(M,Ve)}}).catch(function(q){console.log(q),v.debug("Something happened when trying to call the service: "+g.name),g.fail.call(g,q)});return M},"_serviceLoaderInNode"),d=y(function(g,T){var M=new Promise(function(q,se){v.debug(`Calling mockup service ${g.name} ...`);var V={request:null,service:g,responseHeaders:g.responseHeaders};typeof g.mockup=="function"?g.mockup.call(g,V):g.done.call(g,V),q.call(M,V)});return M},"_serviceLoaderMockup"),f=y(function(g,T){var M=new Promise(function(q,se){v.debug(`Calling local service ${g.name} ...`);var V={request:null,service:g,responseHeaders:g.responseHeaders};typeof g.local=="function"?g.local.call(g,V):g.done.call(g,V),q.call(M,V)});return M},"_serviceLoaderLocal"),w;switch(e.kind){case"rest":A?typeof t<"u"&&t?w=ke(s,arguments):w=s(e,t):w=i(e,t);break;case"mockup":w=d(e,t);break;case"local":w=f(e,t);break;default:v.debug(`The value of the kind property of the service ${e.name} is not valid`);break}return w},"serviceLoader");if(te(m),te(u),te(b),te(nt),te(K),te(He),te(ct),te(At),A){Element.prototype.buildComponents=function(e=!1){var t=fe,s=this,i=s.subelements(t);return l(i,null)},HTMLDocument.prototype.buildComponents=Element.prototype.buildComponents,HTMLElement.prototype.buildComponents=Element.prototype.buildComponents;var _=y(class extends HTMLElement{constructor(){super(...arguments);let e=this,t=e.nodeName.toLowerCase(),s=ee("quick-component"),i=e.getAttributeNames();s.setAttribute("name",t),e.hasAttribute("shadowed")||s.setAttribute("shadowed","true"),i.map(function(f){e.hasAttribute(f)&&(s.setAttribute(f,e.getAttribute(f)),e.removeAttribute(f))});var d=e.getAttributeNames().filter(function(f){return f.startsWith("data-")}).map(function(f){return f.split("-")[1]});d.map(function(f){s.setAttribute("data-"+f,e.getAttribute("data-"+f)),e.removeAttribute("data-"+f)}),[...e.children].map(function(f){s.appendChild(f.cloneNode(!0)),f.remove()}),e.append(s)}},"_ComponentWidget_");te(_);var N=y(function(e){customElements.define(e,class extends _{})},"RegisterWidget"),F=y(function(){var e=[...arguments];e.filter(function(t){return typeof t=="string"}).map(function(t){N(t)})},"RegisterWidgets");H(N),H(F),te(N),te(F)}A||Ne("com.qcobjects.api",[y(class extends D("InheritClass"){constructor({domain:e=R,basePath:t=ce,body:s=null,stream:i=null,request:d=null}){super(...arguments),v.debug("Initializing BackendMicroservice...");let f=this;typeof this.body>"u"&&(this.body=null),typeof s<"u"&&(this.body=s),this.cors(),f.stream=i,i.on("data",T=>{var M=d.method.toLowerCase(),q={post:f.post};Object.hasOwnProperty.call(q,M)&&q[M].call(f,T)});var w=d.method.toLowerCase(),g={get:f.get,head:f.head,put:f.put,delete:f.delete,connect:f.connect,options:f.options,trace:f.trace,patch:f.patch};Object.hasOwnProperty.call(g,w)&&g[w].call(f)}cors(){if(this.route.cors){v.debug("Validating CORS...");let{allow_origins:t,allow_credentials:s,allow_methods:i,allow_headers:d}=this.route.cors;var e=this;if(typeof e.headers!="object"&&(e.headers={}),typeof e.route.responseHeaders!="object"&&(e.route.responseHeaders={}),typeof t<"u")if(v.debug("CORS: allow_origins available. Validating origins..."),t==="*"||typeof e.request.headers.origin>"u"||[...t].indexOf(e.request.headers.origin)!==-1)v.debug("CORS: Adding header Access-Control-Allow-Origin=*"),e.route.responseHeaders["Access-Control-Allow-Origin"]="*";else{v.debug("CORS: Origin is not allowed: "+e.request.headers.origin),v.debug("CORS: Forcing to finish the response..."),this.body={};try{this.done()}catch(f){v.debug(`It was not possible to finish the call to the microservice: ${f}`)}}else v.debug("CORS: no allow_origins available. Allowing all origins..."),v.debug("CORS: Adding header Access-Control-Allow-Origin=*"),e.route.responseHeaders["Access-Control-Allow-Origin"]="*";typeof s<"u"?(v.debug(`CORS: allow_credentials present. Allowing ${s}...`),e.route.responseHeaders["Access-Control-Allow-Credentials"]=s.toString()):(v.debug("CORS: No allow_credentials present. Allowing all credentials."),e.route.responseHeaders["Access-Control-Allow-Credentials"]="true"),typeof i<"u"?(v.debug(`CORS: allow_methods present. Allowing ${i}...`),e.route.responseHeaders["Access-Control-Allow-Methods"]=[...i].join(",")):(v.debug("CORS: No allow_methods present. Allowing only GET, OPTIONS and POST"),e.route.responseHeaders["Access-Control-Allow-Methods"]="GET, OPTIONS, POST"),typeof d<"u"?(v.debug(`CORS: allow_headers present. Allowing ${d}...`),e.route.responseHeaders["Access-Control-Allow-Headers"]=[...d].join(",")):(v.debug("CORS: No allow_headers present. Allowing all headers..."),e.route.responseHeaders["Access-Control-Allow-Headers"]="*")}else v.debug("No CORS validation available. You can specify cors in CONFIG.backend.routes[].cors")}head(e){this.done()}get(e){v.debug(`[BackendMicroservice.get] Data received: ${K(e)}`),this.done()}post(e){this.done()}put(e){this.done()}delete(e){this.done()}connect(e){this.done()}options(e){this.done()}trace(e){this.done()}patch(e){this.done()}finishWithBody(e){try{v.debug("[BackendMicroservice.finishWithBody] Ending the stream..."),v.debug(`[BackendMicroservice.finishWithBody] type of body is: ${typeof this.body}`),typeof this.body!="string"&&(this.body=K(this.body)),v.debug(`[BackendMicroservice.finishWithBody] 
 body: ${this.body} `),e.write(this.body),e.end(),v.debug("[BackendMicroservice.finishWithBody] Stream ended.")}catch(t){v.debug(`[BackendMicroservice.finishWithBody] Something went wrong ending the stream: ${t}`)}}done(){v.debug("[BackendMicroservice.done] Finalizing the response...");var e=this,t=e.stream;try{if(v.debug("[BackendMicroservice.done] Sending response headers..."),e.route.responseHeaders)v.debug(`[BackendMicroservice.done] Response headers present: ${Object.keys(e.route.responseHeaders)}`),t.respond(e.route.responseHeaders);else throw Error("[BackendMicroservice.done] No headers present.")}catch(s){v.debug(`[BackendMicroservice.done] Something went wrong sending response headers: ${s}`)}if(e.body!==null)try{v.debug("[BackendMicroservice.done] A body of message is present. Finalizing the response..."),e.finishWithBody.call(e,t)}catch(s){v.debug(`[BackendMicroservice.done] Something went wrong finalizing the response: ${s}`)}else v.debug("[BackendMicroservice.done] No body present. Ending stream..."),t.end()}},"BackendMicroservice")]),Ee("SourceJS",Object,{domain:R,basePath:ce,body:ee("script"),type:"text/javascript",containerTag:"body",url:"",data:{},async:!1,external:!1,set(e,t){this[e]=t},get(e){return this[e]},status:!1,done(){},fail(){},rebuild(){var e=this;try{document.getElementsByTagName(e.containerTag)[0].appendChild(function(t,s,i){return t.type=i.type,t.src=s,t.crossOrigin=Object.hasOwnProperty.call(i,"crossOrigin")?i.crossOrigin:"anonymous",t.async=i.async,t.onreadystatechange=function(){this.readyState==="complete"&&i.done.call(i)},t.onload=function(d){i.status=!0,i.done.call(i,d)},t.onerror=function(d){i.status=!1,i.fail.call(i,d)},i.body=t,t}.call(this,ee("script"),this.external?this.url:this.basePath+this.url,e))}catch(t){e.status=!1,e.fail.call(e,t)}},Cast(e){return ot(this,e)},_new_(e){this.__new__(e),this.rebuild()}}),Ee("SourceCSS",Object,{domain:R,basePath:ce,body:ee("link"),url:"",data:{},async:!1,external:!1,set(e,t){this[e]=t},get(e){return this[e]},done(){},rebuild(){var e=this;A&&window.document.getElementsByTagName("head")[0].appendChild(function(t,s,i){return t.type="text/css",t.rel="stylesheet",t.href=s,t.crossOrigin="anonymous",t.onreadystatechange=function(){this.readyState==="complete"&&i.done.call(i)},t.onload=i.done,i.body=t,t}.call(this,ee("link"),this.external?this.url:this.basePath+this.url,e))},Cast(e){return ot(this,e)},_new_(e){this.__new__(e),this.rebuild()}});var L=y(function(e){return isNaN(e)?new Number(0):new Number(e)},"__to_number");Array.prototype.unique=function(){return this.filter(function(e,t,s){return s.indexOf(e)===t})},Array.unique=function(e){return e.unique()},H(Array.unique),H(Array.prototype.unique),Array.prototype.table=function(){console.table(this)},Array.table=function(e){return e.table()},H(Array.table),H(Array.prototype.table),Array.prototype.sum=function(){return this.reduce(function(e,t){return L(e)+L(t)},0)},Array.sum=function(e){return e.sum()},H(Array.sum),H(Array.prototype.sum),Array.prototype.avg=function(){return this.length<1?0:this.reduce(function(e,t){return(L(e)+L(t))/2})},Array.avg=function(e){return e.avg()},H(Array.avg),H(Array.prototype.avg),Array.prototype.min=function(){return this.reduce(function(e,t){return L(e)<=L(t)?e:t},1/0)},Array.min=function(e){return e.min()},H(Array.min),H(Array.prototype.min),Array.prototype.max=function(){return this.reduce(function(e,t){return L(e)>=L(t)?e:t},0)},Array.max=function(e){return e.max()},H(Array.max),H(Array.prototype.max),Array.prototype.sortBy=function(e,t=!0){var s=t?function(i,d){return d[e]<i[e]?1:-1}:function(i,d){return d[e]>i[e]?1:-1};return this.sort(s)},Array.sortBy=function(e,t,s=!0){return e.sortBy(t,s)},H(Array.sortBy),H(Array.prototype.sortBy),Array.matrix=function(e,t=0){var s=y(function(i){return t},"x_func");return Array.from({length:e},s)},H(Array.matrix),Array.matrix2d=function(e,t=0){var s=y(function(d){return t},"y_func"),i=y(function(d){return Array.from({length:e},s)},"x_func");return Array.from({length:e},i)},H(Array.matrix2d),Array.matrix3d=function(e,t=0){var s=y(function(d){return Array.from({length:e},function(){return t})},"y_func"),i=y(function(d){return Array.from({length:e},s)},"x_func");return Array.from({length:e},i)},H(Array.matrix3d),c.range=function(e,t=0,s=1){return(t===0||typeof t>"u")&&(t=e,e=0),Array.from({length:(t-e)/s+1},function(i,d){return e+d*s})},H(c.range),String.prototype.list=function(){var e=this;return c.range(0,e.length-1).map(function(t){return e[t]})},H(String.prototype.list),c.getDocumentLayout=function(){var e=y((i,d)=>i>d?"landscape":null,"h"),t=y((i,d)=>d>i?"portrait":null,"v"),s=y((i,d)=>i===d?"square":null,"square");return[e(document.documentElement.clientWidth,document.documentElement.clientHeight),t(document.documentElement.clientWidth,document.documentElement.clientHeight),s(document.documentElement.clientWidth,document.documentElement.clientHeight)].filter(i=>i!==null).pop()},Ee("ArrayList",Array,[]),D("ArrayList").matrix=Array.matrix,D("ArrayList").matrix2d=Array.matrix2d,D("ArrayList").matrix3d=Array.matrix3d,H(D("ArrayList").matrix),H(D("ArrayList").matrix2d),H(D("ArrayList").matrix3d),Ee("ArrayCollection",Object,{source:ye(D("ArrayList"),[]),changed(e,t){v.debug("VALUE CHANGED"),v.debug(e),v.debug(t)},push(e){var t=this;v.debug("VALUE ADDED"),v.debug(e),t.source.push(e)},pop(e){var t=this;v.debug("VALUE POPPED"),v.debug(e),t.source.pop(e)},_new_(e){var t=this,s=0;t.source=ye(D("ArrayList"),e);for(var i in t.source)isNaN(i)||(v.debug("binding "+i.toString()),function(d){Object.defineProperty(t,d,{set(f){v.debug("setting "+d+"="+f),t.source[d]=f,t.changed(d,f)},get(){return t.source[d]}})}(i),s++);t.source.length=s,Object.defineProperty(t,"length",{get(){return t.source.length}})}}),Ne("com.qcobjects.effects.base",[y(class extends D("InheritClass"){constructor(){super(...arguments),U(this,"duration",1e3)}animate({timing:e,draw:t,duration:s}){let i=performance.now();requestAnimationFrame(y(C(function d(f){let w=(f-i)/s;w>1&&(w=1);let g=e(w);t(Math.round(g*100)),w<1?requestAnimationFrame(d):typeof this<"u"&&this!==null&&Object.hasOwnProperty.call(this,"done")&&(typeof this.done).toLowerCase()==="function"&&this.done.call(this)},"i"),"animate"))}},"Effect")]),Ne("com.qcobjects.effects.transitions.base",[y(class extends D("Effect"){constructor(){super(...arguments),U(this,"duration",385),U(this,"defaultParams",{alphaFrom:0,alphaTo:1,angleFrom:180,angleTo:0,radiusFrom:0,radiusTo:30,scaleFrom:0,scaleTo:1}),U(this,"fitToHeight",!1),U(this,"fitToWidth",!1),U(this,"effects",[]),v.info("DECLARING TransitionEffect  "),this.component.defaultParams=this.defaultParams}apply({alphaFrom:e,alphaTo:t,angleFrom:s,angleTo:i,radiusFrom:d,radiusTo:f,scaleFrom:w,scaleTo:g}){var T=this;v.info("EXECUTING TransitionEffect  ");var M=T.component.shadowed?T.component.shadowRoot.host:T.component.body;T.fitToHeight&&(M.height=typeof M.offsetParent=="object"&&M.offsetParent!==null?M.offsetParent.scrollHeight:M.getBoundingClientRect().height),T.fitToWidth&&(M.width=typeof M.offsetParent=="object"&&M.offsetParent!==null?M.offsetParent.scrollWidth:M.getBoundingClientRect().width),M.style.display="block",T.effects.map(function(q,se){var V=D(q),me=new V,pe=me.apply,ue=[M].concat(Object.values({alphaFrom:e,alphaTo:t,angleFrom:s,angleTo:i,radiusFrom:d,radiusTo:f,scaleFrom:w,scaleTo:g}));pe.apply(T,ue)})}},"TransitionEffect")]),Ne("com.qcobjects.timing",[y(class extends D("InheritClass"){constructor(){super(...arguments),U(this,"duration",1e3),U(this,"alive",!0)}thread({timing:e,intervalInterceptor:t,duration:s}){var i=this;let d=performance.now();requestAnimationFrame(y(C(function f(w){let g=w-d,T=g/s;T>1&&(T=1);let M=e(T,g);t(Math.round(M*100)),(T<1||s===-1)&&i.alive&&requestAnimationFrame(f)},"d"),"thread"))}},"Timer")]),Ne("com.qcobjects.tools.essentials",[y(class extends D("InheritClass"){constructor(){super(...arguments),U(this,"_toggle",!1),U(this,"_inverse",!0),U(this,"_positive",null),U(this,"_negative",null),U(this,"_dispatched",null),U(this,"_args",{}),this._new_(...arguments)}changeToggle(){this._toggle=!this._toggle}_new_({positive:e,negative:t,args:s}){this._positive=e,this._negative=t,this._args=s}fire(){var e=this,t=new Promise(function(s,i){typeof e._positive=="function"&&typeof e._negative=="function"?(e._inverse?e._dispatched=e._toggle?e._negative.bind(e):e._positive.bind(e):e._dispatched=e._toggle?e._positive.bind(e):e._negative.bind(e),e._dispatched.call(e,e._args),s.call(t,e)):(v.debug("Toggle functions are not declared"),i.call(t,e))}).then(function(s){s.changeToggle()}).catch(function(s){v.debug(s.toString())});return t}},"Toggle")]),function(e){let t=y(function(w,g,T){var M=this;if(typeof w>"u"||w===null)throw Error(`mapper.${g}.${T} does not have a component instance or it is null.`);let q=e.global.get(T),se=w.get(T),V=w.data[T],me=typeof V<"u"?V:typeof se<"u"?se:q,pe="";return typeof me<"u"&&typeof me.map<"u"?pe=me.map(function(ue){let Ue=[...Object.keys(ue)].map(Pe=>` data-${Pe}="${typeof ue[Pe]<"u"&&ue[Pe]!==null?ue[Pe].toString():""}"`).join("");return`<quick-component name="${g}" ${Ue} ></quick-component>`}).join(""):v.debug(`${g}.${T} does not have a map property`),pe},"mapper");ne.setProcessor(t);let s=y(function(w,g,T){var M=`
        /* CSS Document for Mobile Imports */
        @import url("${T}") (orientation:portrait);
        @import url("${T}") (max-width:460px);
        @import url("${T}") (aspect-ratio: 9/16);
        @import url("${T}") (aspect-ratio: 10/16);
        @import url("${T}") (aspect-ratio: 5/8);
        @import url("${T}") (aspect-ratio: 3/4);
        @import url("${T}") (aspect-ratio: 2/3);
        `,q=`
        @import url("${T}") (orientation:landscape) and (min-width:460px);
        @import url("${T}") (aspect-ratio: 16/9) and (min-width:460px);
        @import url("${T}") (aspect-ratio: 16/10) and (min-width:460px);
        @import url("${T}") (aspect-ratio: 8/5) and (min-width:460px);
        @import url("${T}") (aspect-ratio: 4/3) and (min-width:460px);
        @import url("${T}") (aspect-ratio: 3/2) and (min-width:460px);
        `,se={landscape:q,portrait:M};return Object.hasOwnProperty.call(se,g)?se[g]:""},"layout");ne.setProcessor(s);let i=y(function(){let w=[...arguments].slice(1).map(function(g){return{[g.split("=")[0]]:g.split("=")[1]}}).reduce(function(g,T){return Object.assign(g,T)});return`<component ${[...Object.keys(w)].map(function(g){return`${g}=${w[g]}`}).join(" ")}></component>`},"component");ne.setProcessor(i);let d=y(function(){let w=[...arguments].slice(1).map(function(g){return{[g.split("=")[0]]:g.split("=")[1]}}).reduce(function(g,T){return Object.assign(g,T)});return`<quick-component ${[...Object.keys(w)].map(function(g){return`${g}=${w[g]}`}).join(" ")}></quick-component>`},"quick_component");ne.setProcessor(d);let f=y(function(w,g,T){return e.range(g).map(function(M){return T.replace("{{index}}",M.toString())}).join("")},"repeat");ne.setProcessor(f)}(c),Q(function(){c.CONFIG.get("useSDK")||c.__start__()}),te(te),te(X),te(Ne),te(Ee),te(ye),te(oe),te(Q),te(ve),te(A),te(B),function(e){var t;Ne("com.qcobjects",[y((t=class extends D("InheritClass"){constructor(){super(...arguments),U(this,"_GLOBAL",{}),U(this,"__definition",{}),U(this,"__classType","GlobalSettings"),this.set=t.set.bind(this),this.get=t.get.bind(this),this.__start__=t.__start__.bind(this)}static set(i,d){this._GLOBAL[i]=d}static get(i,d){var f;return typeof this._GLOBAL[i]<"u"?f=this._GLOBAL[i]:typeof d<"u"&&(f=d),f}static __start__(){var i=y(function(){var f;return A&&(f=new Promise(function(w,g){"serviceWorker"in navigator&&typeof e.CONFIG.get("serviceWorkerURI")<"u"&&(e.CONFIG.set("serviceWorkerScope",e.CONFIG.get("serviceWorkerScope")?e.CONFIG.get("serviceWorkerScope"):"/"),navigator.serviceWorker.register(e.CONFIG.get("serviceWorkerURI"),{scope:e.CONFIG.get("serviceWorkerScope")}).then(function(T){v.debug("Service Worker Registered"),w.call(f,T)},function(T){v.debug("Error registering Service Worker"),g.call(f,T)}),navigator.serviceWorker.ready.then(function(T){v.debug("Service Worker Ready"),w.call(f,T)},function(T){v.debug("Error loading Service Worker"),g.call(f,T)}))})),f},"__load__serviceWorker"),d=y(function(){return new Promise((f,w)=>{if(A){v.debug("Starting to building components");try{e.componentsStack=document.buildComponents.call(document)}catch(g){throw Error(`Something went wrong trying to start components tree: ${g.message}`)}v.debug("Initializing the service worker"),i.call(e).catch(function(g){v.debug(`error loading the service worker ${g}`)})}f()})},"_buildComponents");v.debug("Starting to load the config settings..."),e.CONFIG.get("useConfigService",!1)?(v.debug("Loading settings using local configuration file..."),e.global.configService=ye(D("ConfigService")),e.global.configService.configLoaded=d,m(e.global.configService)):(v.debug("Starting to load the components..."),d.call(this))}},C(t,"Ye"),t),"GlobalSettings")]),te(D("GlobalSettings")),S=ye(D("GlobalSettings")),e=Xe(S,e),Object.defineProperty(e,"PackagesNameList",{set(s){v.debug("PackagesNameList is readonly")},get(){var s=y(function(i){var d=[];for(var f in i)typeof i[f]<"u"&&typeof i[f]!="function"&&Object.hasOwnProperty.call(i[f],"length")&&i[f].length>0&&(d.push(f),d=d.concat(s(i[f])));return d},"_get_packages_names");return s(he)}}),Object.defineProperty(e,"PackagesList",{set(s){v.debug("PackagesList is readonly")},get(){return e.PackagesNameList.map(function(s){let i=Ne(s),d;return i&&(d={packageName:s,classesList:i.filter(function(f){return He(f)})}),d}).filter(function(s){return typeof s<"u"})}}),Object.defineProperty(e,"ClassesList",{set(s){v.debug("ClassesList is readonly")},get(){var s=[];return e.PackagesList.map(function(i){return s=s.concat(i.classesList.map(function(d){return{packageName:i.packageName,className:i.packageName+"."+d.__definition.__classType,classFactory:d}})),i}),s}}),Object.defineProperty(e,"ClassesNameList",{set(s){v.debug("ClassesNameList is readonly")},get(){return e.ClassesList.map(function(s){return s.className})}}),A&&(Ee("GLOBAL",Y.global),te(D("GLOBAL"))),te(S),e.CONFIG.get("useSDK")&&function(s){var i=s.CONFIG.get("remoteImportsPath"),d=!s.CONFIG.get("useLocalSDK");s.CONFIG.set("remoteImportsPath",s.CONFIG.get("remoteSDKPath"));var f=!1,w="QCObjects-SDK";if(A)f=!0;else{var g=Je("qcobjects-sdk");g!==null?(w="qcobjects-sdk",f=!0):(w="node_modules/qcobjects-sdk/QCObjects-SDK",f=!0)}if(f)if(v.info("Importing SDK... "+w),I&&typeof Tt<"u"){let T=pt()}else X(w,function(){d?v.debug("QCObjects-SDK.js loaded from remote location"):v.debug("QCObjects-SDK.js loaded from local"),s.CONFIG.set("remoteImportsPath",i)},d);else v.debug("SDK has not been imported as it is not available at the moment")}(e)}(c),A&&ke(function(){Q(function(){(function(e){let t=0,s=!1,i=Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight,document.body.clientHeight,document.documentElement.clientHeight),d=Math.max(document.body.scrollWidth,document.documentElement.scrollWidth,document.body.offsetWidth,document.documentElement.offsetWidth,document.body.clientWidth,document.documentElement.clientWidth);function f(w){var g=Math.round(e.scrollY*100/i),T=Math.round(e.scrollX*100/d),M=new CustomEvent("scrollpercent",{detail:{percentX:T,percentY:g}});w.target.dispatchEvent(M);var q="defaultscroll",se=[0,5,10,25,50,75,90,95,100];se.filter(function(V){return V===g}).map(function(V){q="percentY"+g.toString();var me=new CustomEvent(q,{detail:{percentX:T,percentY:g}});w.target.dispatchEvent(me)})}C(f,"a"),y(f,"scrollDispatcher"),document.addEventListener("scroll",function(w){s||(requestAnimationFrame(function(){f(w),s=!1}),s=!0)})})(c)})},null),A||(typeof c.global<"u"&&Object.hasOwnProperty.call(c.global,"_fireAsyncLoad")&&c.global._fireAsyncLoad.call(this),typeof c.global<"u"&&Object.hasOwnProperty.call(c.global,"onload")&&c.global.onload.call(this)),function(e){var t=y(function(){Object.freeze(Object.prototype),Object.freeze(Object)},"__freeze__");e&&c.CONFIG.get("secureObjects",!1)?Q(function(){t()}):c.CONFIG.get("secureObjects",!1)&&t()}(A)}},"w"),"__qcobjects__").call(null,typeof h=="object"&&typeof h.exports=="object"?h.exports=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof ie<"u"?ie:{}:typeof ie=="object"?ie:typeof window=="object"?window:{})}),Ce=G((E,h)=>{var p=Oe();h.exports=p}),Ye=G((E,h)=>{"use strict";Object.defineProperty(E,"__esModule",{value:!0});var p=Ce();(function(c){"use strict";let j=class j extends p.InheritClass{constructor({messages:I=[]}){super({messages:I}),p.CONFIG.get("use_i18n",!1)&&(p.CONFIG.set("lang","en"),c.get("i18n")?c.set("i18n",{messages:c.get("i18n").messages.concat(I)}):c.set("i18n",{messages:I}))}_load_i18n_packages_(){return p.CONFIG.get("i18n_languages",[]).map(I=>{(0,p.Import)(`org.quickcorp.i18n_messages.${I}`)})}};C(j,"r");let S=j;y(S,"i18n_messages"),(0,p.Package)("org.qcobjects.i18n_messages",[S]),new S({})._load_i18n_packages_()})(typeof h=="object"&&typeof h.exports=="object"?h.exports=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof ie<"u"?ie:{}:typeof ie=="object"?ie:typeof window=="object"?window:{})}),je=G(E=>{"use strict";Object.defineProperty(E,"__esModule",{value:!0});var h=Ce();(function(){"use strict";(0,h.Package)("org.qcobjects.models",[y(class extends h.VO{},"Contact")])})()}),ht=G((E,h)=>{"use strict";Object.defineProperty(E,"__esModule",{value:!0}),E.ModalMoveUp=E.ModalMoveDown=E.ModalFade=E.WipeDown=E.WipeUp=E.WipeRight=E.WipeLeft=E.Resize=E.Radius=E.Rotate=E.RotateZ=E.RotateY=E.RotateX=E.MoveYInFromTop=E.MoveYInFromBottom=E.MoveXInFromLeft=E.MoveXInFromRight=E.Move=E.Fade=void 0;var p=Ce(),c=typeof h=="object"&&typeof h.exports=="object"?h.exports=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof ie<"u"?ie:{}:typeof ie=="object"?ie:typeof window=="object"?window:{};(function(){"use strict";let Nt=class Nt extends p.Effect{constructor(){super(...arguments),this.duration=1e3}apply(X,oe,ve){let we=ve-oe;this.animate({duration:this.duration,timing(o){return o},draw(o){p.logger.debug("animation progress: "+o.toString());let r=oe+o*we/100;p.logger.debug("alpha: "+r.toString()),X.style.opacity=r.toString()}})}};C(Nt,"w");let v=Nt;y(v,"Fade");let Te=class Te extends p.Effect{constructor(){super(...arguments),this.duration=1e3}apply(X,oe,ve,we,o){let r=we-oe,n=o-ve;X.style.transform="translate("+oe+"px,"+ve+"px)",this.animate({duration:this.duration,timing(a){return a},draw(a){p.logger.debug("animation progress: "+a.toString());let l=ve+a*n/100,b=oe+a*r/100;p.logger.debug("x: "+b.toString()+" y:"+l.toString()),X.style.transform="translate("+b+"px,"+l+"px)"}})}};C(Te,"r");let be=Te;y(be,"Move"),(0,p.Package)("org.qcobjects.effects.base",[v,be]);let qe=class qe extends be{constructor(){super(...arguments),this.duration=1e3}apply(X){super.apply.call(this,X,X.width,0,0,0)}};C(qe,"f");let Me=qe;y(Me,"MoveXInFromRight");let Ke=class Ke extends be{constructor(){super(...arguments),this.duration=1e3}apply(X){super.apply.call(this,X,-X.width,0,0,0)}};C(Ke,"p");let ae=Ke;y(ae,"MoveXInFromLeft");let rt=class rt extends be{constructor(){super(...arguments),this.duration=1e3}apply(X){super.apply.call(this,X,0,X.height,0,0)}};C(rt,"u");let Se=rt;y(Se,"MoveYInFromBottom");let Qe=class Qe extends be{constructor(){super(...arguments),this.duration=1e3}apply(X){super.apply.call(this,X,0,-X.height,0,0)}};C(Qe,"v");let We=Qe;y(We,"MoveYInFromTop");let Ee=class Ee extends p.Effect{constructor(){super(...arguments),this.duration=1e3}apply(X,oe,ve){let we=ve-oe;this.animate({duration:this.duration,timing(o){return o},draw(o){p.logger.debug("animation progress: "+o.toString());let r=Math.round(oe+o*we/100);p.logger.debug("angle: "+r.toString()),X.style.transform="rotate3d(1,0,0,"+r.toString()+"deg)"}})}};C(Ee,"g");let tt=Ee;y(tt,"RotateX");let D=class D extends p.Effect{constructor(){super(...arguments),this.duration=1e3}apply(X,oe,ve){let we=ve-oe;this.animate({duration:this.duration,timing(o){return o},draw(o){p.logger.debug("animation progress: "+o.toString());let r=Math.round(oe+o*we/100);p.logger.debug("angle: "+r.toString()),X.style.transform="rotate3d(0,1,0,"+r.toString()+"deg)"}})}};C(D,"b");let ut=D;y(ut,"RotateY");let at=class at extends p.Effect{constructor(){super(...arguments),this.duration=1e3}apply(X,oe,ve){let we=ve-oe;this.animate({duration:this.duration,timing(o){return o},draw(o){p.logger.debug("animation progress: "+o.toString());let r=Math.round(oe+o*we/100);p.logger.debug("angle: "+r.toString()),X.style.transform="rotate3d(0,0,1,"+r.toString()+"deg)"}})}};C(at,"O");let De=at;y(De,"RotateZ");let ye=class ye extends p.Effect{constructor(){super(...arguments),this.duration=1e3}apply(X,oe,ve){let we=ve-oe;this.animate({duration:this.duration,timing(o){return o},draw(o){p.logger.debug("animation progress: "+o.toString());let r=Math.round(oe+o*we/100);p.logger.debug("angle: "+r.toString()),X.style.transform="rotate3d(1,1,1,"+r.toString()+"deg)"}})}};C(ye,"G");let ft=ye;y(ft,"Rotate");let te=class te extends p.Effect{constructor(){super(...arguments),this.duration=1e3}apply(X,oe,ve){let we=ve-oe;this.animate({duration:this.duration,timing(o){return o},draw(o){p.logger.debug("animation progress: "+o.toString());let r=oe+o*we/100;p.logger.debug("radius: "+r.toString()),X.style.borderRadius=r.toString()+"px"}})}};C(te,"P");let yt=te;y(yt,"Radius");let Je=class Je extends p.Effect{constructor(){super(...arguments),this.duration=1e3}apply(X,oe,ve){let we=ve-oe;this.animate({duration:this.duration,timing(o){return o},draw(o){p.logger.debug("animation progress: "+o.toString());let r=oe+o*we/100;p.logger.debug("resize: "+r.toString()),X.style.transformOrigin="center",X.style.transform="scale("+r+","+r+")"}})}};C(Je,"y");let z=Je;y(z,"Resize");let dt=class dt extends p.Effect{constructor(){super(...arguments),this.duration=1e3}apply(X,oe,ve){let we=ve-oe;this.animate({duration:this.duration,timing(o){return o},draw(o){p.logger.debug("animation progress: "+o.toString());let r=oe+o*we/100;p.logger.debug("wipe: "+r.toString()),X.style.transformOrigin="right",X.style.transform="scaleX("+r+")"}})}};C(dt,"T");let Y=dt;y(Y,"WipeLeft");let st=class st extends p.Effect{constructor(){super(...arguments),this.duration=1e3}apply(X,oe,ve){let we=ve-oe;this.animate({duration:this.duration,timing(o){return o},draw(o){p.logger.debug("animation progress: "+o.toString());let r=oe+o*we/100;p.logger.debug("wipe: "+r.toString()),X.style.transformOrigin="left",X.style.transform="scaleX("+r+")"}})}};C(st,"L");let he=st;y(he,"WipeRight");let it=class it extends p.Effect{constructor(){super(...arguments),this.duration=1e3}apply(X,oe,ve){let we=ve-oe;this.animate({duration:this.duration,timing(o){return o},draw(o){p.logger.debug("animation progress: "+o.toString());let r=oe+o*we/100;p.logger.debug("wipe: "+r.toString()),X.style.transformOrigin="bottom",X.style.transform="scaleY("+r+")"}})}};C(it,"D");let ze=it;y(ze,"WipeUp");let xe=class xe extends p.Effect{constructor(){super(...arguments),this.duration=1e3}apply(X,oe,ve){let we=ve-oe;this.animate({duration:this.duration,timing(o){return o},draw(o){p.logger.debug("animation progress: "+o.toString());let r=oe+o*we/100;p.logger.debug("wipe: "+r.toString()),X.style.transformOrigin="top",X.style.transform="scaleY("+r+")"}})}};C(xe,"ae");let Ze=xe;y(Ze,"WipeDown"),(0,p.Package)("org.qcobjects.effects.extended",[Me,ae,Se,We,tt,ut,De,ft,yt,z,Y,he,ze,Ze]);let ct=class ct extends v{constructor(){super(...arguments),this.duration=500}};C(ct,"le");let nt=ct;y(nt,"ModalFade");let He=class He extends be{constructor(){super(...arguments),this.duration=300}};C(He,"he");let ot=He;y(ot,"ModalMoveDown");let Ne=class Ne extends be{constructor(){super(...arguments),this.duration=800}};C(Ne,"be");let Xe=Ne;y(Xe,"ModalMoveUp"),(0,p.Package)("org.qcobjects.modal.effects",[nt,ot,Xe])})();var S=c.Fade;E.Fade=S;var j=c.Fade;E.Move=j;var A=c.MoveXInFromRight;E.MoveXInFromRight=A;var I=c.MoveXInFromLeft;E.MoveXInFromLeft=I;var k=c.MoveYInFromBottom;E.MoveYInFromBottom=k;var x=c.MoveYInFromTop;E.MoveYInFromTop=x;var H=c.RotateX;E.RotateX=H;var B=c.RotateY;E.RotateY=B;var ee=c.RotateZ;E.RotateZ=ee;var K=c.Rotate;E.Rotate=K;var de=c.Radius;E.Radius=de;var R=c.Resize;E.Resize=R;var ce=c.WipeLeft;E.WipeLeft=ce;var fe=c.WipeRight;E.WipeRight=fe;var Z=c.WipeUp;E.WipeUp=Z;var Ge=c.WipeDown;E.WipeDown=Ge;var ke=c.ModalFade;E.ModalFade=ke;var $e=c.ModalMoveDown;E.ModalMoveDown=$e;var Re=c.ModalMoveUp;E.ModalMoveUp=Re}),mt=G((E,h)=>{"use strict";Object.defineProperty(E,"__esModule",{value:!0}),E.SwaggerUIComponent=E.ModalEnclosureComponent=E.ModalComponent=E.EmailField=E.TextField=E.InputField=E.ButtonField=E.ShadowedComponent=E.FormField=void 0;var p=Ce(),c=ht(),S=typeof h=="object"&&typeof h.exports=="object"?h.exports=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof ie<"u"?ie:{}:typeof ie=="object"?ie:typeof window=="object"?window:{};(function(de){let be=class be extends p.Component{constructor(z){z.name=typeof z.name<"u"?z.name:"form-field",super(z),this.cached=!1,this.reload=!0}createBindingEvents(){let z;typeof this.fieldType>"u"||this.fieldType==null?z=this.body.subelements("*[data-field]"):z=this.body.subelements(this.fieldType+"[data-field]");for(let Y=0;Y<z.length;Y++){let he=z[Y];he.addEventListener("change",()=>{p.logger.debug("Executing change event binding"),this.executeBindings()}),he.addEventListener("blur",()=>{p.logger.debug("Executing change event binding"),this.executeBindings()}),he.addEventListener("focus",()=>{p.logger.debug("Executing change event binding"),this.executeBindings()}),he.addEventListener("keydown",()=>{p.logger.debug("Executing keydown event binding"),this.executeBindings()})}}executeBinding(z){let Y=z.getAttribute("data-field");p.logger.debug("Binding "+Y+" for "+this.name),this.data[Y]=z.value}executeBindings(){let z;typeof this.fieldType>"u"||this.fieldType==null?z=this.body.subelements("*[data-field]"):z=this.body.subelements(this.fieldType+"[data-field]");for(let Y=0;Y<z.length;Y++){let he=z[Y],ze=he.getAttribute("data-field");p.logger.debug("Binding "+ze+" for "+this.name),this.data[ze]=he.value}}done(z){let Y=super.done(z);return this.executeBindings(),this.createBindingEvents(),p.logger.debug("Field loaded: "+this.fieldType+"[name="+this.name+"]"),Y}};C(be,"r");let R=be;y(R,"FormField"),(0,p.Package)("org.qcobjects.base.components",[R]);let Me=class Me extends p.Component{constructor(z){z.body=(0,p._DOMCreateElement)("div"),super(z),this.container=null,this.shadowed=!0,this.cached=!1,this.controller=null,this.view=null,this.data={}}};C(Me,"f");let ce=Me;y(ce,"ShadowedComponent");let ae=class ae extends R{constructor(z){z.fieldType="button",super(z)}};C(ae,"p");let fe=ae;y(fe,"ButtonField");let Se=class Se extends R{constructor(z){z.fieldType="input",super(z)}};C(Se,"u");let Z=Se;y(Z,"InputField");let We=class We extends R{constructor(z){z.fieldType="textarea",super(z)}};C(We,"v");let Ge=We;y(Ge,"TextField");let tt=class tt extends R{constructor(z){z.fieldType="input",super(z)}};C(tt,"g");let ke=tt;y(ke,"EmailField");let ut=class ut extends p.Component{constructor(z){z.body=(0,p._DOMCreateElement)("div"),super(z),this.name="modalenclosure",this.tplsource="inline",this.cached=!1,this.basePath=p.CONFIG.get("modalBasePath",p.CONFIG.get("remoteSDKPath","")),this.template=`
<!-- The Modal -->
<style>
@import url('https://sdk.qcobjects.dev/css/modal.css');
</style>
<div id="modalInstance_{{modalId}}" class="modal">

<!-- Modal content -->
<div class="modal-content">
<span class="close">&times;</span>
{{content}}
</div>

</div>
`,this.data={}}};C(ut,"b");let $e=ut;y($e,"ModalEnclosureComponent");let De=class De extends p.Component{constructor(z){z.basePath=p.CONFIG.get("modalBasePath",p.CONFIG.get("remoteSDKPath","")),super(z),this.name="modal",this.cached=!1,this.modalEnclosureComponentClass="ModalEnclosureComponent",this.controller=null,this.view=null,this.tplsource="none",this.closeOnClickOutside=!1,this.data={content:"",modalId:0},this.submodal=null,this.data.modalId=this.__instanceID;let Y=(0,p.New)((0,p.ClassFactory)(this.modalEnclosureComponentClass),{name:this.name,basePath:this.basePath,data:this.data});this.subcomponents.push(Y),this.submodal=Y,Y.tplsource==="none"?this.body.innerHTML=Y.parsedAssignmentText:this.body.append(Y.body)}modal(){let z=this.data.modalId;(0,p.Tag)("#modalInstance_"+z+".modal").map(Y=>(Y.style.display="block",new c.ModalFade({}).apply(Y,0,1))),(0,p.Tag)("#modalInstance_"+z+".modal .modal-content").map(Y=>new c.ModalMoveDown({}).apply(Y,0,-document.body.clientHeight,0,0)),(0,p.Tag)("#modalInstance_"+z+".modal .modal-content .close").map(Y=>Y.addEventListener("click",()=>{this.close()},!1)),this.closeOnClickOutside&&window.addEventListener("click",()=>{this.close()},!1)}close(){let z=this.data.modalId;(0,p.Tag)("#modalInstance_"+z+".modal").map(Y=>(Y.style.display="block",new c.ModalFade({}).apply(Y,1,0))),(0,p.Tag)("#modalInstance_"+z+".modal .modal-content").map(function(Y){return new c.ModalMoveUp({}).apply(Y,0,0,0,-document.body.clientHeight)}),setTimeout(function(){(0,p.Tag)("#modalInstance_"+z+".modal").map(Y=>(Y.style.display="none",!0))},900)}rebuild(){let z=super.rebuild();return this.templateURI=(0,p.ComponentURI)({COMPONENTS_BASE_PATH:p.CONFIG.get("componentsBasePath",""),COMPONENT_NAME:"modal",TPLEXTENSION:p.CONFIG.get("tplextension",""),TPL_SOURCE:"default"}),z}};C(De,"O");let Re=De;y(Re,"ModalComponent");let ft=class ft extends p.Component{constructor(){super(...arguments),this.cached=!1,this.basePath=p.CONFIG.get("remoteSDKPath",""),this.tplextension="tpl.html",this.name="swagger-ui"}};C(ft,"G");let v=ft;y(v,"SwaggerUIComponent"),(0,p.Package)("org.qcobjects.form.components",[ce,fe,Z,Ge,ke,$e,Re,v]),de.FormField=R,de.ShadowedComponent=ce,de.ButtonField=fe,de.InputField=Z,de.TextField=Ge,de.EmailField=ke,de.ModalEnclosureComponent=$e,de.ModalComponent=Re,de.SwaggerUIComponent=v})(S);var j=S.FormField;E.FormField=j;var A=S.ShadowedComponent;E.ShadowedComponent=A;var I=S.ButtonField;E.ButtonField=I;var k=S.InputField;E.InputField=k;var x=S.TextField;E.TextField=x;var H=S.EmailField;E.EmailField=H;var B=S.ModalEnclosureComponent;E.ModalEnclosureComponent=B;var ee=S.ModalComponent;E.ModalComponent=ee;var K=S.SwaggerUIComponent;E.SwaggerUIComponent=K}),lt=G((E,h)=>{"use strict";Object.defineProperty(E,"__esModule",{value:!0}),E.GridItemComponent=E.GridComponent=void 0;var p=Ce(),c=typeof h=="object"&&typeof h.exports=="object"?h.exports=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof ie<"u"?ie:{}:typeof ie=="object"?ie:typeof window=="object"?window:{};(function(A){"use strict";let x=class x extends p.Component{constructor(){super(...arguments),this.name="grid-item",this.shadowed=!0,this.tplsource="inline",this.template=`
<img src="{{image}}" />
<p>{{description}}</p>
`,this.cached=!1}};C(x,"r");let I=x;y(I,"GridItemComponent");let H=class H extends p.Component{constructor(ee){super(ee),this.name="grid",this.cached=!1,this.view=null,this.shadowed=!0,this.rows=3,this.cols=3,this.templateURI="",this.data={},this.tplsource="inline",this.template="<p>Loading...</p>",this.body.setAttribute("controllerClass","DataGridController");let K=this.body.getAttribute("subcomponentClass")!==null?this.body.getAttribute("subcomponentClass"):"GridItemComponent";this.body.setAttribute("subcomponentClass",K)}};C(H,"f");let k=H;y(k,"GridComponent"),(0,p.Package)("org.qcobjects.components.grid",[k,I]),A.GridComponent=k,A.GridItemComponent=I})(c);var S=c.GridComponent;E.GridComponent=S;var j=c.GridItemComponent;E.GridItemComponent=j}),jt=G((E,h)=>{"use strict";Object.defineProperty(E,"__esModule",{value:!0}),E.ListItemComponent=E.ListComponent=void 0;var p=Ce(),c=typeof h=="object"&&typeof h.exports=="object"?h.exports=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof ie<"u"?ie:{}:typeof ie=="object"?ie:typeof window=="object"?window:{};(function(A){"use strict";let x=class x extends p.Component{constructor(ee){ee.name="list-item",super(ee),this.shadowed=!1,this.tplsource="inline",this.template='<a href="{{value}}">{{label}}</a>',this.cached=!1}};C(x,"r");let I=x;y(I,"ListItemComponent");let H=class H extends p.Component{constructor(ee){ee.name="list",super(ee),this.shadowed=!0,this.tplsource="inline",this.template="<p>Loading...</p>",this.body.setAttribute("controllerClass","ListController"),this.body.setAttribute("subcomponentClass","ListItemComponent")}};C(H,"f");let k=H;y(k,"ListComponent"),(0,p.Package)("org.qcobjects.components.list",[I,k]),A.ListComponent=k,A.ListItemComponent=I})(c);var S=c.ListComponent;E.ListComponent=S;var j=c.ListItemComponent;E.ListItemComponent=j}),wt=G(E=>{"use strict";Object.defineProperty(E,"__esModule",{value:!0});var h=Ce();(function(){"use strict";(0,h.Package)("org.qcobjects.components.slider",[y(class extends h.Component{constructor(p){super(p),this.tplsource="inline",this.template="<p>Loading...</p>",this.name="slidelist",this.body.setAttribute("controllerClass","DataGridController");let c=this.body.getAttribute("subcomponentClass")!==null?this.body.getAttribute("subcomponentClass"):"GridItemComponent";this.body.setAttribute("subcomponentClass",c)}},"SlideListComponent"),y(class extends h.Component{constructor(p){super(p),this.effectClass="Fade",this.name="slider_item",this.data.slideNumber=this.data.__dataIndex+1,this.template=`
      <div class="qcoSlides" style="display:none">
        <div class="qco-slider__numbertext">{{slideNumber}} / {{__dataLength}}</div>
        <img src="{{image}}" alt="{{title}}"/>
        <div class="qco-slider__text">
          <p>{{label}} <a href="{{link}}">{{category}}</a></p>
        </div>
      </div>
      `,this.tplsource="inline"}},"SlideItemComponent"),y(class extends h.Component{constructor(p){super(p),this.name="slider",this.template=`
      <style>
      /* Slideshow container */
  
      :host a:hover,
      :host a:active,
      :host a:visited {
        color: #ffffff;
      }
  
       {
        color: #ffffff;
      }
  
      :host .prev {left:0;}
      .qco-slider__container {
        max-width: 100%;
        position: relative;
        margin: auto;
        height: 300px;
      }
      :host .qco-slider__container .qcoSlides img {
        object-fit: cover;
        width: 100%;
        height: 300px;
      }
  
      /* Next & previous buttons */
      :host .prev,
      :host .next {
        cursor: pointer;
        position: absolute;
        top: 50%;
        width: auto;
        margin-top: -22px;
        padding: 16px;
        color: white;
        font-weight: bold;
        font-size: 18px;
        transition: 0.6s ease;
        border-radius: 0 3px 3px 0;
        background-color: rgba(1, 1, 1, 0.1);
      }
  
      /* Position the "next button" to the right */
      :host .next {
        right: 0;
        border-radius: 3px 0 0 3px;
      }
  
      /* On hover, add a black background color with a little bit see-through */
      :host .prev:hover,
      :host .next:hover {
        background-color: rgba(0, 0, 0, 0.8);
      }
  
      /* Caption text */
      :host .qco-slider__text {
        color: #f2f2f2;
        font-size: 15px;
  /*      padding: 8px 12px;*/
        position: absolute;
        bottom: 8px;
        width: 100%;
        text-align: center;
        text-shadow: -1px 1px 3px #111111;
        background-color: rgba(1,1,1,0.7);
      }
  
      /* Number text (1/3 etc) */
      :host .qco-slider__numbertext {
        color: #f2f2f2;
        text-shadow: 0px 2px 3px #111111;
        font-size: 12px;
        padding: 8px 12px;
        position: absolute;
        top: 0;
        padding-top: 0;
        margin-top: 10px;
      }
  
      /* The dots/bullets/indicators */
      :host .qcoSlider__dots {
        text-align: center;
        margin: 0 auto;
        padding: 0;
      }
      :host .qcoSlider__dots--dot {
        cursor: pointer;
        height: 10px;
        width: 10px;
        margin: 0 2px;
        background-color: #bbb;
        border-radius: 50%;
        display: inline-block;
        transition: background-color 0.6s ease;
      }
  
      :host .active,
      :host .qcoSlider__dots--dot:hover {
        background-color: #717171;
      }
  
      :host .qco-slider__container .qcoSlides img {
        border-radius: 30px 30px 0px 0px;
      }
  
      </style>
  
      <div class="qco-slider__container">
        <component name="slidelist" componentClass="SlideListComponent" subcomponentClass="SlideItemComponent" serviceClass="{{SERVICE_CLASS}}" ></component>
  
        <a class="prev" onclick="global.get('{{sliderHandler}}').plusSlidesAndStop(-1)">&#10094;</a>
        <a class="next" onclick="global.get('{{sliderHandler}}').plusSlidesAndStop(1)">&#10095;</a>
      </div>
      <br>
  
      <div class="qcoSlider__dots" style="text-align:center">
      </div>
  
      `,this.tplsource="inline",this.shadowed=!0,this.data.SERVICE_CLASS=this.body.getAttribute("serviceClass"),this.data.sliderHandler="slider_"+this.__instanceID.toString(),this.body.setAttribute("controllerClass","SliderController")}},"SliderComponent")])})()}),Mt=G(E=>{"use strict";Object.defineProperty(E,"__esModule",{value:!0});var h=Ce(),p=ht();(function(){"use strict";let S=class S extends h.Component{constructor(A){A.name="notification",A.body=(0,h._DOMCreateElement)("div"),super(A),this.cached=!1,this.tplsource="inline",this.shadowed=!1,this.template=`
    <style>
    div.notification_background {
      display: block; /* Hidden by default */
      position: fixed; /* Stay in place */
      z-index: 1; /* Sit on top */
      padding-top: 100px; /* Location of the box */
      left: 0;
      top: 0;
      bottom:0;
      right:0;
      width: 100%; /* Full width */
      height: 100%; /* Full height */
      overflow: auto; /* Enable scroll if needed */
      background-color: rgb(0,0,0); /* Fallback color */
      background-color: rgba(0,0,0,0.4); /* Black w/ opacity */
      border: none !important;
    }
    div.notification {
      border-radius: 12px !important;
      margin-bottom: 15px;
      padding: 4px 12px;
    }
    .notification.danger {
      background-color: #ffdddd;
      border-left: 6px solid #f44336;
    }
    .notification.success {
      background-color: #ddffdd;
      border-left: 6px solid #4CAF50;
    }
    .notification.info {
      background-color: #e7f3fe;
      border-left: 6px solid #2196F3;
    }
    .notification.warning {
      background-color: #ffffcc;
      border-left: 6px solid #ffeb3b;
    }
    </style>
    <div class="notification_background">
    <div class="notification {{kind}}">
      <p><strong>{{title}}</strong> {{message}}</p>
    </div>
    </div>
    `,this.kinds=["danger","success","info","warning"]}display(A){let I=y(function(k){k.style.display="block";let x=(0,h.New)(p.Move,{duration:900,apply(B){(0,h._super_)("Fade","apply").call(this,B,0,1),(0,h._super_)("Move","apply").call(this,B,0,-document.body.clientHeight,0,0)}}),H=(0,h.New)(p.Move,{duration:650,apply(B){(0,h._super_)("Fade","apply").call(this,B,1,0),(0,h._super_)("Move","apply").call(this,B,0,0,0,-document.body.clientHeight)}});x.apply(k),setTimeout(function(){H.apply(k)},2e3)},"_display_");A.subelements("div.notification_background").map(k=>(0,h.New)(p.Fade,{duration:500}).apply(k,0,1)),A.subelements("div.notification").map(k=>I(k)),setTimeout(function(){A.remove()},2200)}static success(A){let I=(0,h.New)(S,{name:"notification",shadowed:!0,body:(0,h._DOMCreateElement)("div"),data:{kind:"success",title:"Success!",message:`${A}...`}});document.body.append(I);let k=I.shadowed?I.shadowRoot.host:I.body;I.display(k)}static danger(A){let I=(0,h.New)(S,{name:"notification",shadowed:!0,body:(0,h._DOMCreateElement)("div"),data:{kind:"danger",title:"Danger!",message:`${A}...`}});document.body.append(I);let k=I.shadowed?I.shadowRoot.host:I.body;I.display(k)}static info(A){let I=(0,h.New)(S,{name:"notification",shadowed:!0,body:(0,h._DOMCreateElement)("div"),data:{kind:"info",title:"Info!",message:`${A}...`}});document.body.append(I);let k=I.shadowed?I.shadowRoot.host:I.body;I.display(k)}static warning(A){let I=(0,h.New)(S,{name:"notification",shadowed:!0,body:(0,h._DOMCreateElement)("div"),data:{kind:"warning",title:"Warning!",message:`${A}...`}});document.body.append(I);let k=I.shadowed?I.shadowRoot.host:I.body;I.display(k)}};C(S,"w");let c=S;y(c,"NotificationComponent"),(0,h.Package)("org.quickcorp.components.notifications",[c])})()}),It=G((E,h)=>{"use strict";Object.defineProperty(E,"__esModule",{value:!0}),E.CubeSplashScreenComponent=E.VideoSplashScreenComponent=E.SplashScreenComponent=void 0;var p=Ce(),c=ht(),S=typeof h=="object"&&typeof h.exports=="object"?h.exports=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof ie<"u"?ie:{}:typeof ie=="object"?ie:typeof window=="object"?window:{};y(function(k){"use strict";let ee=class ee extends p.Component{constructor(ce){ce.name=typeof ce.name>"u"?"splashscreen":ce.name;let fe=typeof window<"u"&&typeof window.self<"u"&&window===window.self,Z=location.hash===""&&location.pathname==="/"&&location.search===""||p.CONFIG.get("routingWay","pathname")==="hash"&&p.CONFIG.get("start_url","/")===location.hash||p.CONFIG.get("routingWay","pathname")==="pathname"&&p.CONFIG.get("start_url","/")===location.pathname||p.CONFIG.get("routingWay","pathname")==="search"&&p.CONFIG.get("start_url","/")===location.search,Ge=fe&&Z;if(Ge?(ce.basePath=p.CONFIG.get("splashscreenBasePath",p.CONFIG.get("remoteSDKPath","")),typeof ce.data>"u"&&(ce.data={}),ce.data.basePath=ce.basePath):typeof ce<"u"&&typeof ce.body<"u"&&(ce.body.style.display="none"),super(ce),this.cached=!1,this.shadowed=!0,this._bgcolor="",this._enabled_=Ge,this._enabled_){let ke=this.body.getAttribute("duration");ke===null?ke=1e3:ke=parseInt(ke.toString()),this._bgcolor=this.body.style.backgroundColor;let $e=y(()=>{setTimeout(()=>{if(!$e.executed){let Re=this.shadowed?this.shadowRoot?.host:this.body;typeof k.componentsStack<"u"&&k.componentsStack.filter(v=>v.body.hasAttribute("splashscreen")).map(v=>{p.logger.debug(`Splash Screen of Main Component: ${v.name}`),v.splashScreenComponent=this;let be=y(()=>{if(!be.executed){let Me=v.splashScreenComponent,ae=v.shadowed?v.shadowRoot?.host:v.body;v._mainPosition=ae.style.position,typeof ae<"u"&&(ae.style.position="fixed"),v._mainOpacity=ae.style.opacity,Re.style.width="100%",Re.style.height="100%",document.body.style.backgroundColor="#111111",ae.style.opacity="0",setTimeout(function(){typeof Re<"u"&&(document.body.style.backgroundColor=Me?._bgcolor,Re.subelements("#slot-logo").map(Se=>(Se.style.display="block",Se.style.transformOrigin="center",new c.Resize().apply(Se,1,0))),new c.Fade().apply(Re,1,0))},ke-1e3),setTimeout(function(){new c.Fade().apply(ae,0,1),ae.style.position=v._mainPosition,document.body.style.backgroundColor=Me._bgcolor,Re.parentElement!==null&&Re.parentElement.remove()},ke)}be.executed=!0},"SplashScreenHandler");return v.addComponentHelper(be.bind(v))}),$e.executed=!0}})},"_helper_");$e.executed=!1,this.addComponentHelper($e.bind(ce))}}};C(ee,"f");let x=ee;y(x,"SplashScreenComponent"),(0,p.Package)("org.qcobjects.components.base",[x]);let K=class K extends x{constructor(ce){ce.name="videosplashscreen",super(ce),this.cached=!1,this.shadowed=!0,this.tplsource="inline",this.template=`
  <style>
  :host * {
    box-sizing: border-box;
  }

  :host {
    zoom: 1.0;
    width: device-width;
    margin: 0;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    position: absolute;
    padding: 0;
    min-width: 100vw;
    min-height: 100vh;
    width: 100vw;
    height: 100vh;
    overflow: hidden;
    background-color: black;
  }
  #slot-logo::slotted(img) {
      vertical-align: middle;
      display: block;
      width: 40vw;
      left: 0;
      margin: 0;
      padding: 0;
      z-index: 9999999999;
      transform-origin: center;
      transform-style: preserve-3d;
      filter: blur(0em);
      transition: filter 0.5s;
      max-width: 300px;
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      animation: fadeIn 5s;
      -webkit-animation: fadeIn 5s;
      -moz-animation: fadeIn 5s;
      -o-animation: fadeIn 5s;
      -ms-animation: fadeIn 5s;        
  }

  :host * {
    -webkit-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    user-select: none;
    -webkit-touch-callout: none;
    /* prevent callout to copy image, etc when tap to hold */
    -webkit-text-size-adjust: none;
    /* prevent webkit from resizing text to fit */
    -webkit-user-select: none;
    /* prevent copy paste, to allow, change 'none' to 'text' */
  }

  /* FOCUS */
  :host summary:focus,
  :host a:focus,
  :host button:focus {
    outline: none;
  }

  .splashscreen,
  .fullscreen-bg {
    padding: 0;
    margin: 0;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    padding: 0;
    background-attachment: fixed;
    background-position: center;
    background-clip: content-box;
    background-size: cover;
    position: absolute;
    min-width: 100vw;
    min-height: 100vh;
    width: 100vw;
    height: 100vh;
    z-index: 0;
    overflow: hidden;
  }

  .splashscreen .splashcontent {
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    margin: 0 auto;
    width: 100vw;
    height: 100vh;
    padding: 0;
    overflow: hidden;
    z-index: 1;
  }

  .splashscreen .splashcontent p {
    color: white;
  }

  video.fullscreen-bg__video {
    top: 0;
    left: 0;
    bottom: 0;
    right: 0;
    margin: 0;
    padding: 0;
    position: absolute;
    min-width: 100vw;
    min-height: 100vh;
    overflow: hidden;
    z-index: 0;
    object-fit: cover;
    filter: brightness(0.3);
  }
    .splashscreen,
    .fullscreen-bg {
      background-image: url('{{background}}');
    }

    @keyframes fadeIn {
      0% {opacity:0;}
      100% {opacity:1;}
    }
    
    @-moz-keyframes fadeIn {
      0% {opacity:0;}
      100% {opacity:1;}
    }
    
    @-webkit-keyframes fadeIn {
      0% {opacity:0;}
      100% {opacity:1;}
    }
    
    @-o-keyframes fadeIn {
      0% {opacity:0;}
      100% {opacity:1;}
    }
    
    @-ms-keyframes fadeIn {
      0% {opacity:0;}
      100% {opacity:1;}
    }      

  </style>
  <div class="splashscreen">
    <div class="fullscreen-bg splashcontent">
      <video loop muted autoplay playsinline name="media" poster="{{background}}" class="fullscreen-bg__video" data-setup="{}" height="100%">
        <source src="{{video_mp4}}" type="video/mp4">
        <source src="{{video_ogg}}" type="video/ogg">
        <source src="{{video_webm}}" type="video/webm">
      </video>
      <slot id="slot-logo" name="logo"></slot>
    </div>
  </div>

  `}};C(K,"p");let H=K;y(H,"VideoSplashScreenComponent");let de=class de extends x{constructor(ce){ce.name="cubesplashscreen",super(ce),this.cached=!1,this.shadowed=!0,this.tplsource="inline",this.template=`
  <style>
  @keyframes spin {
    0% {
      transform: translateZ(-100px) rotateX(0deg) rotateY(0deg) rotateZ(0deg);
    }

    16% {
      transform: translateZ(-100px) rotateX(180deg) rotateY(180deg) rotateZ(0deg);
    }

    33% {
      transform: translateZ(-100px) rotateX(360deg) rotateY(90deg) rotateZ(180deg);
    }

    50% {
      transform: translateZ(-100px) rotateX(360deg) rotateY(360deg) rotateZ(360deg);
    }

    66% {
      transform: translateZ(-100px) rotateX(180deg) rotateY(360deg) rotateZ(270deg);
    }

    83% {
      transform: translateZ(-100px) rotateX(270deg) rotateY(180deg) rotateZ(180deg);
    }

    100% {
      transform: translateZ(-100px) rotateX(360deg) rotateY(360deg) rotateZ(360deg);
    }
  }

  @keyframes spin-duplicate {
    0% {
      transform: translateZ(-100px) rotateX(0deg) rotateY(0deg) rotateZ(0deg);
    }

    16% {
      transform: translateZ(-100px) rotateX(180deg) rotateY(180deg) rotateZ(0deg);
    }

    33% {
      transform: translateZ(-100px) rotateX(360deg) rotateY(90deg) rotateZ(180deg);
    }

    50% {
      transform: translateZ(-100px) rotateX(360deg) rotateY(360deg) rotateZ(360deg);
    }

    66% {
      transform: translateZ(-100px) rotateX(180deg) rotateY(360deg) rotateZ(270deg);
    }

    83% {
      transform: translateZ(-100px) rotateX(270deg) rotateY(180deg) rotateZ(180deg);
    }

    100% {
      transform: translateZ(-100px) rotateX(360deg) rotateY(360deg) rotateZ(360deg);
    }
  }

  @keyframes roll {
    0% {
      transform: translate3d(-200px, -50px, -400px)
    }

    12% {
      transform: translate3d(0px, 0, -100px)
    }

    25% {
      transform: translate3d(200px, -50px, -400px)
    }

    37% {
      transform: translate3d(0px, -100px, -800px)
    }

    50% {
      transform: translate3d(-200px, -50px, -400px)
    }

    62% {
      transform: translate3d(0px, 0, -100px)
    }

    75% {
      transform: translate3d(200px, -50px, -400px)
    }

    87% {
      transform: translate3d(0px, -100px, -800px)
    }

    100% {
      transform: translate3d(-200px, -50px, -400px)
    }
  }

  #wrapper {
    position: relative;
    width: 200px;
    padding-top: 100px;
    margin: 0 auto;
    perspective: 1200px;
  }

  #platform {
    margin-top: 100px;
  }

  #dice span {
    position: absolute;
    margin: 100px 0 0 100px;
    display: block;
    font-size: 2.5em;
    padding: 10px;
  }

  #dice {
    position: absolute;
    width: 200px;
    height: 200px;
    transform-style: preserve-3d;
    animation: spin 50s infinite linear;
  }

  .side {
    position: absolute;
    width: 200px;
    height: 200px;
    background: none;
    box-shadow: inset 0 0 40px #fff0;
    border-radius: 40px;
  }

  #dice .cover, #dice .inner {
    background: #e0e0e0;
    box-shadow: none;
  }

  #dice .cover {
    border-radius: 0;
    transform-origin: center;
    transform: translateZ(0px);
  }

  #dice .cover.x {
    transform-origin: center;
    transform: rotateY(90deg);
  }

  #dice .cover.z {
    transform-origin: center;
    transform: rotateX(90deg);
  }

  #dice .front {
    transform-origin: center;
    transform: translateZ(100px);
  }

  #dice .front.inner {
    transform-origin: center;
    transform: translateZ(98px);
  }

  #dice .back {
    transform-origin: center;
    transform: rotateX(-180deg) translateZ(100px);
  }

  #dice .back.inner {
    transform-origin: center;
    transform: rotateX(-180deg) translateZ(98px);
  }

  #dice .right {
    transform-origin: center;
    transform: rotateY(90deg) translateZ(100px);
  }

  #dice .right.inner {
    transform-origin: center;
    transform: rotateY(90deg) translateZ(98px);
  }

  #dice .left {
    transform-origin: center;
    transform: rotateY(-90deg) translateZ(100px);
  }

  #dice .left.inner {
    transform-origin: center;
    transform: rotateY(-90deg) translateZ(98px);
  }

  #dice .top {
    transform-origin: center;
    transform: rotateX(90deg) translateZ(100px);
  }

  #dice .top.inner {
    transform-origin: center;
    transform: rotateX(90deg) translateZ(98px);
  }

  #dice .bottom {
    transform-origin: center;
    transform: rotateX(-90deg) translateZ(100px);
  }

  #dice .bottom.inner {
    transform-origin: center;
    transform: rotateX(-90deg) translateZ(98px);
  }

  .dot {
    position: absolute;
    width: 46px;
    height: 46px;
    border-radius: 23px;
    background: #444;
    box-shadow: inset 5px 0 10px #000;
  }

  .dot.center {
    margin: 77px 0 0 77px;
  }

  .dot.dtop {
    margin-top: 20px;
  }

  .dot.dleft {
    margin-left: 134px;
  }

  .dot.dright {
    margin-left: 20px;
  }

  .dot.dbottom {
    margin-top: 134px;
  }

  .dot.center.dleft {
    margin: 77px 0 0 20px;
  }

  .dot.center.dright {
    margin: 77px 0 0 134px;
  }

  #background {
    top: 0px;
    left: 0px;
    position: fixed;
    z-index: -1;
    width: 100%;
    height: 100%;
    background: var(--root-background, transparent);
    background-size: cover;
    background-origin: border-box;
  }

  #dice .side.front,
  #dice .side.top,
  #dice .side.right,
  #dice .side.left,
  #dice .side.bottom,
  #dice .side.back {
    background-image: var(--background-3d-cube-image, "none");
    background-size: cover;
    background-origin: border-box;
  }


  :root, :host {
    --background-3d-cube-image: url('{{cube_image}}');
    --box-width: 200px;
    font-size:.9em;
    font-family:sans-serif;
    --root-background: {{background}};
  }
  </style>

  <div id="background"></div>
  <div id="wrapper">
    <div id="platform">
      <div id="dice">
        <div class="side front">
        </div>
        <div class="side front inner"></div>
        <div class="side top"></div>
        <div class="side top inner"></div>
        <div class="side right"></div>
        <div class="side right inner"></div>
        <div class="side left"></div>
        <div class="side left inner"></div>
        <div class="side bottom"></div>
        <div class="side bottom inner"></div>
        <div class="side back"></div>
        <div class="side back inner"></div>
        <div class="side cover x"></div>
        <div class="side cover y"></div>
        <div class="side cover z"></div>
      </div>
    </div>
  </div>

  `}};C(de,"u");let B=de;y(B,"CubeSplashScreenComponent"),(0,p.Package)("org.qcobjects.components.splashscreen",[H,B])},"__splash_screen__")(S);var j=S.SplashScreenComponent;E.SplashScreenComponent=j;var A=S.VideoSplashScreenComponent;E.VideoSplashScreenComponent=A;var I=S.CubeSplashScreenComponent;E.CubeSplashScreenComponent=I}),Gt=G(E=>{"use strict";Object.defineProperty(E,"__esModule",{value:!0});var h=Ce();(function(){"use strict";(0,h.Package)("org.qcobjects.controllers",[y(class extends h.Controller{},"GenericController")])})()}),Dt=G(E=>{"use strict";Object.defineProperty(E,"__esModule",{value:!0});var h=Ce();(function(){"use strict";(0,h.Package)("org.qcobjects.controllers.grid",[y(class extends h.Controller{constructor(p){super(p),this.rows=this.component.body.getAttribute("rows"),this.rows=this.rows!==null?this.rows:this.component.rows,this.cols=this.component.body.getAttribute("cols"),this.cols=this.cols!==null?this.cols:this.component.cols}cssGrid(){let p=this.component,c=p.shadowed?p.shadowRoot:p.body;if(typeof this.rows<"u"&&typeof this.cols<"u"){let S=(0,h._DOMCreateElement)("style"),j="auto ".repeat(this.rows),A="auto ".repeat(this.cols),I="grid"+this.__instanceID.toString();S.innerHTML=`.${I}{
          display: grid;           grid-template-rows: ${j};           grid-template-columns: ${A};           margin:0 auto;         }`,c?.append(S),p.shadowed?c?.host.classList.add(I):c.classList.add(I)}}done(){this.cssGrid(),h.logger.debug("GridComponent built")}},"GridController"),y(class extends h.Controller{constructor(p){super(p),this._componentRoot=p.component.shadowed?p.component.shadowRoot:p.component.body,this.rows=p.component.body.getAttribute("rows"),this.rows=p.rows!==null?p.rows:p.component.rows,this.cols=p.component.body.getAttribute("cols"),this.cols=p.cols!==null?p.cols:p.component.cols,h.logger.debug("DataGridController INIT")}getPageIndex(p,c,S){return p=p>0?p-1:0,[S*p/c,S*p/c+S/c]}addSubcomponents(){this.component.subcomponents=[],typeof this._componentRoot<"u"&&(this._componentRoot.innerHTML=""),this.cssGrid(),h.logger.debug((0,h._DataStringify)(this.component.data));try{let p=this.component.body.getAttribute("subcomponentClass");if(p!=null){let c,S,j,A=[...this.component.data],I=this.component.body.getAttribute("paginate-in"),k;I=I!==null?I:"client",I==="client"?(k=this.component.body.getAttribute("page-number"),k=isNaN(k)||k===null?-1:k,k!==-1?(j=this.component.body.getAttribute("total-pages"),j=isNaN(j)?1:j,c=this.getPageIndex(k,j,A.length)[0],S=this.getPageIndex(k,j,A.length)[1]):(c=0,S=A.length,j=1),A=A.slice(c,S)):(c=0,S=A.length,j=1),A.map((x,H,B)=>{try{let ee=(0,h._DOMCreateElement)("component");ee.setAttribute("name",(0,h.ClassFactory)(p).name),ee.setAttribute("shadowed",(0,h.ClassFactory)(p).shadowed),ee.setAttribute("cached",(0,h.ClassFactory)(p).cached),x=Object.assign(x,{__dataIndex:H,__dataLength:B.length,__page:k,__totalPages:j,__limit:S,__offset:c});let K=(0,h.New)((0,h.ClassFactory)(p),{name:"item",data:x,templateURI:(0,h.ComponentURI)({COMPONENTS_BASE_PATH:h.CONFIG.get("componentsBasePath",""),COMPONENT_NAME:(0,h.ClassFactory)(p).name,TPLEXTENSION:h.CONFIG.get("tplextension",""),TPL_SOURCE:(0,h.ClassFactory)(p).tplsource}),body:ee,template:(0,h.ClassFactory)(p).template});K.done=this.component.done.bind(K);try{if(K){K.data.__dataIndex=H,Object.hasOwnProperty.call(this.component.data,"length")&&(K.data.__dataLength=this.component.data.length),h.logger.debug("adding subcomponent to body"),this._componentRoot?.append(K.body);try{this.component.subcomponents.push(K)}catch{h.logger.debug("ERROR LOADING SUBCOMPONENT IN DATAGRID")}}else h.logger.debug("ERROR LOADING SUBCOMPONENT IN DATAGRID")}catch{h.logger.debug("ERROR LOADING SUBCOMPONENT IN DATAGRID")}}catch{h.logger.debug("ERROR LOADING SUBCOMPONENT IN DATAGRID")}})}else h.logger.debug("NO SUBCOMPONENT CLASS IN COMPONENT")}catch{h.logger.debug("No data for component")}}cssGrid(){let p=this.component,c=p.shadowed?p.shadowRoot:p.body;if(typeof this.rows<"u"&&typeof this.cols<"u"){let S=(0,h._DOMCreateElement)("style"),j="auto ".repeat(this.rows),A="auto ".repeat(this.cols),I="grid"+this.__instanceID.toString();S.innerHTML=`.${I}{
          display: grid;           grid-template-rows: ${j};           grid-template-columns: ${A};           margin:0 auto;         }`,p.shadowed?(p.body.append(S),c.host.classList.add(I)):(c?.append(S),c.classList.add(I))}}done(){let p=this.component;h.logger.debug("DataGridController DONE");let c=this.component.body.getAttribute("serviceClass");if(c!=null){let S,j,A=p.body.getAttribute("paginate-in");if(A=A!==null?A:"client",A==="server"){let I=p.body.getAttribute("page-number");I=isNaN(I)||I===null?-1:I;let k;if(I!==-1){let x=this.component.body.getAttribute("server-data-count")!==null?this.component.body.getAttribute("server-data-count"):1;k=this.component.body.getAttribute("total-pages"),k=isNaN(k)?1:k,S=this.getPageIndex(I,k,x)[0],j=this.getPageIndex(I,k,x)[1],p.serviceData=typeof p.serviceData<"u"?p.serviceData:{},p.serviceData.params=typeof p.serviceData.params<"u"?p.serviceData.params:{},p.serviceData.params.offset=S,p.serviceData.params.limit=j}}(0,h.serviceLoader)((0,h.New)((0,h.ClassFactory)(c),{data:p.serviceData}),!1).then(I=>{h.logger.debug("DONE SERVICE COMPONENT"),I.service.JSONresponse=JSON.parse(I.service.template),typeof I.service.JSONresponse.result<"u"?(h.logger.debug((0,h._DataStringify)(I.service.JSONresponse.result)),p.data=I.service.JSONresponse.result):p.data=I.service.JSONresponse,this.addSubcomponents()},I=>{h.logger.debug(I)}).catch(I=>{h.logger.debug("Something went wrong when calling the service from: "+c),h.logger.debug(I.message)})}}},"DataGridController")])})()}),O=G(E=>{"use strict";Object.defineProperty(E,"__esModule",{value:!0});var h=Ce();(function(){"use strict";(0,h.Package)("org.qcobjects.controllers.list",[y(class extends h.Controller{constructor({component:p,dependencies:c=[],valueField:S=void 0,labelField:j=void 0}){super({component:p,dependencies:c,valueField:S,labelField:j}),this.component=p,this._componentRoot=this.component.shadowed?this.component.shadowRoot:this.component.body,this.labelField=this.component.body.getAttribute("label-field"),this.valueField=this.component.body.getAttribute("value-field"),this.rows=this.component.body.getAttribute("rows"),this.rows=this.rows!==null?this.rows:this.component.rows,this.cols=1,h.logger.debug("ListController INIT")}getPageIndex(p,c,S){return p=p>0?p-1:0,[S*p/c,S*p/c+S/c]}addSubcomponents(){this.component.subcomponents=[];let p=this.component.body.getAttribute("layout"),c=h.CONFIG.get("listBasePath",h.CONFIG.get("remoteSDKPath","")),S="";this.labelField=this.component.body.getAttribute("label-field"),this.valueField=this.component.body.getAttribute("value-field"),p==="horizontal"?S=`@import url("${c}css/components/horizontal-list.css");`:S=`@import url("${c}css/components/list.css");`,typeof this._componentRoot<"u"&&(this._componentRoot.innerHTML=`<style>${S}</style><ul></ul>`),h.logger.debug((0,h._DataStringify)(this.component.data));try{let j=this.component.body.getAttribute("subcomponentClass");if(j!=null){let A,I,k,x=[...this.component.data],H=this.component.body.getAttribute("paginate-in");H=H!==null?H:"client";let B;H==="client"?(B=this.component.body.getAttribute("page-number"),B=isNaN(B)||B===null?-1:B,B!==-1?(k=this.component.body.getAttribute("total-pages"),k=isNaN(k)?1:k,A=this.getPageIndex(B,k,x.length)[0],I=this.getPageIndex(B,k,x.length)[1]):(A=0,I=x.length,k=1),x=x.slice(A,I)):(A=0,I=x.length,k=1),x.map((ee,K)=>{try{let de=(0,h._DOMCreateElement)("li");ee.label=ee[this.labelField],ee.value=ee[this.valueField];let R=(0,h.New)((0,h.ClassFactory)(j),{name:"list-item",data:{label:ee[this.labelField],value:ee[this.valueField],__dataIndex:K,__page:B,__totalPages:k,__limit:I,__offset:A},templateURI:(0,h.ComponentURI)({COMPONENTS_BASE_PATH:h.CONFIG.get("componentsBasePath",""),COMPONENT_NAME:(0,h.ClassFactory)(j).name,TPLEXTENSION:h.CONFIG.get("tplextension",""),TPL_SOURCE:(0,h.ClassFactory)(j).tplsource}),body:de,template:(0,h.ClassFactory)(j).template});R.done=this.component.done.bind(R);try{if(R){R.data.__dataIndex=K,Object.hasOwnProperty.call(this.component.data,"length")&&(R.data.__dataLength=this.component.data.length),h.logger.debug("adding subcomponent to body"),this._componentRoot.subelements("ul").map(ce=>ce.append(R));try{this.component.subcomponents.push(R)}catch{h.logger.debug("ERROR LOADING SUBCOMPONENT IN DATAGRID")}}else h.logger.debug("ERROR LOADING SUBCOMPONENT IN DATAGRID")}catch{h.logger.debug("ERROR LOADING SUBCOMPONENT IN DATAGRID")}}catch{h.logger.debug("ERROR LOADING SUBCOMPONENT IN DATAGRID")}})}else h.logger.debug("NO SUBCOMPONENT CLASS IN COMPONENT")}catch{h.logger.debug("No data for component")}}cssGrid(){let p=this.component,c=p.shadowed?p.shadowRoot:p.body;if(typeof this.rows<"u"&&typeof this.cols<"u"){let S=(0,h._DOMCreateElement)("style"),j="auto ".repeat(this.rows),A="auto ".repeat(this.cols),I="grid"+this.__instanceID.toString();S.innerHTML=`.${I}{
            display: grid;             grid-template-rows: ${j};             grid-template-columns: ${A};             margin:0 auto;           }`,c.append(S),c.classList.add(I)}}done(){this.cssGrid();let p=this.component;h.logger.debug("ListController DONE");let c=this.component.body.getAttribute("serviceClass");if(c!=null){let S,j,A=p.body.getAttribute("paginate-in");if(A=A!==null?A:"client",A==="server"){let I=p.body.getAttribute("page-number");I=isNaN(I)||I===null?-1:I;let k;if(I!==-1){let x=this.component.body.getAttribute("server-data-count")!==null?this.component.body.getAttribute("server-data-count"):1;k=this.component.body.getAttribute("total-pages"),k=isNaN(k)?1:k,S=this.getPageIndex(I,k,x)[0],j=this.getPageIndex(I,k,x)[1],p.serviceData=typeof p.serviceData<"u"?p.serviceData:{},p.serviceData.params=typeof p.serviceData.params<"u"?p.serviceData.params:{},p.serviceData.params.offset=S,p.serviceData.params.limit=j}}(0,h.serviceLoader)((0,h.New)((0,h.ClassFactory)(c),{data:p.serviceData}),!1).then(I=>{h.logger.debug("DONE SERVICE COMPONENT"),I.service.JSONresponse=JSON.parse(I.service.template),typeof I.service.JSONresponse.result<"u"?(h.logger.debug((0,h._DataStringify)(I.service.JSONresponse.result)),p.data=I.service.JSONresponse.result):p.data=I.service.JSONresponse,this.addSubcomponents()},I=>{h.logger.debug(I)}).catch(I=>{h.logger.debug("Something went wrong when calling the service from: "+c),h.logger.debug(I.message)})}}},"ListController")])})()}),_t=G((E,h)=>{"use strict";Object.defineProperty(E,"__esModule",{value:!0});var p=Ce();(function(c){"use strict";(0,p.Package)("org.qcobjects.controllers.slider",[y(class extends p.Controller{constructor({component:S,dependencies:j=[],duration:A=7100,slideIndex:I=0,interval:k=null,sliderHandlerName:x=null}){super({component:S,dependencies:j,duration:A,slideIndex:I,interval:k,sliderHandlerName:x}),this.slideIndex=0,this.duration=7100,this.interval=null,this.sliderHandlerName="",this.component=S,this._componentRoot=S.shadowed?S.shadowRoot:S.body,this.sliderHandlerName="slider_"+this.component.__instanceID.toString(),c.set(this.sliderHandlerName,this)}stop(){this.interval!=null&&clearInterval(this.interval)}plusSlidesAndStop(S){this.stop(),this.plusSlides(S)}plusSlides(S){this.showSlides(this.slideIndex+=S)}currentSlide(S){this.stop(),this.showSlides(this.slideIndex=S)}automate(){this.interval=setInterval(()=>{this.plusSlides(1)},this.duration)}showSlides(S){let j=this._componentRoot?.subelements(".qcoSlides"),A=this._componentRoot?.subelements(".qcoSlider__dots--dot");S>j.length-1&&(this.slideIndex=0),S<0&&(this.slideIndex=0),j.filter((I,k)=>k!==this.slideIndex).map(I=>(0,p.New)((0,p.ClassFactory)("Fade"),{}).apply(I,1,0)),A.filter((I,k)=>k!==this.slideIndex).map(I=>I.classList.remove("active"));try{A[this.slideIndex].classList.add("active")}catch(I){p.logger.debug(`Something went wrong when trying to activate a slide: ${this.slideIndex} - ${I.message}`)}setTimeout(()=>{j.filter((I,k)=>k!==this.slideIndex).map(I=>(I.style.display="none",I.style.display));try{j[this.slideIndex].style.display="block",(0,p.New)((0,p.ClassFactory)("Fade"),{}).apply(j[this.slideIndex],0,1)}catch(I){p.logger.debug(`Something went wrong when trying to show a slide: ${this.slideIndex} - ${I.message}`)}},700)}fillDots(){(this._componentRoot?.subelements(".qcoSlides")).map((S,j)=>{let A=document.createElement("span"),I=`<span class="qcoSlider__dots--dot" onclick="global.get('${this.sliderHandlerName}').currentSlide(${j})"></span>`;return A.innerHTML=I,this._componentRoot?.subelements(".qcoSlider__dots")[0].append(A)})}done(){(this._componentRoot?.subelements(".qcoSlides")).filter((S,j)=>j!==this.slideIndex).map(S=>(S.style.display="none",S.style.display)),setTimeout(()=>{this.fillDots(),this.slideIndex=0,this.showSlides(this.slideIndex),this.automate()},3e3)}},"SliderController")])})(typeof h=="object"&&typeof h.exports=="object"?h.exports=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof ie<"u"?ie:{}:typeof ie=="object"?ie:typeof window=="object"?window:{})}),Ht=G(E=>{"use strict";Object.defineProperty(E,"__esModule",{value:!0});var h=Ce(),p=mt();(function(){"use strict";(0,h.Package)("org.qcobjects.controllers.form",[y(class extends h.Controller{getDefault(){return function(c,S,j){let A={name:"^[a-zA-Z]+(([',. -][a-zA-Z ])?[a-zA-Z]*)*$",email:"^([A-Za-z0-9]+)@([A-Za-z0-9]+).([A-Za-z0-9]+)$"},I=j.getAttribute("pattern")||A[c];return new RegExp(I).test(S)}}},"FormValidations"),y(class extends h.Controller{hasValidation(c){let S=c.getAttribute("data-field"),j=!1;return typeof this.validations<"u"&&Object.hasOwnProperty.call(this.validations,S)&&(j=!0),j}isInvalid(c){let S=!1,j=c.getAttribute("data-field"),A=this.component.data[j],I=y((k,x,H)=>typeof this.validations<"u"&&Object.hasOwnProperty.call(this.validations,k)&&this.validations[k].call(null,k,x,H),"_execValidation");return typeof this.validations<"u"&&!I(j,A,c)&&(S=!0),S}isValid(c){return!this.isInvalid(c)}save(){this.serviceClass!==""?(location.href=this.formSettings.loadingRouting,(0,h.serviceLoader)((0,h.New)((0,h.ClassFactory)(this.serviceClass),{data:this.component.data}),!1).then(c=>{console.log("DONE SERVICE COMPONENT");try{console.log(c.service.JSONresponse)}catch{}location.href=this.formSettings.nextRouting},c=>{h.logger.debug(c),location.href=this.formSettings.backRouting})):h.logger.debug("No service name declared on serviceClass property")}formSaveTouchHandler(){h.logger.debug("Saving data...");let c=this.component.shadowed?(this.component?.shadowRoot).host:this.component.body;if(this.component.executeBindings(),this.formValidatorModal!=null){let S=c.subelements("*[data-field]").filter(k=>this.hasValidation(k)),j=y(function(k,x){return y((H,B)=>B.getAttribute("aria-labelledby")!==null?(B.getAttribute("aria-labelledby")||"").split(" ").map(ee=>H.subelements(`#${ee}`).map(K=>K.innerHTML)).join(" "):null,"_arialabelledby")(k,x)||x.getAttribute("aria-label")||x.getAttribute("placeholder")||x.getAttribute("name")||x.getAttribute("data-field")},"_labelledby"),A=y(function(k){return k.getAttribute("title")||k.getAttribute("aria-title")||""},"_ariatitle"),I=S.filter(k=>this.isInvalid(k));if(I.length>0){let k=`
<details>
    <summary>Please verify the following incorrect fields:</summary>
    <ul>
      <div>
      ${I.map(x=>"<li><div>"+j(c,x)+"</div><div>"+A(x)+"</div></li>").join("")}
      </div>
    </ul>
</details>
`;this.formValidatorModal.body.subelements(".validationMessage")[0].innerHTML=k,this.formValidatorModal.modal()}else this.save()}else h.logger.debug("Unable to find the modal validator..."),h.logger.debug("Saving data..."),this.save()}constructor(c){super(c),this.validations=[],this.serviceClass="",this.formSettings={backRouting:"#",loadingRouting:"#loading",nextRouting:"#signupsuccessful"},this.component=c.component,this.component=this.component.Cast(p.FormField)}done(){h.logger.debugEnabled=!0;try{this.component.createBindingEvents();let c=(0,h._DOMCreateElement)("div");c.className="modal_body",this.formValidatorModal=(0,h.New)(p.ModalComponent,{body:c,subcomponents:[],data:{content:'<div class="validationMessage"></div>'}}),(0,h.Tag)(".modal_body").map(S=>document.body.removeChild(S)),document.body.append(this.formValidatorModal)}catch{h.logger.debug("Unable to create the modal")}this.onpress(".submit",()=>{this.formSaveTouchHandler()})}},"FormController")])})()}),Ot=G(E=>{"use strict";Object.defineProperty(E,"__esModule",{value:!0});var h=Ce();(function(){"use strict";(0,h.Package)("org.qcobjects.controllers.swagger",[y(class extends h.Controller{startSwaggerUI(){if(typeof SwaggerUIBundle<"u"){let p=SwaggerUIBundle({url:h.CONFIG.get("swagger-ui-url","https://petstore.swagger.io/v2/swagger.json"),dom_id:"#"+h.CONFIG.get("swagger-ui-dom_id","swagger-ui"),deepLinking:!0,presets:[SwaggerUIBundle.presets.apis,SwaggerUIStandalonePreset],plugins:[SwaggerUIBundle.plugins.DownloadUrl],layout:"StandaloneLayout"});window.ui=p}}done(){this.component.body.innerHTML='<div id="'+h.CONFIG.get("swagger-ui-dom_id","swagger-ui")+'"></div>';let p=h.CONFIG.get("swagger-ui-package-path","node_modules/swagger-ui-dist/");this.dependencies?.push((0,h.New)(h.SourceJS,{url:p+"swagger-ui-standalone-preset.js",external:h.CONFIG.get("swagger-ui-external",!1)})),this.dependencies?.push((0,h.New)(h.SourceCSS,{url:p+"swagger-ui.css",external:h.CONFIG.get("swagger-ui-external",!1)})),this.dependencies?.push((0,h.New)(h.SourceJS,{url:p+"swagger-ui-bundle.js",external:h.CONFIG.get("swagger-ui-external",!1),done:C(()=>{this.startSwaggerUI()},"done")}))}},"SwaggerUIController")])})()}),et=G(E=>{"use strict";Object.defineProperty(E,"__esModule",{value:!0});var h=Ce();(function(){"use strict";(0,h.Package)("org.qcobjects.modal.controllers",[y(class extends h.Controller{done(){let p=this.component;p.body.innerHTML=p.body.innerHTML.replace("/{{content}}/g",p.submodal.template)}},"ModalController")])})()}),Et=G(E=>{"use strict";Object.defineProperty(E,"__esModule",{value:!0});var h=Ce();(function(){"use strict";(0,h.Package)("org.qcobjects.views",[y(class extends h.View{},"GridView")])})()}),kt=G(E=>{"use strict";Object.defineProperty(E,"__esModule",{value:!0});var h=Ce();(function(){(0,h.Package)("org.qcobjects.tools.canvas",[y(class extends h.InheritClass{drawImageFilled(p,c,S=1,j=0,A=0){let I=Math.max(c.width/p.width,c.height/p.height);I=I*S;let k=c.width/2-p.width/2*I,x=c.height/2-p.height/2*I;c.getContext("2d")?.drawImage(p,j+k,A+x,p.width*I,p.height*I)}getImageResized(p,c,S,j,A=1,I=0,k=0){let x=document.createElement("canvas");return x.width=c,x.height=S,x.style.width=c.toString(),x.style.height=S.toString(),this.drawImageFilled(p,x,A,I,k),j.src=x.toDataURL("image/png"),x}},"CanvasTool")])})()}),$t=G(E=>{"use strict";Object.defineProperty(E,"__esModule",{value:!0});var h=Ce(),p=ht();(function(){(0,h.Package)("org.qcobjects.tools.layouts",[y(class extends h.InheritClass{constructor({component:c=null,dependencies:S=[]}){super({component:c,dependencies:S}),this.dependencies=[]}load(){this.dependencies.push((0,h.New)(h.SourceCSS,{external:!h.CONFIG.get("useLocalSDK",!1),url:h.CONFIG.get("useLocalSDK",!1)?"css/basic-layout.css":h.CONFIG.get("remoteSDKPath",!1)+"css/basic-layout.css"}))}coloredBorder(){setTimeout(function(){(0,h.Tag)("nav").map(c=>{c.style.border="20px solid #3333"}),(0,h.Tag)("nav").map(c=>{c.style.backgroundColor="#129999"}),(0,h.Tag)("component>footer").map(c=>{c.style.background="#876"}),(0,h.Tag)("component>div").map(c=>{c.style.border="3px dashed #fff"}),(0,h.Tag)("component>section").map(c=>{c.style.border="3px solid #000"}),(0,h.Tag)("component>section").map(c=>{c.style.backgroundColor="#fffaaa"}),(0,h.Tag)("component>article").map(c=>{c.style.border="3px dotted #000"}),(0,h.Tag)("component>header").map(c=>{c.style.background="#789"}),(0,h.Tag)("component>footer").map(c=>{c.style.background="#876"}),(0,h.Tag)("component>article:nth-child(1)").map(c=>{c.style.border="1px solid #444"}),(0,h.Tag)("component>article:nth-child(1)").map(c=>{c.style.backgroundColor="#555aaa"}),(0,h.Tag)("component>article:nth-child(2)").map(c=>{c.style.backgroundColor="#aaa333"}),(0,h.Tag)("component>article:nth-child(3)").map(c=>{c.style.backgroundColor="#54da82"}),(0,h.Tag)("*").map(c=>{c.style.color="#fff"}),(0,h.Tag)("component>article").map(c=>p.Fade.apply(c,0,1)),(0,h.Tag)("component>footer").map(c=>p.Fade.apply(c,0,1)),(0,h.Tag)("component>header").map(c=>p.Fade.apply(c,0,1)),(0,h.Tag)("nav").map(c=>{c.style.display="block",c.style.width=c.offsetParent?.scrollWidth.toString()||c.clientWidth.toString(),p.MoveXInFromLeft.apply(c)}),(0,h.Tag)("component>article").map(c=>{c.style.display="block",c.style.height=c.offsetParent?.scrollHeight.toString()||c.clientHeight.toString(),p.MoveYInFromBottom.apply(c)}),(0,h.Tag)("component>article:nth-child(2)").map(c=>{c.style.display="block",c.style.width=c.offsetParent?.scrollWidth.toString()||c.clientWidth.toString(),p.MoveXInFromRight.apply(c)})},300)}},"BasicLayout")])})()}),Ct=G((E,h)=>{"use strict";Object.defineProperty(E,"__esModule",{value:!0}),E.SessionUserToken=void 0;var p=Ce(),c=typeof h=="object"&&typeof h.exports=="object"?h.exports=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof ie<"u"?ie:{}:typeof ie=="object"?ie:typeof window=="object"?window:{};(function(j){"use strict";let I=class I extends p.InheritClass{constructor(x){super(x);let H=this;this.__cache__=new p.ComplexStorageCache({index:H.__instanceID.toString(),load(){let B;return typeof navigator<"u"&&typeof origin<"u"?B=p._Crypt.encrypt(`${navigator.userAgent}|${x.username}|${(+new Date).toString()}`,origin):B=p._Crypt.encrypt(`${x.username}|${(+new Date).toString()}`,p.CONFIG.get("domain","localhost")),I.user={priority:H.__instanceID.toString(),token:B},I.user},alternate(B){I.user=B?.cache.getCached(H.__instanceID.toString())}})}static generateIndex(x){return typeof Buffer<"u"?Buffer.from(x,"ascii").toString("base64"):btoa(x)}getGlobalUser(...x){let H=[x].join("|"),B="userToken_"+I.generateIndex(H);return(typeof j.get(B)>"u"||j.get(B)===null)&&j.set(B,(0,p.New)(I,{username:H})),I.user=j.get(B).user,j.get(B).user}getGlobalUserToken(...x){return this.getGlobalUser(x).token}getGlobalUserId(...x){return this.getGlobalUser(x).id}getGlobalUserPriority(...x){return this.getGlobalUser(x).priority}getLoginCredentialsToken(x,H){return p._Crypt.encrypt(`${x}${H}`,this.getGlobalUserToken(x))}closeGlobalSession(...x){this.getGlobalUser(x);let H=[x].join("|"),B="userToken_"+I.generateIndex(H);typeof j.get(B)<"u"&&(j.get(B).__cache__.clear(),j.set(B,null),I.user={})}};C(I,"r");let A=I;y(A,"SessionUserToken"),A.user={},(0,p.Package)("org.qcobjects.cloud.auth.session.usertoken",[A])})(c);var S=c.SessionUserToken;E.SessionUserToken=S}),Wt=G(E=>{"use strict";Object.defineProperty(E,"__esModule",{value:!0});var h=Ce(),p=Ct();(function(){"use strict";(0,h.Package)("org.qcobjects.cloud.auth.session.data",[y(class extends h.InheritClass{constructor(){super(...arguments),this.__session_container__=null}setSessionContainer(){this.__session_container__=[...arguments]}getSessionContainer(){if(typeof this.__session_container__>"u"||this.__session_container__===null)throw new Error("You need to set a session container first: sessionData.setSessionContainer(...arguments)");return this.__session_container__}getSessionData(...c){let S=sessionStorage.getItem(`${this.index(c)}`),j;return S!==null&&(j=JSON.parse(S)),(typeof j>"u"||j===null)&&(j={}),j}index(...c){if(typeof p.SessionUserToken>"u")throw new Error('You need to import SessionUserToken first: Import ("org.qcobjects.cloud.auth.session.usertoken")');return`session_${btoa(p.SessionUserToken.getGlobalUserToken(c))}`}save(...c){let S=(0,h._DataStringify)(this.sessionData);sessionStorage.setItem(`${this.index(c)}`,S)}get(c,S){let j=this.getSessionData(this.getSessionContainer());return typeof j[c]<"u"?j[c]:S}set(c,S){let j=this.getSessionContainer(),A=this.getSessionData(j);this.sessionData=A,this.sessionData[c]=S,this.save(j)}},"SessionData")])})()}),Rt=G((E,h)=>{Object.defineProperty(E,"__esModule",{value:!0});var p=Ce(),c=typeof h=="object"&&typeof h.exports=="object"?h.exports=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof ie<"u"?ie:{}:typeof ie=="object"?ie:typeof window=="object"?window:{};y(C(function S(j){"use strict";if(typeof Object.defineProperty<"u"&&typeof j<"u")try{Object.defineProperty(j,"__qcobjects_sdk__",{enumerable:!0,configurable:!1,writable:!1,value:S})}catch{typeof j.__qcobjects_sdk__<"u"&&(j.__qcobjects_sdk__.__loaded__=!0)}if(typeof j.__qcobjects_sdk__.__loaded__>"u"){if(j.__qcobjects_sdk__.__loaded__=!0,typeof j>"u")throw Error("Top context empty: It should either global, module or window");let A=p.GlobalSettings.__start__.bind(j),I=[];I=[new Promise(k=>{Ye(),je(),mt(),lt(),jt(),wt(),Mt(),It(),Gt(),Dt(),O(),_t(),Ht(),Ot(),ht(),et(),Et(),kt(),$t(),Ct(),Wt(),k()})],j._sdk_=Promise.all(I).then(()=>{p.CONFIG.set("useSDK",!0),A()})}},"w"),"__qcobjects_sdk__")(c),E.default=c});return Rt()})()});var Yt=Lt((Jt,Vt)=>{"use strict";Object.defineProperty(Jt,"__esModule",{value:!0});var en=Xt();Vt.exports=en});var Zt=Lt((zn,St)=>{C(function Fe(P){"use strict";var qe,Ke,rt,Qe,Ee,D,at,ye,te,Je,dt,st,it;if(typeof Object.defineProperty<"u"&&typeof P<"u")try{Object.defineProperty(P,"__qcobjects__",{enumerable:!0,configurable:!1,writable:!1,value:Fe})}catch{typeof P.__qcobjects__<"u"&&(P.__qcobjects__.loaded=!0)}if(typeof P.__qcobjects__.loaded>"u"){let He=function(o){G?S.push(o.bind(window)):typeof y<"u"&&S.push(o.bind(y))};C(He,"Ready"),P.__qcobjects__.loaded=!0;var y=P;P.global=y;var Tt=typeof window<"u"&&"Deno"in window,G=typeof window<"u"&&typeof window.self<"u"&&window===window.self&&!Tt,U=typeof St<"u",Ft=C(function(){},"deno_require"),pt=C(function(){return Tt?Ft(...arguments):bt(...arguments)},"_require_"),Oe=C(function(o){var r=typeof o.prototype<"u"?o.prototype.toString:function(){return""};typeof o.prototype<"u"&&(o.prototype.toString=function(){var n=["__qcobjects__","__qcobjects_sdk__","__loaded__","ComplexStorageCache","css","append","attachIn","debug","info","warn","QC_Append","set","get","done","componentDone","_new_","__new__","Class","ClassFactory","New","Export","Package","Import","subelements","componentLoader","buildComponents","Controller","View","VO","Service","serviceLoader","JSONService","ConfigService","SourceJS","SourceCSS","ArrayList","ArrayCollection","Effect","Timer","sum","avg","table","max","min","range","matrix","matrix2d","matrix3d","unique","uniqueId","shortCode","NamespaceRef"],a;return n.includes(this.name)?a=this.name+"{ [QCObjects native code] }":a=r.call(this),a})},"_protected_code_");Oe(Function);var Ce=C(function(o){var r=[];for(var n in o)(typeof o[n]).toLowerCase()==="function"&&r.push(o[n]);return r},"_methods_");String.prototype.__mAll__=function(o){var r=[];return this.replace(o,function(){var n=Array.prototype.slice.call(arguments,0,-2);n.input=arguments[arguments.length-1],n.index=arguments[arguments.length-2],r.push(n)}),r},typeof String.prototype.matchAll>"u"&&(String.prototype.matchAll=String.prototype.__mAll__);var Ye=C(function(o){var r;return G?r=document.createElement(o):r={},r},"_DOMCreateElement");if(!G){let o=pt("fs")}var je=C(function(o){var r=C(function(){var n=new WeakSet,a=0;return function(l,b){if(typeof b=="object"&&b!==null){if(n.has(b))return a+=1,a<=3?E(b):null;n.add(b)}return b}},"getCircularReplacer");return JSON.stringify(o,r())},"_DataStringify");if(G){var ht=C(function(r){return[...this.querySelectorAll(r)]},"subelements");Element.prototype.subelements=ht,HTMLDocument.prototype.subelements=ht,HTMLElement.prototype.subelements=ht,typeof ShadowRoot<"u"&&(ShadowRoot.prototype.subelements=ht)}if(G)try{P=typeof window.top<"u"?window.top:window,P._allowed_=!0}catch{try{P=document,P._allowed_=!0}catch{try{P=y,P._allowed_=!0}catch{P={},P._allowed_=!0}}}else typeof y<"u"&&(P=y);var mt,lt,jt="quick-component:not([loaded]),component:not([loaded])";if(lt=function(){var o="";if(G){var r=P.document.baseURI.split("?")[0].split("/");r.pop(),o=r.join("/")+"/"}else{var n;try{n=pt("process")}catch{}typeof n<"u"?o=`${n.cwd()}/`:o=""}return o}(),G){"Promise"in P||(P.Promise=function(o){var r={then(){},catch(){},_then(n){this.then.call(r,n)},_catch(n){this.catch.call(r,n)}};return o.call(r,r._then,r._catch),r}),typeof P.console>"u"&&(P.console=function(){},P.console.prototype.log=function(o){}),mt=function(){return typeof document<"u"&&document.domain!==""?document.domain:"localhost"}();var wt=function(){var o=P["lo"+(typeof[])[4]+"at"+(""+[][[]])[+["10"]/2]+"o"+(""+[][[]])[1]].host.toLowerCase();return o}(),Mt=function(){return typeof cordova<"u"}()}else{var wt="secret";mt="localhost"}P._asyncLoad=[];var It=C(function(o,r){var n={func:o,args:r,dispatch(){this.func.apply(null,this.args)}};return P._asyncLoad.push(n),n},"asyncLoad");if(G){var Gt=C(function(){document.readyState==="complete"&&P._asyncLoad.map(function(o){o.dispatch.call(o)})},"_fireAsyncLoad");document.onreadystatechange=Gt}else typeof P.global<"u"&&(P.global._fireAsyncLoad=function(){P._asyncLoad.map(function(o){o.dispatch.call(o)})});P.asyncLoad=It;var Dt=C(function(){return{debugEnabled:!0,infoEnabled:!0,warnEnabled:!0,debug(o){this.debugEnabled&&console.log("\x1B[35m%s\x1B[0m",`[DEBUG][${performance.now().toLocaleString()}] ${o}`)},info(o){var r;this.infoEnabled&&(G?r="\x1B[103m%s\x1B[0m":r="\x1B[33m%s\x1B[0m",console.info(r,`[INFO][${performance.now().toLocaleString()}] ${o}`))},warn(o){this.warnEnabled&&console.warn("\x1B[31m%s\x1B[0m",`[WARN][${performance.now().toLocaleString()}] ${o}`)}}},"Logger"),O=new Dt;O.debugEnabled=!1,O.infoEnabled=!0,P.logger=O;var _t={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode(o){var r="",n,a,l,b,u,m,_,N=0;for(o=_t._utf8_encode(o);N<o.length;)n=o.charCodeAt(N++),a=o.charCodeAt(N++),l=o.charCodeAt(N++),b=n>>2,u=(n&3)<<4|a>>4,m=(a&15)<<2|l>>6,_=l&63,isNaN(a)?m=_=64:isNaN(l)&&(_=64),r=r+this._keyStr.charAt(b)+this._keyStr.charAt(u)+this._keyStr.charAt(m)+this._keyStr.charAt(_);return r},decode(o){var r="",n,a,l,b,u,m,_,N=0;for(o=o.replace(/[^A-Za-z0-9+/=]/g,"");N<o.length;)b=this._keyStr.indexOf(o.charAt(N++)),u=this._keyStr.indexOf(o.charAt(N++)),m=this._keyStr.indexOf(o.charAt(N++)),_=this._keyStr.indexOf(o.charAt(N++)),n=b<<2|u>>4,a=(u&15)<<4|m>>2,l=(m&3)<<6|_,r=r+String.fromCharCode(n),m!==64&&(r=r+String.fromCharCode(a)),_!==64&&(r=r+String.fromCharCode(l));return r=_t._utf8_decode(r),r},_utf8_encode(o){o=o.replace(/rn/g,"n");for(var r="",n=0;n<o.length;n++){var a=o.charCodeAt(n);a<128?r+=String.fromCharCode(a):a>127&&a<2048?(r+=String.fromCharCode(a>>6|192),r+=String.fromCharCode(a&63|128)):(r+=String.fromCharCode(a>>12|224),r+=String.fromCharCode(a>>6&63|128),r+=String.fromCharCode(a&63|128))}return r},_utf8_decode(o){for(var r="",n=0,a=0,l=0,b=0,u;n<o.length;)a=o.charCodeAt(n),a<128?(r+=String.fromCharCode(a),n++):a>191&&a<224?(b=o.charCodeAt(n+1),r+=String.fromCharCode((a&31)<<6|b&63),n+=2):(b=o.charCodeAt(n+1),u=o.charCodeAt(n+2),r+=String.fromCharCode((a&15)<<12|(b&63)<<6|u&63),n+=3);return r}},Ht=C(function(o,r){var n=C(function(a,l){var b=2e3,u=0,m=setInterval(function(){l.call()?(clearInterval(m),a.call(),O.debug("Ejecuting "+a.name+" after wait")):u<b?(u+=1,O.debug("WAIT UNTIL "+a.name+" is true, "+u.toString()+" cycles")):(O.debug("Max execution time for "+a.name+" expression until true"),clearInterval(m))},1)},"_waitUntil");setTimeout(function(){n(o,r)},1)},"waitUntil");if(typeof Ot>"u")var Ot={getItem(o){return Object.hasOwnProperty.call(this,o)?this[o]:null},setItem(o,r){this[o]=r},removeItem(o){delete this[o]}};var et=C(function(o){var r,n,a;if(r=o.index,typeof r<"u"){n=o.load,a=o.alternate;var l=this.getID(r),b=Ot.getItem(l);if(this.isEmpty(b)){var u=n.call(null,{cachedObjectID:l,cachedResponse:b,cache:this});this.save(r,u),O.debug("RESPONSE OF {{cachedObjectID}} CACHED".replace("{{cachedObjectID}}",l))}else{var m=a.call(null,{cachedObjectID:l,cachedResponse:b,cache:this});O.debug("RESPONSE OF {{cachedObjectID}} IS ALREADY CACHED ".replace("{{cachedObjectID}}",l))}}else throw new Error("ComplexStorageCache: index is undefined");return this},"ComplexStorageCache");if(et.prototype.getItem=function(o){var r=Ot.getItem(o);return this.isEmpty(r)?null:JSON.parse(r)},et.prototype.setItem=function(o,r){Ot.setItem(o,je(r))},et.prototype.isEmpty=function(o){var r=!1;switch(!0){case typeof o>"u":case(typeof o=="string"&&o===""):case(typeof o=="string"&&o==="undefined"):case(typeof o=="number"&&o===0):case o===null:r=!0;break;default:r=!1}return r},et.prototype.getID=function(o){var r;return typeof o<"u"&&(r="cachedObject_"+_t.encode(je(o).replace(/\{|\}|,/g,"_"))),r},et.prototype.save=function(o,r){var n=this.getID(o);O.debug("CACHING THE RESPONSE OF {{cachedObjectID}} ".replace("{{cachedObjectID}}",n)),this.setItem(n,r)},et.prototype.getCached=function(o){var r=this.getID(o);return this.getItem(r)},et.prototype.clear=function(){Object.keys(Ot).filter(function(o){return o.startsWith("cachedObject_")}).map(function(o){Ot.removeItem(o)})},G){var Et=!1;try{var kt=Object.defineProperty({},"passive",{get(){return Et=!0,Et}});window.addEventListener("testPassive",null,kt),window.removeEventListener("testPassive",null,kt)}catch{}var $t=C(function(){return Et?{passive:!0}:!1},"captureFalse")}G&&(Element.prototype.find=function(o){var r=[],n=document.subelements(o);return n.map(function(a,l){typeof n[l]<"u"&&n[l].parentNode.tagName===this.parentNode.tagName&&r.push(A(a,new Object))}),r});var Ct,Wt=function(){var o=Object.prototype.hasOwnProperty;return function(r){if(typeof r!="object")throw TypeError("Object prototype may only be an Object or null. The type is "+typeof r);var n=C(function(){},"QCObjects");n.prototype=r;var a=new n;if(arguments.length>1){var l=Object(arguments[1]);for(var b in l)o.call(l,b)&&(a[b]=l[b])}return a}}();typeof Object.assign!="function"&&Object.defineProperty(Object,"assign",{value:C(function(r,n){"use strict";if(r===null)throw new TypeError("Cannot convert undefined or null to object");for(var a=Object(r),l=1;l<arguments.length;l++){var b=arguments[l];if(b!==null)for(var u in b)Object.prototype.hasOwnProperty.call(b,u)&&(a[u]=b[u])}return a},"assign"),writable:!0,configurable:!0});var Rt=C(function(o){return!!(typeof o=="function"&&o.toString().startsWith("class"))},"__is_raw_class__"),E=C(function(o){var n;var r;switch(!0){case typeof o=="string":r=o;break;case typeof o=="number":r=o;break;case typeof o=="object":r=Object.assign({},o);break;case typeof o=="function":r=o.bind({});break;case Rt(o):r=(n=class extends o{},C(n,"_value_"),n);break;default:break}return r},"_LegacyCopy"),h={},p={},c=[],S=[],j=C(function(o){var r="";return typeof o=="function"&&Object.hasOwnProperty.call(o,"name")&&o.name!==""?r=o.name:typeof o<"u"&&typeof o.constructor=="function"&&o.constructor.name!==""?r=o.constructor.name:typeof o<"u"&&typeof o.constructor=="object"&&(r=o.constructor.toString().replace(/\[(.*?)\]/g,"$1").split(" ").slice(1).join("")),r},"ObjectName"),A=C(function(o,r){for(var n in o)if(typeof o[n]<"u")try{r[n]=o[n]}catch{}return r},"_Cast"),I=C(function(o,r){for(var n in o)if(typeof o[n]<"u"&&typeof o[n]!="function")try{r[n]=o[n]}catch{}else if(typeof o[n]=="function")try{r[n]=o[n].bind(r)}catch(a){O.warn(a)}return r},"_CastProps"),k=C(function(){return["__proto__","prototype","Object","Map","defineProperty","indexOf","toString","__instanceID"].indexOf(arguments[0])!==-1},"__is__forbidden_name__"),x=C(function(r){var n="";switch(!0){case(Rt(r)&&!!r.name):n=r.name;break;case(typeof r=="object"&&!!r.constructor&&!!r.constructor.name&&r.constructor.name!==""):n=r.constructor.name;break;case(!!r&&!!r.__classType&&r.__classType!==""):n=r.__classType;break;case(!!r&&!!r.__definition&&!!r.__definition.__classType&&r.__definition.__classType!==""):n=r.__definition.__classType;break;case(typeof r=="function"&&!!r.name):n=r.name;break;default:n=j(r);break}return n},"__getType__"),H=C(function(r,n){return!!(typeof r<"u"&&r!==null&&((Me(r)||be(r))&&r.hierarchy().includes(n)||x(r)===n||j(r)===n||typeof r===n))},"is_a"),B=C(function(o){if(typeof o<"u")if(G)try{P[o.name]=o,window[o.name]=o}catch{}else typeof y<"u"&&(Object.hasOwnProperty.call(y,o.name)||(y[o.name]=o))},"__make_global__"),ee=C(function(o,r){var n=o.name||x(o);return typeof o.__definition>"u"&&(o.__definition={}),o.__definition.__classType=n,typeof r<"u"&&(o.__definition.__namespace=r),h[n]=o,P[n]=h[n],P[n]},"__register_class__"),K=C(function(o,r){return ee(o,r)},"RegisterClass");B(K);var de=C(function(){var l,b;var o={},r,n,a;switch(arguments.length){case 0:return class{};case 1:r=arguments[0],n=(l=class{},C(l,"type"),l),a={};break;case 2:r=arguments[0],n=(b=class{},C(b,"type"),b),a=arguments[1];break;case 3:r=arguments[0],n=arguments[1],a=arguments[2];break;default:break}if(typeof n!="function")throw new Error("Class type must be a function or class");if(k.call(this,r))throw new Error(`${r} is not an allowed word in the name of a class`);return typeof n.__definition<"u"&&(a.__definition=Object.assign(E(n.__definition),n)),o[n.name]=n,typeof a>"u"||a===null?a={}:a=E(a),typeof a.__instanceID<"u"&&delete a.__instanceID,h[r]=class extends o[n.name]{constructor(){var m;arguments.length>0?m={...arguments[0]}:m={};super(m);W(this,"__classType",r);W(this,"__definition",{...a});let _=this;if(Ct=typeof Ct>"u"||Ct===null?0:Ct+1,_.__instanceID||Object.defineProperty(_,"__instanceID",{value:Ct,writable:!1}),typeof _.__definition<"u"&&Object.keys(_.__definition).filter(function(N){return isNaN(N)&&!["name","__instanceID","__classType","__definition"].includes(N)}).forEach(function(N){typeof _.__definition[N]=="function"?_[N]=_.__definition[N].bind(_):_[N]=_.__definition[N]}),Ce(h[_.__classType]).map(function(N){_[N.name]=N.bind(_)}),Ce(_.__definition).map(function(N){_[N.name]=N.bind(_)}),_.body)if(typeof _.__definition>"u"||!Object.hasOwnProperty.call(_.__definition,"body")||typeof _.__definition.body>"u")try{G?_.body=Ye(_.__definition.__classType):_.body={}}catch{_.body={}}else Object.hasOwnProperty.call(_.__definition,"body")&&(_.body=_.__definition.body);try{if(typeof _.__new__=="function"?_.__new__.call(_,m):typeof super.__new__=="function"&&(_.__new__=super.__new__.bind(_),_.__new__.call(_,m)),typeof _=="object"&&Object.hasOwnProperty.call(_,"_new_")&&typeof _._new_.isCalled>"u")try{_._new_.call(_,m),_._new_.isCalled=!0}catch(N){O.warn(`${_.__classType}._new_() failed with error: ${N}`)}}catch(N){O.warn(N)}}static hierarchy(m){var _=C(function(L){return Object.hasOwnProperty.call(L,"__classType")?L.__classType:x.call(m,L)},"__classType"),N=C(L=>typeof L<"u"&&typeof L.__proto__<"u"&&L.__proto__!==null?(_(L)!==""?[_(L)]:[]).concat(N(L.__proto__)):[],"__hierarchy__proto__");(typeof m>"u"||m===null)&&(m=this);var F=[];return F.push(_(m)),F=F.concat(N(m.__proto__)),F}static getParentClass(){return Object.getPrototypeOf(this.prototype.constructor)}__new__(m){I(m,this)}_new_(){}getClass(){return Object.getPrototypeOf(this.constructor)}css(m){return typeof this.body<"u"&&this.body.style!=="undefined"&&(O.debug("body style"),this.body.style=A(m,this.body.style)),this.body.style}hierarchy(){var m=this;return this.getClass().hierarchy(m)}append(_){O.debug("append: start"),H(_,"Component")&&(O.debug("append: child is a Component"),O.debug(`appending the body of ${_.name}`));var _=arguments.length>0?arguments[0]:this.body;typeof this.body<"u"&&(O.debug("append element"),arguments.lenght>0?(O.debug("append to element"),this.body.append(_),typeof this.childs>"u"&&(this.childs=[]),this.childs.push(_)):G&&(O.debug("append to body"),document.body.append(_)))}attachIn(m){if(G)for(var _=document.subelements(m),N=0,F=_.length;N<F;N++)_[N].append(this);else throw new Error("attachIn not yet implemented for non browser platforms")}},h[r]=I(a,h[r]),h[r].__definition=a,h[r].__definition.__classType=r,h[r].__definition.__new__=C(function(m){I(m,this)},"__new__"),P[r]=h[r],P[r]},"Class");de.prototype.toString=function(){return"Class(name, type, definition) { [QCObjects native code] }"};var R=C(function(o){var r;if(o!==null&&o.indexOf(".")>-1){var n=o.split(".").slice(0,o.split(".").length-1).join("."),a=o.split(".").slice(-1).join(""),l=ae(n),b=typeof l<"u"?l.filter(u=>Me(u)&&(u.__definition.__classType===a||typeof u=="function"&&!!u.name)).reverse():[];if(b.length>0)r=b[0];else throw Error(`Class ${o} not found.`)}else o!==null&&Object.hasOwnProperty.call(h,o)&&(r=h[o]);return r},"ClassFactory");G&&(Element.prototype.append=C(function(r){be(r)||typeof r.body<"u"?this.appendChild(r.body):this.appendChild(r)},"QC_Append"),Element.prototype.render=C(function(r){var n=this,a=C(function(l,b){if(typeof document.implementation.createHTMLDocument<"u"){var u=document.implementation.createHTMLDocument("");u.innerHTML=b,u.body.subelements("*").map(function(m){return l.append(m)})}},"_appendVDOM");if(typeof this.innerHTML<"u")try{this.innerHTML+=r}catch{a(n,r)}else a(n,r)},"QC_Render"));var ce=C(function(o,r,n){return R(o)[r]},"_super_");ce.prototype.toString=function(){return"_super_(className,classMethodName,params) { [QCObjects native code] }"};var fe=C(function(o,r){return r=arguments.length>1?r:{},typeof o>"u"?new Object:new o(r)},"New");fe.prototype.toString=function(){return"New(QCObjectsClassName, args) { [QCObjects native code] }"};var Z=C(function(o){return B(o)},"Export");if(Z.prototype.toString=function(){return"Export(function or symbol) { [QCObjects native code] }"},!G){var Ge=C(function(o){let r=pt("fs");var n=null;try{var a=[`${P.CONFIG.get("projectPath")}${P.CONFIG.get("relativeImportPath")}`,`${P.CONFIG.get("basePath")}${P.CONFIG.get("relativeImportPath")}`,`${P.CONFIG.get("projectPath")}`,`${P.CONFIG.get("basePath")}`,`${P.CONFIG.get("relativeImportPath")}`,`${process.cwd()}${P.CONFIG.get("relativeImportPath")}`,`${process.cwd()}/node_modules/`+o,`${process.cwd()}/node_modules`,`${process.cwd()}`,"node_modules","./",""].concat(St.paths);a=a.filter(l=>r.existsSync(l+"/"+o)),a.length>0&&(n=a[0],O.info(o+" is Installed."))}catch(l){console.log(l)}return n},"findPackageNodePath");Z(Ge)}de("_Crypt",Object,{last_string:"",last_key:"",construct:!1,_new_(o){var r=o.string,n=o.hasOwnProperty.call(o,"key")?o.key:null;this.__new__(o),n=n===null?this.__instanceID:n,this.last_key=n,this.last_string=r,this.construct=!0},_encrypt(){for(var o=this.string,r=this.key,n="",a,l,b=0;b<o.length;b++)a=o.substr(b,1),l=r.substr(b%r.length-1,1),a=String.fromCharCode(a.charCodeAt(0)+l.charCodeAt(0)),n+=a;return this.last_string=_t.encode(n),this.last_string},_decrypt(){var o=this.string,r=this.key,n="",a,l;o=_t.decode(o);for(var b=0;b<o.length;b++)a=o.substr(b,1),l=r.substr(b%r.length-1,1),a=String.fromCharCode(a.charCodeAt(0)-l.charCodeAt(0)),n+=a;return this.last_string=n,this.last_string},encrypt(o,r){var n=fe(R("_Crypt"),{string:o,key:r!==""?r:"12345678ABC"});return n._encrypt()},decrypt(o,r){var n=fe(R("_Crypt"),{string:o,key:r!==""?r:"12345678ABC"});return n._decrypt()}});var ke=C(function(o){return R("_Crypt").encrypt(je(o),wt)},"_CryptObject"),$e=C(function(o){return o===""?{}:JSON.parse(R("_Crypt").decrypt(o,wt))},"_DecryptObject"),Re=C(function(){var o=1e3,r=R("_Crypt").encrypt((Math.random()*o).toString().replace(".",""),new Date().getTime().toString()),n=R("_Crypt").encrypt((Math.random()*o).toString().replace(".",""),new Date(new Date().getTime()-1e3*1e3).getTime().toString()),a=n.list().map((l,b)=>r.list()[b]===l?null:l).filter(l=>l!==null).join("");return a},"shortCode"),v=Re;de("InheritClass",class{},{});let X=class X extends R("InheritClass"){constructor(){super(...arguments);W(this,"component",null);W(this,"__definition",{});W(this,"__classType","Processor");this.processors=X.processors,this.process=X.process.bind(this),this.processObject=X.processObject.bind(this),this.setProcessor=X.setProcessor.bind(this),this.execute=X.execute.bind(this)}static setProcessor(n){typeof n=="function"&&n.name!==""&&(this.processors[n.name]=n)}static execute(n,a,l){var b=typeof n<"u"&&n!==null?n.processorHandler:this;return b.processors[a].bind(b).apply(b,[n,...l.split(",")])}static process(n,a=null){var l=a!==null?a.processorHandler:fe(X,{component:null});return typeof n=="string"&&Object.keys(l.processors).map(function(b){[...n.matchAll(new RegExp("\\$"+b+"\\((.*)\\).*","g"))].map(function(u){var m=`$${b}(${u[1]})`;n=n.replace(m,l.execute.bind(l).call(l,a,b,u[1]))})}),n}static processObject(n,a=null){var l=a===null?this:a.processorHandler;return typeof l>"u"&&(l=new X({component:a})),typeof n=="object"?Object.keys(n).map(function(b){typeof n[b]=="object"&&!n[b].hasOwnProperty.call(n[b],"call")?n[b]=l.processObject.bind(l)(n[b],a):typeof n[b]=="string"&&(n[b]=l.process.bind(l)(n[b],a))}):typeof n=="string"&&(n=l.process.bind(l)(n,a)),n}};C(X,"Processor"),W(X,"processors",{config(n,a){return P.CONFIG.get(a,"")},ENV(n,a){return typeof process<"u"?process.env[a]:""},global(n,a){return typeof y<"u"?y[a]:""}});let xe=X;xe.__definition={},xe.__classType="Processor",K(xe,"com.qcobjects"),B(xe);let oe=class oe{static get instance(){if(this._instance===null){var r=new oe;r._CONFIG={relativeImportPath:"",remoteImportsPath:"",remoteSDKPath:"https://sdk.qcobjects.dev/",asynchronousImportsLoad:!1,removePackageScriptAfterLoading:!0,componentsBasePath:"",delayForReady:0,preserveComponentBodyTag:!1,useConfigService:!1,routingWay:"hash",useSDK:!0,useLocalSDK:!1,basePath:lt},r._CONFIG_ENC=null,this._instance=r}return this._instance}static set instance(r){this._instance=r}};C(oe,"ConfigSettings"),W(oe,"_instance",null),W(oe,"_CONFIG_ENC",null);let ct=oe;h.ConfigSettings=ct,de("CONFIG",Object,{get _CONFIG_ENC(){return R("ConfigSettings").instance._CONFIG_ENC},get _CONFIG(){return R("ConfigSettings").instance._CONFIG},set(o,r){O.debug(`CONFIG.set  ${o}: ${r}`),o==="basePath"&&(lt=r);var n;try{n=function(a){a._CONFIG_ENC===null&&(a._CONFIG_ENC=R("_Crypt").encrypt(je({}),wt));var l=a._CONFIG_ENC.valueOf(),b=a._CONFIG.valueOf();return I(b,$e(l))}(R("ConfigSettings").instance)}catch(a){n={},console.error(a),O.debug("failed to encrypt config")}n[o]=r,R("ConfigSettings").instance._CONFIG_ENC=ke(n),Object.hasOwnProperty.call(R("ConfigSettings").instance,"_CONFIG")&&Object.hasOwnProperty.call(R("ConfigSettings").instance._CONFIG,o)&&(R("ConfigSettings").instance._CONFIG[o]=r)},get(o,r){var n;try{var a=function(l){l._CONFIG_ENC===null&&(l._CONFIG_ENC=R("_Crypt").encrypt(je({}),wt));var b=l._CONFIG_ENC.valueOf(),u=l._CONFIG.valueOf();return I(u,$e(b))}(R("ConfigSettings").instance);typeof a[o]<"u"?n=a[o]:typeof r<"u"&&(n=r)}catch(l){console.error(l),O.debug("Something wrong when trying to get CONFIG values"),O.debug("No config value for: "+o),n=r}return xe.processObject.call(xe,n)}}),Z(Ht),Z(ce),Z(et),Z(R),Z(Ye),Z(Re),Z(x),Z(H);var be=C(function(o){return!!(typeof o=="object"&&Object.hasOwnProperty.call(o,"__classType")&&o.__instanceID&&Object.hasOwnProperty.call(o,"__definition")&&typeof o.__definition<"u")},"isQCObjects_Object"),Me=C(function(o){return!!(typeof o=="function"&&!o.__instanceID&&o.__definition&&typeof o.__definition<"u"&&o.__definition.__classType)},"isQCObjects_Class"),ae=C(function(o,r){return p.hasOwnProperty.call(p,o)&&typeof p[o]<"u"&&p[o].hasOwnProperty.call(p[o],"length")&&p[o].length>0&&typeof r<"u"&&r.hasOwnProperty.call(r,"length")&&r.length>0?(r.filter(function(n){return Me(n)}).map(function(n){n.__definition.__namespace=o,n.__namespace=o}),p[o]=p[o].concat(r)):typeof r<"u"&&(typeof r=="object"&&r.hasOwnProperty.call(r,"length")?r.filter(function(n){return Me(n)}).map(function(n){n.__definition.__namespace=o,n.__namespace=o}):Me(r)&&(r.__definition.__namespace=o,r.__namespace=o),p[o]=r),Object.hasOwnProperty.call(p,o)&&p[o].map(function(n){ee(n,o)}),Object.hasOwnProperty.call(p,o)?p[o]:void 0},"Package");ae.prototype.toString=function(){return"Package(namespace, classes) { [QCObjects native code] }"},ae("com.qcobjects",[xe]);var Se=C(function(o){let n=ae(o).filter(a=>Me(a)).map(a=>({[a.__definition.__classType]:a})).reduce((a,l)=>Object.assign(a,l));return o.split(".").map(a=>({[a]:n})).reverse().reduce((a,l)=>(l[Object.keys(l)]=a,l))},"NamespaceRef"),We=C(function(){var o,r=C(function(){},"ready"),n=!1;if(!(arguments.length<1)){arguments.length===1?o=arguments[0]:arguments.length===2?(o=arguments[0],r=arguments[1]):arguments.length>2&&(o=arguments[0],r=arguments[1],n=arguments[2],O.debug("[Import] Setting external="+n.toString()+" resource to import: "+o)),n?O.debug("[Import] Registering external resource to import: "+o):O.debug("[Import] Registering local resource to import: "+o);var a;return G?(a=new Promise(function(l,b){var u=C(function(){var N=!1,F=0;for(var L in p)F++;return F<c.length?N=!1:N=!0,N},"allPackagesImported"),m=C(function(N){c.push(r),u()&&c.map(function(F){S.push(F)}),G&&P.CONFIG.get("removePackageScriptAfterLoading")&&N.target.remove(),l.call(a,{_imported_:N.target,_package_name_:o})},"readyImported");if(!p.hasOwnProperty.call(p,o)){var _=Ye("script");_.type=P.CONFIG.get("sourceType","text/javascript"),_.async=!!P.CONFIG.get("asynchronousImportsLoad"),_.onreadystatechange=function(){_.readyState==="complete"&&m.call()},_.onload=m,_.onerror=function(N){b.call(a,{_imported_:_,_package_name_:o})},_.src=n?P.CONFIG.get("remoteImportsPath")+o+".js":lt+P.CONFIG.get("relativeImportPath")+o+".js",document.getElementsByTagName("head")[0].appendChild(_)}}),a.catch(function(){O.debug("Import: Error loading a package ")})):a=new Promise(function(l,b){try{var u=Ge(o),m="";if(u!==null)m=u+"/"+o;else{var _=Ge(o+".js");_!==null?m=_+"/"+o+".js":m=lt+P.CONFIG.get("relativeImportPath")+o}try{l.call(a,{_imported_:pt(`${m}`),_package_name_:o})}catch(N){b.call(a,{_imported_:null,_package_name_:o,error:N})}}catch(N){b.call(a,{_imported_:null,_package_name_:o,error:N})}}).catch(function(l){O.debug("Something happened when importing "+o),console.warn(l)}),a.catch(function(l){O.warn(je(l))}),a}},"Import");We.prototype.toString=function(){return"Import(packagename,ready,external) { [QCObjects native code] }"},G&&(Element.prototype.Cast=C(function(n){n.__definition.body=this;var n=fe(n);return n},"QC_Object")),de("TagElements",Array,{show(){this.map(function(o){return o.style.opacity=1})},hide(){this.map(function(o){return o.style.opacity=0})},effect(){var o=[...arguments].slice(1),r=arguments[0];(typeof r).toLowerCase()==="string"&&(r=R(r)),this.map(function(n){return r.apply.apply(r,[n].concat(o))})},findElements(o){var r=fe(R("TagElements"));if(G)for(var n in this)typeof n=="number"&&typeof this[n]!="function"&&this[n].hasOwnProperty.call(this[n],"subelements")&&r.push(this[n].subelements(o));return r}});var tt=C(function(o,r){var n=fe(R("TagElements"));if(G)for(var a=document.subelements(o),l=[],b=0;b<a.length;b++)typeof r<"u"&&a[b].hasOwnProperty.call(a[b],"innerHTML")&&(a[b].innerHTML=r),l.indexOf(b)<0&&(n.push(a[b]),l.push(b));return n},"Tag"),ut=He,De=C(function(o){var r=C(function(){S.map(function(n,a){typeof n=="function"&&(n.call(),delete S[a])})},"_execReady");P.CONFIG.get("delayForReady")>0?G?setTimeout(r.bind(window),P.CONFIG.get("delayForReady")):typeof y<"u"&&setTimeout(r.bind(y),P.CONFIG.get("delayForReady")):r.call(P)},"_Ready");G?(window.onload=De,Mt&&document.addEventListener("deviceready",De,$t)):y.onload=De;let ve=class ve extends R("InheritClass"){constructor({instance:r,name:n,fget:a,fset:l,value:b}){super({instance:r,name:n,fget:a,fset:l,value:b}),this._new_({instance:r,name:n,fget:a,fset:l,value:b})}_new_({instance:r,name:m,fget:a,fset:l,value:b}){var u=this,m=typeof m>"u"?j(u):m;Object.defineProperty(r,m,{set(_){let N=_;O.debug("value changed "+m);var F;typeof l<"u"&&typeof l=="function"?F=l(N):F=N,r["_"+m]=F},get(){let _=r["_"+m];O.debug("returning value "+m);var N=C(function(L){return typeof L=="object"&&Object.hasOwnProperty.call(L,"value")?L.value:L},"is_ddo"),F;return typeof a<"u"&&typeof a=="function"?F=a(N(_)):F=N(_),F}})}};C(ve,"DDO");let Ne=ve;Z(Ne);let we=class we{constructor({component:r,template:n}){W(this,"template","");W(this,"__definition",{});this.component=r,this.template=n}assign(r){var n=this;if(typeof n.component>"u")throw new Error("DefaultTemplateHandler.assign: component is undefined");if(typeof n.component.processorHandler>"u")throw new Error("DefaultTemplateHandler.assign: component.processorHandler is undefined");var a=n.component.processorHandler;a.component=n.component;var l=typeof n.template<"u"?n.template:"";typeof r=="object"?[...Object.keys(r)].map(function(b){var u=r[b];if(typeof u=="string"||typeof u=="number"||!isNaN(u))try{u=xe.processObject.bind(a).call(a,u,n.component),l=l.replace(new RegExp(`{{${b}}}`,"g"),u)}catch(m){throw O.warn(`${n.component.name} could not parse processors.`),Error(`${n.component.name} could not parse processors. Reason: ${m.message}`)}}):O.debug(`${n.component.name}.data is not an object`);try{l=xe.processObject.call(a,l,n.component)}catch(b){throw O.warn(`${n.component.name} could not parse processors.`),Error(`${n.component.name} could not parse processors. Reason: ${b.message}`)}return l}};C(we,"DefaultTemplateHandler");let At=we;At.__definition={},K(At,"com.qcobjects");var ft=C(function(o,r){let n=o.path.replace(/{(.*?)}/g,"(?<$1>.*)");return{...[...r.matchAll(new RegExp(n,"g"))][0].groups}},"__routing_params__"),yt=C(function(o,r){return o.filter(function(n){var a=n.path.replace(/{(.*?)}/g,"(?<$1>.*)");return new RegExp(a,"g").test(r)}).reverse()},"__valid_routings__"),z=C(function(o,r){return o.includes(r)},"__valid_routing_way__"),Y=C(function(o,r){var n=o.getAttribute("shadowed")===null,a=o.getAttribute("template-source")===null,l=o.getAttribute("shadowed")==="true",b=o.getAttribute("cached")===null,u=o.getAttribute("cached")==="true",m=typeof P.CONFIG.get("tplextension")<"u"?P.CONFIG.get("tplextension"):"html";m=o.getAttribute("tplextension")!==null?o.getAttribute("tplextension"):m;var _=o.getAttribute("name"),N=o.getAttribute("componentClass")!==null?o.getAttribute("componentClass"):"Component";let F=P.CONFIG.get("preserveComponentBodyTag")?_!==null?"com.qcobjects.components."+_+".ComponentBody":"com.qcobjects.components.ComponentBody":N;_=_!==null?_:R(F)&&typeof R(F).name<"u"?R(F).name:"";var L=R(F),$=F!=="Component"&&typeof L<"u"&&typeof L.tplsource=="string"&&L.tplsource!=="",le=a&&$?L.tplsource:a?"default":o.getAttribute("template-source");O.debug(`template source for  ${_} is ${le} `),O.debug(`type for ${_} is ${x(L)} `);var Q;Q=ze({COMPONENTS_BASE_PATH:P.CONFIG.get("componentsBasePath"),COMPONENT_NAME:_,TPLEXTENSION:m,TPL_SOURCE:le}),P.CONFIG.get("preserveComponentBodyTag")&&ae(_!==""?"com.qcobjects.components."+_:"com.qcobjects.components",[de("ComponentBody",R("Component"),{name:_,tplsource:le,tplextension:m,reload:!0})]);var J=C(function(){var ge=n?L&&L.shadowed||R("Component").shadowed:l,Ie={__parent__:r,name:_,cached:b?R("Component").cached:u,shadowed:ge,tplextension:m,body:P.CONFIG.get("preserveComponentBodyTag")?Ye("componentBody"):o,templateURI:Q,tplsource:le};(typeof _>"u"||_===""||_===null)&&delete Ie.name,Q===""&&delete Ie.templateURI;var Ae=fe(L,Ie);return P.CONFIG.get("preserveComponentBodyTag")&&o.append(Ae),Ae},"__create_component_instance_"),ne=J.call(this);return ne},"_buildComponentFromElement_"),he=C(function(o,r){var n=[];return G?n=o.map(function(a){return Y(a,r)}):O.debug("[_buildComponentsFromElements_] not implemented for Non-Browser environments"),n},"_buildComponentsFromElements_");ae("com.qcobjects",[(qe=class extends R("InheritClass"){constructor({__parent__:n,templateURI:a="",template:l,tplsource:b="default",tplextension:u,url:m="",name:_="",method:N="GET",data:F={},reload:L=!1,shadowed:$=!1,cached:le=!0,_body:Q=Ye("div"),__promise__:J=null,__shadowRoot:ne,body:ge,shadowRoot:Ie,splashScreenComponent:Ae,controller:Be,view:vt}){if(arguments.length<1)throw Error("No arguments in component. You must at least give one argument.");super({__parent__:n,templateURI:a,template:l,tplextension:u,tplsource:b,url:m,name:_,method:N,data:F,reload:L,shadowed:$,cached:le,_body:Q,__promise__:J,__shadowRoot:ne,body:ge,shadowRoot:Ie,splashScreenComponent:Ae,controller:Be,view:vt});W(this,"validRoutingWays",["pathname","hash","search"]);W(this,"basePath",lt);W(this,"domain",mt);W(this,"templateHandler","DefaultTemplateHandler");W(this,"processorHandler",null);W(this,"routingWay",null);W(this,"routingNodes",[]);W(this,"routings",[]);W(this,"routingPath","");W(this,"routingPaths",[]);W(this,"_componentHelpers",[]);W(this,"subcomponents",[]);W(this,"splashScreenComponent");W(this,"controller");W(this,"view");W(this,"effect");W(this,"method","GET");W(this,"cached",!0);W(this,"__promise__",null);W(this,"__namespace");var _e=this;typeof _e.name>"u"&&O.warn("A name is not defined for "+x(_e)),_e.routingWay=P.CONFIG.get("routingWay"),_e.processorHandler=fe(xe,{component:_e}),_e.data=typeof _e.data>"u"||_e.data===null?{}:_e.data,_e.data=Object.assign(_e.data,_e.dataAttributes),_e.createServiceInstance().then(function(e){typeof _e.__new__=="function"&&_e.__new__.call(_e,_e),_e._generateRoutingPaths(_e.body).then(function(){_e._reroute_().then(function(){return _e.rebuild().then(function(){O.info(`Component._new_ The component ${_e.name} was built successfully!`)}).catch(function(t){O.warn(`Component._new_ Something went wrong building the component ${_e.name}`),console.error(t)})})})})}set body(n){var a=this;a._body=n}get body(){var n=this;return n._body}set cacheIndex(n){O.debug("[cacheIndex] This property is readonly")}get cacheIndex(){var n=this,a=je(n.routingPath);return _t.encode(n.name+a)}set parsedAssignmentText(n){O.debug("[parsedAssignmentText] This property is readonly")}get parsedAssignmentText(){var n=this;if(n._parsedAssignmentText=n.parseTemplate(n.template),typeof n._parsedAssignmentText>"u")throw Error(`[Component][${this.name}][parsedAssignmentText] Could not generate content!`);return n._parsedAssignmentText}set shadowRoot(n){var a=this;typeof a.__shadowRoot>"u"?a.__shadowRoot=n:O.debug("[shadowRoot] This property can only be assigned once!")}get shadowRoot(){var n=this;return n.__shadowRoot}set routingSelected(n){O.debug("[routingSelected] This is a read-only property of the component")}get routingSelected(){var n=this;return yt(n.routings,n.routingPath)}set routingParams(n){O.debug("[routingParams] This is a read-only property of the component")}get routingParams(){var n=this;return[{}].concat(n.routingSelected.map(function(a){return ft(a,n.routingPath)})).reduce(function(a,l,b){return Object.assign(a,l)})}createServiceInstance(){var n=this,a=n.body,l=this.data,b,u=n.getClass().__definition,m=G&&a.getAttribute("serviceClass")!==null?a.getAttribute("serviceClass"):null;return new Promise(function(_,N){var F=!!(Object.hasOwnProperty.call(a,"enableServiceClass")&&a.enableServiceClass||!Object.hasOwnProperty.call(a,"enableServiceClass")),L=!!(G&&a.getAttribute("response-to")!==null&&a.getAttribute("response-to")==="data"),$=!!(G&&a.getAttribute("response-to")!==null&&a.getAttribute("response-to")==="template");if(F&&m!==null&&(b=R(m)),!L&&u&&Object.hasOwnProperty.call(u,"responseTo")?L=u.responseTo==="data":!L&&Object.hasOwnProperty.call(R("Component"),"responseTo")&&(L=R("Component").responseTo==="data"),!$&&u&&Object.hasOwnProperty.call(u,"responseTo")?$=u.responseTo==="template":!$&&Object.hasOwnProperty.call(R("Component"),"responseTo")&&($=R("Component").responseTo==="template"),typeof b<"u"&&typeof F<"u"&&F===!0&&(L||$)){O.info("Loading service "+m);var le=fe(b,{data:l});nt(le).then(function({request:Q,service:J}){var ne;typeof J.JSONresponse<"u"&&J.JSONresponse!==null?ne=J.JSONresponse:ne=J.template,L&&(typeof l=="object"&&typeof ne=="object"?l=Object.assign(l,ne):l=ne,n.data=l),n.serviceInstance=le,n.serviceData=l,$&&(n.template=ne),_(ne)},function(Q){O.debug(`Service loading rejected for ${m} in ${n.name}`),N(Q)}).catch(function(Q){throw O.debug("Something went wroing while trying to load the service "+m),Error(`Error loading ${m} for ${n.name}. Detail: ${Q}`)})}else _(null)})}_bindroute_(){var n=this;n._bindroute_.loaded?O.debug(`Routes already bound to popstate events for ${n.name}`):(G&&n.hostElements("a").map(function(a){return a.oldclick=a.onclick,a.onclick=function(l){var b=!0;P.global.get("routingPaths")||P.global.set("routingPaths",[]);var u=P.CONFIG.get("routingWay"),m=l.target[u];return P.global.get("routingPaths").includes(m)&&l.target[u]!==document.location[u]&&l.target.href!==document.location.href?(O.debug("A ROUTING WAS FOUND: "+m),window.history.pushState({href:l.target.href},l.target.href,l.target.href),R("Component").route(),b=!1):O.debug("NO ROUTING FOUND FOR: "+m),typeof l.target.oldclick<"u"&&typeof l.target.oldclick=="function"&&l.target.oldclick.call(l.target,l),b},null}),this._bindroute_.loaded=!0)}done(n){var a;if(typeof n<"u"){var{request:l,component:b}=n;a=Promise.resolve({request:l,component:b})}return a}createControllerInstance(){var n;if(G){if(typeof this.body>"u")throw new Error("The component has no body");var a=this.body.getAttribute("controllerClass");a||(a="Controller"),n=R(a),typeof n<"u"&&(this.controller=fe(n,{component:this}))}return new Promise((l,b)=>{if(G&&typeof n<"u"&&typeof this.controller<"u"){if(typeof this.controller.done=="function")try{this.controller.done.call(this.controller)}catch(u){throw Error(u)}else O.debug(`${a} does not have a done() method.`),b(`${a} does not have a done() method.`);typeof this.controller.createRoutingController=="function"?this.controller.createRoutingController.call(this.controller):O.debug(`${a} does not have a createRoutingController() method.`)}l({component:this,controller:this.controller})})}createEffectInstance(){var n=this;return new Promise(function(a,l){if(G){var b=n.body.getAttribute("effectClass"),u=n.body.getAttribute("apply-effect-to");u=u!==null?u:"load",b!==null&&u==="observe"?n.applyObserveTransitionEffect(b):b!==null&&u==="load"&&n.applyTransitionEffect(b)}a({component:n,effect:n.effect})})}createViewInstance(){var n=this;return new Promise(function(a,l){var b=G?n.body.getAttribute("viewClass"):null;if(b!==null){var u=R(b);typeof u<"u"&&(n.view=fe(u,{component:n}),Object.hasOwnProperty.call(n.view,"done")&&typeof n.view.done=="function"&&n.view.done.call(n.view))}a({component:n,view:n.view})})}__done__(){var n=this,a=C(function(){if(typeof n>"u")throw new Error("componentDone() has lost its context");if(typeof n.body>"u")throw new Error("The component has no body");n.createViewInstance(),n.createControllerInstance(),n.createEffectInstance(),O.debug(`Trying to run component helpers for ${n.name}...`);try{n.runComponentHelpers(),O.debug(`Component helpers for ${n.name} executed.`)}catch(l){throw O.debug(`Component helpers for ${n.name} could not be executed.`),Error(l)}n.subcomponents=n.__buildSubComponents__(),n._bindroute_(),G&&n.body.setAttribute("loaded",!0)},"componentDone");return new Promise(function(l,b){try{l(a.call(n))}catch(u){b(u)}})}hostElements(n){var a=this,l=[];return G&&(l=a.shadowed&&typeof a.shadowRoot<"u"?a.shadowRoot.subelements(n):a.body.subelements(n)),l}get subtags(){var n=this,a=jt;return n.hostElements(a)}get bodyAttributes(){var n=this,a=n.body;return G?[...a.getAttributeNames()].map(l=>({[l]:a.getAttribute(l)})).reduce((l,b,u)=>Object.assign(l,b)):{}}get dataAttributes(){var n=this,a=n.body;return G?[{}].concat([...a.getAttributeNames()].filter(l=>l.startsWith("data-")).map(l=>({[l.split("-")[1]]:a.getAttribute(l)}))).reduce((l,b,u)=>Object.assign(l,b)):{}}__buildSubComponents__(n=!1){var a=this,l=a.subtags;return n||(l=l.filter(b=>b.getAttribute("loaded")!=="true")),(typeof a<"u"||a.subcomponents.length<1)&&(a.subcomponents=he(l,a)),a.subcomponents}fail(n){var a;if(typeof n<"u"){var{error:l,component:b}=n;a=Promise.resolve({error:l,component:b})}return a}set(n,a){this[n]=a}get(n){return this[n]}feedComponent(){var n=this;O.debug(`[Component][${this.name}][feedComponent] start feeding component...`);var a=C(function(u){if(typeof u.container>"u"&&typeof u.body>"u"){O.warn("COMPONENT {{NAME}} has an undefined container and body".replace("{{NAME}}",u.name));return}var m=typeof u.container>"u"||u.container===null?u.body:u.container,_=u.parsedAssignmentText;if(u.innerHTML=_,u.shadowed){O.debug("COMPONENT {{NAME}} is shadowed".replace("{{NAME}}",u.name)),O.debug("Preparing slots for Shadowed COMPONENT {{NAME}}".replace("{{NAME}}",u.name));var N=Ye("div");m.subelements("[slot]").map(function($){$.parentElement===m&&N.appendChild($)}),O.debug("Creating shadowedContainer for COMPONENT {{NAME}}".replace("{{NAME}}",u.name));var F=Ye("div");F.classList.add("shadowHost");try{u.shadowRoot=F.attachShadow({mode:"open"})}catch{try{O.debug("Shadowed COMPONENT {{NAME}} is repeated".replace("{{NAME}}",u.name)),u.shadowRoot=F.shadowRoot}catch{O.warn("Shadowed COMPONENT {{NAME}} is not allowed on this browser".replace("{{NAME}}",u.name))}}if(typeof u.shadowRoot<"u"&&u.shadowRoot!==null){u.reload?(O.debug("FORCED RELOADING OF CONTAINER FOR Shadowed COMPONENT {{NAME}}".replace("{{NAME}}",u.name)),F.shadowRoot.innerHTML=u.innerHTML):(N.innerHTML=u.parseTemplate(N.innerHTML),O.debug("ADDING Shadowed COMPONENT {{NAME}} ".replace("{{NAME}}",u.name)),F.shadowRoot.innerHTML+=u.innerHTML),O.debug("ADDING Slots to Shadowed COMPONENT {{NAME}} ".replace("{{NAME}}",u.name)),F.innerHTML+=N.innerHTML,O.debug("APPENDING Shadowed COMPONENT {{NAME}} to Container ".replace("{{NAME}}",u.name));var L=m.querySelector(".shadowHost");typeof L<"u"&&L!==null?(O.debug("Shadowed Container for COMPONENT {{NAME}} is already present in the tree ".replace("{{NAME}}",u.name)),u.shadowRoot.innerHTML=F.shadowRoot.innerHTML):m.appendChild(F)}else O.warn("Shadowed COMPONENT {{NAME}} is bad configured".replace("{{NAME}}",u.name))}else u.reload?(O.debug("FORCED RELOADING OF CONTAINER FOR COMPONENT {{NAME}}".replace("{{NAME}}",u.name)),m.innerHTML=u.innerHTML):m&&u?(O.debug("ADDING COMPONENT {{NAME}} ".replace("{{NAME}}",u.name)),m.innerHTML+=u.innerHTML):O.warn("COMPONENT {{NAME}} is not added to the DOM".replace("{{NAME}}",u.name))},"_feedComponent_InBrowser"),l=C(function(u){var m=u.parsedAssignmentText;u.innerHTML=m},"_feedComponent_InNode"),b;if(!H(n,"Component")){O.warn("Trying to feed a non component object");return}return G?b=a(n):b=l(n),b}rebuild(){var n=this,a=new Promise(function(l,b){if((typeof n>"u"||n===null)&&b("Component is undefined"),be(n)&&H(n,"Component"))switch(!0){case n.get("tplsource")==="none":O.debug("Component "+n.name+" has specified template-source=none, so no template load was done");var u={request:null,component:n};n.__done__().then(function(){typeof n.done=="function"&&n.done.call(n,u),l.call(a,u)},function(){b.call(a,u)});break;case n.get("tplsource")==="inline":O.debug("Component "+n.name+" has specified template-source=inline, so it is assumed that template is already declared"),async function(m){m.feedComponent.bind(m)()}(n);var u={request:null,component:n};n.__done__().then(function(){typeof n.done=="function"&&n.done.call(n,u),l.call(a,u)},function(){b.call(a,u)});break;case(n.get("tplsource")==="default"&&n.get("templateURI")!==""):n.set("url",n.get("basePath")+n.get("templateURI")),Ze(n,!1).then(function(m){l.call(a,m)},function(m){b.call(a,m)});break;case(n.get("tplsource")==="external"&&n.get("templateURI")!==""):n.set("url",n.get("templateURI")),Ze(n,!1).then(function(m){l.call(a,m)},function(m){b.call(a,m)});break;case(n.get("tplsource")==="default"&&n.get("templateURI","")===""):O.debug(`Component ${n.name} template-source is ${n.get("tplsource")} and no templateURI is present`),b.call(a,`Component ${n.name} template-source is ${n.get("tplsource")} and no templateURI is present`);break;default:O.debug("Component "+n.name+" will not be rebuilt because no templateURI is present"),b.call(a,{request:null,component:n});break}});return a}Cast(n){let a=Ce(n).map(l=>l.name.replace(/bound /g,"")).map(l=>({[l]:n[l].bind(this)})).reduce((l,b)=>Object.assign(l,b),{});return A(this,a)}static route(){var n=this,a,l=!!(be(n)&&H(n,"Component")),b=C(function(u){var m=[],_=u.filter(function(N){return typeof N<"u"}).map(function(N){if(typeof N.name<"u")m.push(N.name);else throw new Error(x(N)+" does not have a name");return new Promise(function(F,L){var $;return typeof N<"u"&&N._reroute_?$=N._reroute_().then(function(){return N.reload=!0,N.rebuild()}).then(function(le){if(Object.hasOwnProperty.call(N,"subcomponents")&&typeof N.subcomponents<"u"&&N.subcomponents.length>0)return O.debug("LOOKING FOR ROUTINGS IN SUBCOMPONENTS FOR: "+N.name),b.call(N,N.subcomponents);O.debug("No subcomponents to look for routings in: "+N.name),N.subtags.length>0&&(N.subcomponents=N.__buildSubComponents__(!0)),F(N)}):typeof N<"u"&&L("Component "+N.name+" is not an instance of Component"),$})});return Promise.all(_).then(function(){O.debug("ROUTING COMPLETED FOR "+m.join(", "))}).catch(function(N){O.warn("ROUTING FAILED FOR "+m.join(", ")+": "+N)})},"__route__");if(l||P.componentsStack)l&&O.debug("loading routings for instance "+n.name),a=b.call(n,l?n.subcomponents:P.componentsStack);else throw O.debug("An undetermined result expected if load routings. So will not be loaded this time."),Error("There is no valid instance and no components stack available to apply rountings");return a}fullscreen(){if(G){var n=this.body;n.requestFullscreen?n.requestFullscreen():n.mozRequestFullScreen?n.mozRequestFullScreen():n.webkitRequestFullscreen?n.webkitRequestFullscreen():n.msRequestFullscreen&&n.msRequestFullscreen()}}closefullscreen(){G&&(document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen())}_generateRoutingPaths(n){var a=this;return new Promise(function(l,b){G&&z(a.validRoutingWays,a.routingWay)&&typeof n<"u"&&(a.innerHTML=n.innerHTML,a.routingNodes=n.subelements("routing"),a.routings=[],a.routingNodes.map(function(u,m){var _=u.getAttributeNames(),N={};_.map(function(F,L){N[_[L]]=u.getAttribute(_[L])}),a.routings.push(N),a.routingPaths||(a.routingPaths=[]),a.routingPaths.includes(N.path)||a.routingPaths.push(N.path),P.global.get("routingPaths")||P.global.set("routingPaths",[]),P.global.get("routingPaths").includes(N.path)||P.global.get("routingPaths").push(N.path)})),l()})}parseTemplate(n){var a=this,l,b=n;if(Object.hasOwnProperty.call(a,"templateHandler")){var u=a.templateHandler;O.debug(`[Component][${this.name}][parseTemplate] Attempting to use ${u} ...`);var m=R(u),_=fe(m,{component:a,template:b});_.component=a;var N=a.data;if(Object.hasOwnProperty.call(a,"assignRoutingParams")&&a.assignRoutingParams)try{N=Object.assign(N,a.routingParams)}catch{O.debug("[parseTemplate] it was not possible to assign the routing params to the template")}l=_.assign(N)}else O.debug(`[Component][${this.name}][parseTemplate] No value for templateHandler. Using raw content...`),l=b;return l}_reroute_(){var n=this;return new Promise(function(a,l){G&&z(n.validRoutingWays,n.routingWay)&&(n.routingPath=document.location[n.routingWay],n.routingSelected.map(function(b,u){var m=ze({COMPONENTS_BASE_PATH:P.CONFIG.get("componentsBasePath"),COMPONENT_NAME:b.name.toString(),TPLEXTENSION:Object.hasOwnProperty.call(b,"tplextension")?b.tplextension:n.tplextension,TPL_SOURCE:"default"});n.templateURI=m}),n.routingSelected.length>0&&(n.template="",n.body.innerHTML="")),a(n)})}lazyLoadImages(){if(G){var n=this,a=n.shadowed?n.shadowRoot:n.body,l=[...a.subelements("img[lazy-src]")],b=C(function(m){m.setAttribute("src",m.getAttribute("lazy-src")),m.onload=()=>{m.removeAttribute("lazy-src")}},"_lazyLoadImages");if("IntersectionObserver"in window){var u=new IntersectionObserver((m,_)=>{m.forEach(N=>{N.isIntersecting&&(b(N.target),_.unobserve(N.target))})});l.map(function(m){return u.observe(m)})}else l.map(b)}return null}applyTransitionEffect(n){var a=R(n);if(typeof a>"u")throw Error(`${n} not found.`);typeof a<"u"&&H(a,"TransitionEffect")?(this.effect=fe(a,{component:this}),this.effect.apply(this.effect.defaultParams)):O.debug(`${n} is ${x(a)} but is not a TransitionEffect`)}applyObserveTransitionEffect(n){if(G){var a=this,l=a.shadowed?a.shadowRoot.host:a.body,b=C(function(m){a.applyTransitionEffect(n)},"_applyEffect_");if("IntersectionObserver"in window){var u=new IntersectionObserver((m,_)=>{m.forEach(N=>{N.isIntersecting&&(b(N.target),_.unobserve(N.target))})});u.observe(l)}else b(l)}return null}scrollIntoHash(){if(G){var n=this;if(document.location.hash!==""){var a=n.shadowed?n.shadowRoot:n.body;a.subelements(document.location.hash).map(function(l){typeof l.scrollIntoView=="function"&&l.scrollIntoView(P.CONFIG.get("scrollIntoHash",{behavior:"auto",block:"top",inline:"top"}))})}}}i18n_translate(){if(G&&P.CONFIG.get("use_i18n")){var n=this,a=n.shadowed?n.shadowRoot:n.body,l=P.CONFIG.get("lang","en"),b=navigator.language.slice(0,2),u=P.global.get("i18n");if(l!==b&&typeof u=="object"&&Object.hasOwnProperty.call(u,"messages")){var m=C(function(){var _=this;return new Promise(function(N,F){var L=u.messages.filter(function($){return Object.hasOwnProperty.call($,l)&&Object.hasOwnProperty.call($,b)});a.subelements("ul,li,h1,h2,h3,a,b,p,input,textarea,summary,details,option,component").map(function($){return L.map(function(le){var Q=$.innerHTML;return Q=Q.replace(new RegExp(`${le[l]}`,"g"),le[b]),$.innerHTML=Q,null}),$}),N()})},"callback_i18n");m.call(n).then(function(){O.debug("i18n loaded for component: "+n.name)})}}}addComponentHelper(n){var a=this;a._componentHelpers.push(n)}runComponentHelpers(){if(G){var n=this,a=[];a.push(n.i18n_translate.bind(n)),a.push(n.scrollIntoHash.bind(n)),a.push(n.lazyLoadImages.bind(n)),a=a.concat(n._componentHelpers),a.map(function(l){O.debug(`Executing ${l.name} as component helper for ${n.name}...`),l()})}}},C(qe,"Component"),qe)]),Ce(R("Component")).map(function(o){Oe(o)}),G&&window.addEventListener("popstate",function(o){o.stopImmediatePropagation(),o.stopPropagation(),R("Component").route()}),ae("com.qcobjects.controllers",[(Ke=class extends R("InheritClass"){constructor({component:n,dependencies:a}){super({component:n,dependencies:a});W(this,"component",null);W(this,"dependencies",[]);if(this.component=n,this.dependencies=a,typeof this.component>"u"||this.component==="null")throw Error(`${x(this)} must be called with a component`)}routingSelectedAttr(n){return this.component.routingSelected.map(function(a){return a[n]}).filter(function(a){return a}).pop()}isTouchable(){return"ontouchstart"in window||navigator.MaxTouchPoints>0||navigator.msMaxTouchPoints>0}onpress(n,a){try{this.isTouchable()?this.component.body.subelements(n)[0].addEventListener("touchstart",a,{passive:!0}):this.component.body.subelements(n)[0].addEventListener("click",a,{passive:!0})}catch{O.debug("No button to assign press event")}}createRoutingController(){var n=this,a=n.component,l=n.routingSelectedAttr("controllerclass");if(typeof l<"u"){var b=R(l);typeof b<"u"&&(a.routingController=fe(b,{component:a}),Object.hasOwnProperty.call(a.routingController,"done")&&typeof a.routingController.done=="function"&&a.routingController.done.call(a.routingController))}}done(){}},C(Ke,"Controller"),Ke)]),ae("com.qcobjects.views",[(rt=class extends R("InheritClass"){constructor({component:r=void 0,dependencies:n=[]}){if(super(...arguments),typeof this.component>"u"||this.component==="null")throw Error(`${x(this)} must be called with a component`)}},C(rt,"View"),rt)]),ae("com.qcobjects.api",[(Qe=class extends R("InheritClass"){constructor(){super(...arguments);W(this,"kind","rest");W(this,"domain",mt);W(this,"basePath",lt);W(this,"url","");W(this,"method","GET");W(this,"data",{});W(this,"reload",!1);W(this,"cached",!1)}set(n,a){this[n]=a}get(n){return this[n]}},C(Qe,"Service"),Qe)]),ae("com.qcobjects.api.services",[(Ee=class extends R("Service"){constructor(){super(...arguments);W(this,"method","GET");W(this,"cached",!1);W(this,"headers",{"Content-Type":"application/json",charset:"utf-8"});W(this,"JSONresponse",null)}done(n){O.debug("***** RECEIVED RESPONSE:"),O.debug(n.service.template),this.JSONresponse=JSON.parse(n.service.template)}},C(Ee,"JSONService"),Ee)]),ae("com.qcobjects.api.config",[(D=class extends R("JSONService"){constructor(){super(...arguments);W(this,"method","GET");W(this,"cached",!1);W(this,"configFileName","config.json");W(this,"headers",{"Content-Type":"application/json",charset:"utf-8"});W(this,"JSONresponse",null);this.set("url",this.get("basePath")+this.get("configFileName"))}done(n){O.debug("***** CONFIG LOADED:"),O.debug(n.service.template),this.JSONresponse=JSON.parse(n.service.template),Object.hasOwnProperty.call(this.JSONresponse,"__encoded__")&&(this.JSONresponse=JSON.parse(R("_Crypt").decrypt(this.JSONresponse.__encoded__,wt)));for(var a in this.JSONresponse)P.CONFIG.set(a,this.JSONresponse[a]);this.configLoaded.call(this)}fail(n){this.configLoaded.call(this)}},C(D,"ConfigService"),D)]),ae("com.qcobjects.valueObjects",[(at=class extends R("InheritClass"){constructor(){super(...arguments)}},C(at,"VO"),at)]);var ze=C(({TPL_SOURCE:o,COMPONENTS_BASE_PATH:r,COMPONENT_NAME:n,TPLEXTENSION:a})=>o==="default"?`${r}${n}.${a}`:"","ComponentURI"),Ze=C(function(o,r){var n,a=C(function(u,m){return n=new Promise(function(_,N){var F=u.__promise__,L=Object.hasOwnProperty.call(u,"container")&&typeof u.container<"u"&&u.container!==null?u.container:u.body;if(L!==null){var $=C(function(Ae){Ae.feedComponent();var Be={request:J,component:Ae};_.call(F,Be)},"_feedComponent_");O.debug("LOADING COMPONENT DATA {{DATA}} FROM {{URL}}".replace("{{DATA}}",je(u.data)).replace("{{URL}}",u.url));var le=C(function(){var Ae=Q?0:200;if(J.status===Ae){var Be=J.responseText;O.debug("Data received {{DATA}}".replace("{{DATA}}",je(Be))),O.debug("CREATING COMPONENT {{NAME}}".replace("{{NAME}}",u.name)),u.template=Be,u.cached&&typeof Ie<"u"&&Ie.save(u.name,u.template),$.call(this,u)}else{var vt={request:J,component:u};N.call(F,vt)}},"_componentLoaded");if(typeof u.template=="string"&&u.template!=="")$.call(this,u);else{var Q=!!u.url.startsWith("file:"),J=new XMLHttpRequest;if(Q){if("fetch"in P){O.debug("I can use fetch..."),O.debug("It is a file to be loaded, so I will try to use fetch");var ne=fetch(u.url).then(Ae=>{O.debug("I got a response from fetch, so I'll feed the component"),Ae.text().then(Be=>{u.template=Be,$.call(this,u)})})}}else try{O.debug("Calling the url of component in async mode."),J.open(u.method,u.url,!0)}catch{O.debug("Last try has failed... The component cannot be loaded.")}!Mt&&!Q&&J.setRequestHeader("Content-Type","text/html"),Q||(J.onload=le);var ge=C(function(Ae){Ae=!(typeof Ae>"u"||!Ae),O.debug("SENDING THE NORMAL REQUEST  "),Ae?"fetch"in P||(O.debug("I have to try to load the file using xhr...  "),J.send(null),J.status===XMLHttpRequest.DONE&&le.call(this)):(O.debug("Trying to send the data to the component...  "),J.send(je(u.data)))},"_directLoad");if(u.cached&&!Q){O.debug("USING CACHE FOR COMPONENT: "+u.name);var Ie=new et({index:u.cacheIndex,load(Ae){ge.call(this,Q)},alternate(Ae){u.method==="GET"?(u.template=Ae.cache.getCached(u.cacheIndex),$.call(this,u)):ge.call(this,Q)}});y.lastCache=Ie}else O.debug("NOT USING CACHE FOR COMPONENT: "+u.name),ge.call(this,Q)}}else O.debug("CONTAINER DOESNT EXIST")}),n.then(function(_){return u.__done__().then(function(){var N;return typeof u.done=="function"&&(N=u.done.call(u,_)),Promise.resolve(N)})},function(_){var N;return typeof u.fail=="function"&&(N=u.fail.call(u,_)),Promise.reject(N)}).catch(function(_){O.debug("Something wrong loading the component")}),n},"_componentLoaderInBrowser"),l=C(function(u,m){return n=new Promise(function(_,N){var F=n,L=C(function(J){J.feedComponent();var ne={request:null,component:J};_.call(F,ne)},"_feedComponent_");O.debug("LOADING COMPONENT DATA {{DATA}} FROM {{URL}}".replace("{{DATA}}",je(u.data)).replace("{{URL}}",u.url));var $=C(function(J,ne){if(J){var Ie={request:null,component:u};N.call(F,Ie)}else{var ge=ne.toString();O.debug("Data received {{DATA}}".replace("{{DATA}}",je(ge))),O.debug("CREATING COMPONENT {{NAME}}".replace("{{NAME}}",u.name)),u.template=ge,u.cached&&typeof Q<"u"&&Q.save(u.name,u.template),L.call(this,u)}},"_componentLoaded");if(typeof u.template=="string"&&u.template!=="")L.call(this,u);else{O.debug("Loading the component as a local file in server...");var le=C(function(J){let ne=pt("fs");O.debug("SENDING THE NORMAL REQUEST  "),ne.readFile(u.url,$)},"_directLoad");if(u.cached){O.debug("USING CACHE FOR COMPONENT: "+u.name);var Q=new et({index:u.cacheIndex,load(J){le.call(this)},alternate(J){u.method==="GET"?(u.template=J.cache.getCached(u.cacheIndex),L.call(this,u)):le.call(this)}});y.lastCache=Q}else O.debug("NOT USING CACHE FOR COMPONENT: "+u.name),le.call(this)}}),n.then(function(_){return u.__done__().then(function(){var N;return typeof u.done=="function"&&(N=u.done.call(u,_)),Promise.resolve(N)})},function(_){var N;return typeof u.fail=="function"&&(N=u.fail.call(u,_)),Promise.reject(N)}).catch(function(_){O.debug(`Something wrong loading the component: ${_}`)}),n},"_componentLoaderInNode"),b;return G?typeof r<"u"&&r?b=It(a,arguments):b=a(o,r):b=l(o,r),b},"componentLoader"),nt=C(function(o,r){var n=C(function(m,_){var N=new Promise(function(F,L){O.debug("LOADING SERVICE DATA {{DATA}} FROM {{URL}}".replace("{{DATA}}",je(m.data)).replace("{{URL}}",m.url));var $=new XMLHttpRequest;$.withCredentials=m.withCredentials;var le=!0;$.open(m.method,m.url,le);for(var Q in m.headers)try{typeof m.headers[Q]!="function"&&$.setRequestHeader(Q,m.headers[Q])}catch{O.debug("Something went wrong when assign the header "+Q)}$.onload=function(){if($.status===200){var ge=$.responseText;if(O.debug("Data received {{DATA}}".replace("{{DATA}}",je(ge))),O.debug("CREATING SERVICE {{NAME}}".replace("{{NAME}}",m.name)),m.template=ge,m.cached&&typeof ne<"u"&&ne.save(m.name,m.template),typeof m.done=="function"){var Ie={request:$,service:m};m.done.call(m,Ie),F.call(N,Ie)}}else if(typeof m.fail=="function"){var Ie={request:$,service:m};m.fail.call(m,Ie),L.call(N,Ie)}};var J=C(function(){O.debug("SENDING THE NORMAL REQUEST  ");try{$.send(je(m.data))}catch{O.debug("SOMETHING WRONG WITH REQUEST  "),L.call(N,{request:$,service:m})}},"_directLoad");if(m.cached){var ne=new et({index:m.data,load(ge){J.call(this)},alternate(ge){if(m.method==="GET"){if(m.template=ge.cache.getCached(m.name),typeof m.done=="function"){var Ie={request:$,service:m};m.done.call(m,Ie),F.call(N,Ie)}}else J.call(this)}});y.lastCache=ne}else J.call(this);return $});return N},"_serviceLoaderInBrowser"),a=C(function(m,_){var N=new Promise(function(F,L){if(typeof URL>"u"){y.URL=pt("url").URL;let e=y.URL}var $=new URL(m.url),le;m.useHTTP2=Object.hasOwnProperty.call(m,"useHTTP2")&&m.useHTTP2;var Q=C(function(e){O.debug("LOADING SERVICE DATA (non-browser) {{DATA}} FROM {{URL}}".replace("{{DATA}}",je(m.data)).replace("{{URL}}",m.url));var t,s={http2Client:ge,request:e,service:m,responseHeaders:null};if(typeof m.data=="object"&&m.data!==null&&m.useHTTP2)try{O.debug("Sending data...");let i=new Buffer(je(m.data));e.write(i)}catch{O.debug("It was not possible to send any data")}t="",e.on("response",(i,d)=>{O.debug("receiving response..."),s.responseHeaders=i,t=""}),e.on("data",i=>{O.debug("receiving data..."),t+=""+i.toString(),m.template=t}),m.useHTTP2&&e.resume(),e.on("end",()=>{O.debug("ending call..."),m.template=t,Object.hasOwnProperty.call(m,"useHTTP2")&&m.useHTTP2?ge.destroy():e.destroy(),m.done.call(m,s),F.call(N,s)}),m.useHTTP2&&e.end()},"captureEvents");try{var J;if(m.useHTTP2){O.debug("using http2");var ne=pt("http2"),ge=ne.connect($.origin);J=Object.assign({":method":m.method,":path":$.pathname},m.options),J=Object.assign(J,m.headers),le=ge.request(J),le.setEncoding("utf8"),Q(le)}else if($.protocol==="http:"){var Ie=pt("http"),Ae=Ie.request;J=Object.assign({url:m.url,headers:m.headers},m.options);var le=Ae(m.url);Q(le)}else if($.protocol==="https:"){var Be=pt("https");J=Object.assign({hostname:$.hostname,port:$.port,path:$.pathname,method:m.method,headers:m.headers},m.options);var vt=Be.request(J,function(e){Q(e)});vt.end()}else{var _e="Protocol not supported: "+$.protocol;throw O.debug(_e),new Error(_e)}}catch(e){O.debug(e),m.fail.call(m,e),L.call(N,e)}}).catch(function(F){console.log(F),O.debug("Something happened when trying to call the service: "+m.name),m.fail.call(m,F)});return N},"_serviceLoaderInNode"),l=C(function(m,_){var N=new Promise(function(F,L){O.debug(`Calling mockup service ${m.name} ...`);var $={request:null,service:m,responseHeaders:m.responseHeaders};typeof m.mockup=="function"?m.mockup.call(m,$):m.done.call(m,$),F.call(N,$)});return N},"_serviceLoaderMockup"),b=C(function(m,_){var N=new Promise(function(F,L){O.debug(`Calling local service ${m.name} ...`);var $={request:null,service:m,responseHeaders:m.responseHeaders};typeof m.local=="function"?m.local.call(m,$):m.done.call(m,$),F.call(N,$)});return N},"_serviceLoaderLocal"),u;switch(o.kind){case"rest":G?typeof r<"u"&&r?u=It(n,arguments):u=n(o,r):u=a(o,r);break;case"mockup":u=l(o,r);break;case"local":u=b(o,r);break;default:O.debug(`The value of the kind property of the service ${o.name} is not valid`);break}return u},"serviceLoader");if(Z(nt),Z(Ze),Z(ze),Z(j),Z(je),Z(Me),Z(be),Z(Se),G){Element.prototype.buildComponents=function(o=!1){var r=jt,n=this,a=n.subelements(r);return he(a,null)},HTMLDocument.prototype.buildComponents=Element.prototype.buildComponents,HTMLElement.prototype.buildComponents=Element.prototype.buildComponents;var ot=(ye=class extends HTMLElement{constructor(){super(...arguments);let r=this,n=r.nodeName.toLowerCase(),a=Ye("quick-component"),l=r.getAttributeNames();a.setAttribute("name",n),r.hasAttribute("shadowed")||a.setAttribute("shadowed","true"),l.map(function(u){r.hasAttribute(u)&&(a.setAttribute(u,r.getAttribute(u)),r.removeAttribute(u))});var b=r.getAttributeNames().filter(function(u){return u.startsWith("data-")}).map(function(u){return u.split("-")[1]});b.map(function(u){a.setAttribute("data-"+u,r.getAttribute("data-"+u)),r.removeAttribute("data-"+u)}),[...r.children].map(function(u){a.appendChild(u.cloneNode(!0)),u.remove()}),r.append(a)}},C(ye,"_ComponentWidget_"),ye);Z(ot);var Xe=C(function(o){customElements.define(o,class extends ot{})},"RegisterWidget"),Nt=C(function(){var o=[...arguments];o.filter(function(r){return typeof r=="string"}).map(function(r){Xe(r)})},"RegisterWidgets");Oe(Xe),Oe(Nt),Z(Xe),Z(Nt)}G||ae("com.qcobjects.api",[(te=class extends R("InheritClass"){constructor({domain:r=mt,basePath:n=lt,body:a=null,stream:l=null,request:b=null}){super(...arguments),O.debug("Initializing BackendMicroservice...");let u=this;typeof this.body>"u"&&(this.body=null),typeof a<"u"&&(this.body=a),this.cors(),u.stream=l,l.on("data",N=>{var F=b.method.toLowerCase(),L={post:u.post};Object.hasOwnProperty.call(L,F)&&L[F].call(u,N)});var m=b.method.toLowerCase(),_={get:u.get,head:u.head,put:u.put,delete:u.delete,connect:u.connect,options:u.options,trace:u.trace,patch:u.patch};Object.hasOwnProperty.call(_,m)&&_[m].call(u)}cors(){if(this.route.cors){O.debug("Validating CORS...");let{allow_origins:n,allow_credentials:a,allow_methods:l,allow_headers:b}=this.route.cors;var r=this;if(typeof r.headers!="object"&&(r.headers={}),typeof r.route.responseHeaders!="object"&&(r.route.responseHeaders={}),typeof n<"u")if(O.debug("CORS: allow_origins available. Validating origins..."),n==="*"||typeof r.request.headers.origin>"u"||[...n].indexOf(r.request.headers.origin)!==-1)O.debug("CORS: Adding header Access-Control-Allow-Origin=*"),r.route.responseHeaders["Access-Control-Allow-Origin"]="*";else{O.debug("CORS: Origin is not allowed: "+r.request.headers.origin),O.debug("CORS: Forcing to finish the response..."),this.body={};try{this.done()}catch(u){O.debug(`It was not possible to finish the call to the microservice: ${u}`)}}else O.debug("CORS: no allow_origins available. Allowing all origins..."),O.debug("CORS: Adding header Access-Control-Allow-Origin=*"),r.route.responseHeaders["Access-Control-Allow-Origin"]="*";typeof a<"u"?(O.debug(`CORS: allow_credentials present. Allowing ${a}...`),r.route.responseHeaders["Access-Control-Allow-Credentials"]=a.toString()):(O.debug("CORS: No allow_credentials present. Allowing all credentials."),r.route.responseHeaders["Access-Control-Allow-Credentials"]="true"),typeof l<"u"?(O.debug(`CORS: allow_methods present. Allowing ${l}...`),r.route.responseHeaders["Access-Control-Allow-Methods"]=[...l].join(",")):(O.debug("CORS: No allow_methods present. Allowing only GET, OPTIONS and POST"),r.route.responseHeaders["Access-Control-Allow-Methods"]="GET, OPTIONS, POST"),typeof b<"u"?(O.debug(`CORS: allow_headers present. Allowing ${b}...`),r.route.responseHeaders["Access-Control-Allow-Headers"]=[...b].join(",")):(O.debug("CORS: No allow_headers present. Allowing all headers..."),r.route.responseHeaders["Access-Control-Allow-Headers"]="*")}else O.debug("No CORS validation available. You can specify cors in CONFIG.backend.routes[].cors")}head(r){this.done()}get(r){O.debug(`[BackendMicroservice.get] Data received: ${je(r)}`),this.done()}post(r){this.done()}put(r){this.done()}delete(r){this.done()}connect(r){this.done()}options(r){this.done()}trace(r){this.done()}patch(r){this.done()}finishWithBody(r){try{O.debug("[BackendMicroservice.finishWithBody] Ending the stream..."),O.debug(`[BackendMicroservice.finishWithBody] type of body is: ${typeof this.body}`),typeof this.body!="string"&&(this.body=je(this.body)),O.debug(`[BackendMicroservice.finishWithBody] 
 body: ${this.body} `),r.write(this.body),r.end(),O.debug("[BackendMicroservice.finishWithBody] Stream ended.")}catch(n){O.debug(`[BackendMicroservice.finishWithBody] Something went wrong ending the stream: ${n}`)}}done(){O.debug("[BackendMicroservice.done] Finalizing the response...");var r=this,n=r.stream;try{if(O.debug("[BackendMicroservice.done] Sending response headers..."),r.route.responseHeaders)O.debug(`[BackendMicroservice.done] Response headers present: ${Object.keys(r.route.responseHeaders)}`),n.respond(r.route.responseHeaders);else throw Error("[BackendMicroservice.done] No headers present.")}catch(a){O.debug(`[BackendMicroservice.done] Something went wrong sending response headers: ${a}`)}if(r.body!==null)try{O.debug("[BackendMicroservice.done] A body of message is present. Finalizing the response..."),r.finishWithBody.call(r,n)}catch(a){O.debug(`[BackendMicroservice.done] Something went wrong finalizing the response: ${a}`)}else O.debug("[BackendMicroservice.done] No body present. Ending stream..."),n.end()}},C(te,"BackendMicroservice"),te)]),de("SourceJS",Object,{domain:mt,basePath:lt,body:Ye("script"),type:"text/javascript",containerTag:"body",url:"",data:{},async:!1,external:!1,set(o,r){this[o]=r},get(o){return this[o]},status:!1,done(){},fail(){},rebuild(){var o=this;try{document.getElementsByTagName(o.containerTag)[0].appendChild(function(r,n,a){return r.type=a.type,r.src=n,r.crossOrigin=Object.hasOwnProperty.call(a,"crossOrigin")?a.crossOrigin:"anonymous",r.async=a.async,r.onreadystatechange=function(){this.readyState==="complete"&&a.done.call(a)},r.onload=function(l){a.status=!0,a.done.call(a,l)},r.onerror=function(l){a.status=!1,a.fail.call(a,l)},a.body=r,r}.call(this,Ye("script"),this.external?this.url:this.basePath+this.url,o))}catch(r){o.status=!1,o.fail.call(o,r)}},Cast(o){return A(this,o)},_new_(o){this.__new__(o),this.rebuild()}}),de("SourceCSS",Object,{domain:mt,basePath:lt,body:Ye("link"),url:"",data:{},async:!1,external:!1,set(o,r){this[o]=r},get(o){return this[o]},done(){},rebuild(){var o=this;G&&window.document.getElementsByTagName("head")[0].appendChild(function(r,n,a){return r.type="text/css",r.rel="stylesheet",r.href=n,r.crossOrigin="anonymous",r.onreadystatechange=function(){this.readyState==="complete"&&a.done.call(a)},r.onload=a.done,a.body=r,r}.call(this,Ye("link"),this.external?this.url:this.basePath+this.url,o))},Cast(o){return A(this,o)},_new_(o){this.__new__(o),this.rebuild()}});var Te=C(function(o){return isNaN(o)?new Number(0):new Number(o)},"__to_number");Array.prototype.unique=function(){return this.filter(function(o,r,n){return n.indexOf(o)===r})},Array.unique=function(o){return o.unique()},Oe(Array.unique),Oe(Array.prototype.unique),Array.prototype.table=function(){console.table(this)},Array.table=function(o){return o.table()},Oe(Array.table),Oe(Array.prototype.table),Array.prototype.sum=function(){return this.reduce(function(o,r){return Te(o)+Te(r)},0)},Array.sum=function(o){return o.sum()},Oe(Array.sum),Oe(Array.prototype.sum),Array.prototype.avg=function(){return this.length<1?0:this.reduce(function(o,r){return(Te(o)+Te(r))/2})},Array.avg=function(o){return o.avg()},Oe(Array.avg),Oe(Array.prototype.avg),Array.prototype.min=function(){return this.reduce(function(o,r){return Te(o)<=Te(r)?o:r},1/0)},Array.min=function(o){return o.min()},Oe(Array.min),Oe(Array.prototype.min),Array.prototype.max=function(){return this.reduce(function(o,r){return Te(o)>=Te(r)?o:r},0)},Array.max=function(o){return o.max()},Oe(Array.max),Oe(Array.prototype.max),Array.prototype.sortBy=function(o,r=!0){var n=r?function(a,l){return l[o]<a[o]?1:-1}:function(a,l){return l[o]>a[o]?1:-1};return this.sort(n)},Array.sortBy=function(o,r,n=!0){return o.sortBy(r,n)},Oe(Array.sortBy),Oe(Array.prototype.sortBy),Array.matrix=function(o,r=0){var n=C(function(a){return r},"x_func");return Array.from({length:o},n)},Oe(Array.matrix),Array.matrix2d=function(o,r=0){var n=C(function(l){return r},"y_func"),a=C(function(l){return Array.from({length:o},n)},"x_func");return Array.from({length:o},a)},Oe(Array.matrix2d),Array.matrix3d=function(o,r=0){var n=C(function(l){return Array.from({length:o},function(){return r})},"y_func"),a=C(function(l){return Array.from({length:o},n)},"x_func");return Array.from({length:o},a)},Oe(Array.matrix3d),P.range=function(o,r=0,n=1){return(r===0||typeof r>"u")&&(r=o,o=0),Array.from({length:(r-o)/n+1},function(a,l){return o+l*n})},Oe(P.range),String.prototype.list=function(){var o=this;return P.range(0,o.length-1).map(function(r){return o[r]})},Oe(String.prototype.list),P.getDocumentLayout=function(){var o=C((a,l)=>a>l?"landscape":null,"h"),r=C((a,l)=>l>a?"portrait":null,"v"),n=C((a,l)=>a===l?"square":null,"square");return[o(document.documentElement.clientWidth,document.documentElement.clientHeight),r(document.documentElement.clientWidth,document.documentElement.clientHeight),n(document.documentElement.clientWidth,document.documentElement.clientHeight)].filter(a=>a!==null).pop()},de("ArrayList",Array,[]),R("ArrayList").matrix=Array.matrix,R("ArrayList").matrix2d=Array.matrix2d,R("ArrayList").matrix3d=Array.matrix3d,Oe(R("ArrayList").matrix),Oe(R("ArrayList").matrix2d),Oe(R("ArrayList").matrix3d),de("ArrayCollection",Object,{source:fe(R("ArrayList"),[]),changed(o,r){O.debug("VALUE CHANGED"),O.debug(o),O.debug(r)},push(o){var r=this;O.debug("VALUE ADDED"),O.debug(o),r.source.push(o)},pop(o){var r=this;O.debug("VALUE POPPED"),O.debug(o),r.source.pop(o)},_new_(o){var r=this,n=0;r.source=fe(R("ArrayList"),o);for(var a in r.source)isNaN(a)||(O.debug("binding "+a.toString()),function(l){Object.defineProperty(r,l,{set(b){O.debug("setting "+l+"="+b),r.source[l]=b,r.changed(l,b)},get(){return r.source[l]}})}(a),n++);r.source.length=n,Object.defineProperty(r,"length",{get(){return r.source.length}})}}),ae("com.qcobjects.effects.base",[(Je=class extends R("InheritClass"){constructor(){super(...arguments);W(this,"duration",1e3)}animate({timing:n,draw:a,duration:l}){let b=performance.now();requestAnimationFrame(C(function u(m){let _=(m-b)/l;_>1&&(_=1);let N=n(_);a(Math.round(N*100)),_<1?requestAnimationFrame(u):typeof this<"u"&&this!==null&&Object.hasOwnProperty.call(this,"done")&&(typeof this.done).toLowerCase()==="function"&&this.done.call(this)},"animate"))}},C(Je,"Effect"),Je)]),ae("com.qcobjects.effects.transitions.base",[(dt=class extends R("Effect"){constructor(){super(...arguments);W(this,"duration",385);W(this,"defaultParams",{alphaFrom:0,alphaTo:1,angleFrom:180,angleTo:0,radiusFrom:0,radiusTo:30,scaleFrom:0,scaleTo:1});W(this,"fitToHeight",!1);W(this,"fitToWidth",!1);W(this,"effects",[]);O.info("DECLARING TransitionEffect  "),this.component.defaultParams=this.defaultParams}apply({alphaFrom:n,alphaTo:a,angleFrom:l,angleTo:b,radiusFrom:u,radiusTo:m,scaleFrom:_,scaleTo:N}){var F=this;O.info("EXECUTING TransitionEffect  ");var L=F.component.shadowed?F.component.shadowRoot.host:F.component.body;F.fitToHeight&&(L.height=typeof L.offsetParent=="object"&&L.offsetParent!==null?L.offsetParent.scrollHeight:L.getBoundingClientRect().height),F.fitToWidth&&(L.width=typeof L.offsetParent=="object"&&L.offsetParent!==null?L.offsetParent.scrollWidth:L.getBoundingClientRect().width),L.style.display="block",F.effects.map(function($,le){var Q=R($),J=new Q({}),ne=J.apply,ge=[L].concat(Object.values({alphaFrom:n,alphaTo:a,angleFrom:l,angleTo:b,radiusFrom:u,radiusTo:m,scaleFrom:_,scaleTo:N}));ne.apply(F,ge)})}},C(dt,"TransitionEffect"),dt)]),ae("com.qcobjects.timing",[(st=class extends R("InheritClass"){constructor(){super(...arguments);W(this,"duration",1e3);W(this,"alive",!0)}thread({timing:n,intervalInterceptor:a,duration:l}){var b=this;let u=performance.now();requestAnimationFrame(C(function m(_){let N=_-u,F=N/l;F>1&&(F=1);let L=n(F,N);a(Math.round(L*100)),(F<1||l===-1)&&b.alive&&requestAnimationFrame(m)},"thread"))}},C(st,"Timer"),st)]),ae("com.qcobjects.tools.essentials",[(it=class extends R("InheritClass"){constructor(){super(...arguments);W(this,"_toggle",!1);W(this,"_inverse",!0);W(this,"_positive",null);W(this,"_negative",null);W(this,"_dispatched",null);W(this,"_args",{});this._new_(...arguments)}changeToggle(){this._toggle=!this._toggle}_new_({positive:n,negative:a,args:l}){this._positive=n,this._negative=a,this._args=l}fire(){var n=this,a=new Promise(function(l,b){typeof n._positive=="function"&&typeof n._negative=="function"?(n._inverse?n._dispatched=n._toggle?n._negative.bind(n):n._positive.bind(n):n._dispatched=n._toggle?n._positive.bind(n):n._negative.bind(n),n._dispatched.call(n,n._args),l.call(a,n)):(O.debug("Toggle functions are not declared"),b.call(a,n))}).then(function(l){l.changeToggle()}).catch(function(l){O.debug(l.toString())});return a}},C(it,"Toggle"),it)]),function(o){let r=C(function(u,m,_){var N=this;if(typeof u>"u"||u===null)throw Error(`mapper.${m}.${_} does not have a component instance or it is null.`);let F=o.global.get(_),L=u.get(_),$=u.data[_],le=typeof $<"u"?$:typeof L<"u"?L:F,Q="";return typeof le<"u"&&typeof le.map<"u"?Q=le.map(function(J){let ne=[...Object.keys(J)].map(ge=>` data-${ge}="${typeof J[ge]<"u"&&J[ge]!==null?J[ge].toString():""}"`).join("");return`<quick-component name="${m}" ${ne} ></quick-component>`}).join(""):O.debug(`${m}.${_} does not have a map property`),Q},"mapper");xe.setProcessor(r);let n=C(function(u,m,_){var N=`
        /* CSS Document for Mobile Imports */
        @import url("${_}") (orientation:portrait);
        @import url("${_}") (max-width:460px);
        @import url("${_}") (aspect-ratio: 9/16);
        @import url("${_}") (aspect-ratio: 10/16);
        @import url("${_}") (aspect-ratio: 5/8);
        @import url("${_}") (aspect-ratio: 3/4);
        @import url("${_}") (aspect-ratio: 2/3);
        `,F=`
        @import url("${_}") (orientation:landscape) and (min-width:460px);
        @import url("${_}") (aspect-ratio: 16/9) and (min-width:460px);
        @import url("${_}") (aspect-ratio: 16/10) and (min-width:460px);
        @import url("${_}") (aspect-ratio: 8/5) and (min-width:460px);
        @import url("${_}") (aspect-ratio: 4/3) and (min-width:460px);
        @import url("${_}") (aspect-ratio: 3/2) and (min-width:460px);
        `,L={landscape:F,portrait:N};return Object.hasOwnProperty.call(L,m)?L[m]:""},"layout");xe.setProcessor(n);let a=C(function(){let u=[...arguments].slice(1).map(function(_){return{[_.split("=")[0]]:_.split("=")[1]}}).reduce(function(_,N){return Object.assign(_,N)});return`<component ${[...Object.keys(u)].map(function(_){return`${_}=${u[_]}`}).join(" ")}></component>`},"component");xe.setProcessor(a);let l=C(function(){let u=[...arguments].slice(1).map(function(_){return{[_.split("=")[0]]:_.split("=")[1]}}).reduce(function(_,N){return Object.assign(_,N)});return`<quick-component ${[...Object.keys(u)].map(function(_){return`${_}=${u[_]}`}).join(" ")}></quick-component>`},"quick_component");xe.setProcessor(l);let b=C(function(u,m,_){return o.range(m).map(function(N){return _.replace("{{index}}",N.toString())}).join("")},"repeat");xe.setProcessor(b)}(P),He(function(){P.CONFIG.get("useSDK")||P.__start__()}),Z(Z),Z(We),Z(ae),Z(de),Z(fe),Z(tt),Z(He),Z(ut),Z(G),Z(Ce),function(o){var r;ae("com.qcobjects",[(r=class extends R("InheritClass"){constructor(){super(...arguments);W(this,"_GLOBAL",{});W(this,"__definition",{});W(this,"__classType","GlobalSettings");this.set=r.set.bind(this),this.get=r.get.bind(this),this.__start__=r.__start__.bind(this)}static set(l,b){this._GLOBAL[l]=b}static get(l,b){var u;return typeof this._GLOBAL[l]<"u"?u=this._GLOBAL[l]:typeof b<"u"&&(u=b),u}static __start__(){var l=C(function(){var u;return G&&(u=new Promise(function(m,_){"serviceWorker"in navigator&&typeof o.CONFIG.get("serviceWorkerURI")<"u"&&(o.CONFIG.set("serviceWorkerScope",o.CONFIG.get("serviceWorkerScope")?o.CONFIG.get("serviceWorkerScope"):"/"),navigator.serviceWorker.register(o.CONFIG.get("serviceWorkerURI"),{scope:o.CONFIG.get("serviceWorkerScope")}).then(function(N){O.debug("Service Worker Registered"),m.call(u,N)},function(N){O.debug("Error registering Service Worker"),_.call(u,N)}),navigator.serviceWorker.ready.then(function(N){O.debug("Service Worker Ready"),m.call(u,N)},function(N){O.debug("Error loading Service Worker"),_.call(u,N)}))})),u},"__load__serviceWorker"),b=C(function(){return new Promise((u,m)=>{if(G){O.debug("Starting to building components");try{o.componentsStack=document.buildComponents.call(document)}catch(_){throw Error(`Something went wrong trying to start components tree: ${_.message}`)}O.debug("Initializing the service worker"),l.call(o).catch(function(_){O.debug(`error loading the service worker ${_}`)})}u()})},"_buildComponents");O.debug("Starting to load the config settings..."),o.CONFIG.get("useConfigService",!1)?(O.debug("Loading settings using local configuration file..."),o.global.configService=fe(R("ConfigService")),o.global.configService.configLoaded=b,nt(o.global.configService)):(O.debug("Starting to load the components..."),b.call(this))}},C(r,"GlobalSettings"),r)]),Z(R("GlobalSettings")),y=fe(R("GlobalSettings")),o=I(y,o),Object.defineProperty(o,"PackagesNameList",{set(n){O.debug("PackagesNameList is readonly")},get(){var n=C(function(a){var l=[];for(var b in a)typeof a[b]<"u"&&typeof a[b]!="function"&&Object.hasOwnProperty.call(a[b],"length")&&a[b].length>0&&(l.push(b),l=l.concat(n(a[b])));return l},"_get_packages_names");return n(p)}}),Object.defineProperty(o,"PackagesList",{set(n){O.debug("PackagesList is readonly")},get(){return o.PackagesNameList.map(function(n){let a=ae(n),l;return a&&(l={packageName:n,classesList:a.filter(function(b){return Me(b)})}),l}).filter(function(n){return typeof n<"u"})}}),Object.defineProperty(o,"ClassesList",{set(n){O.debug("ClassesList is readonly")},get(){var n=[];return o.PackagesList.map(function(a){return n=n.concat(a.classesList.map(function(l){return{packageName:a.packageName,className:a.packageName+"."+l.__definition.__classType,classFactory:l}})),a}),n}}),Object.defineProperty(o,"ClassesNameList",{set(n){O.debug("ClassesNameList is readonly")},get(){return o.ClassesList.map(function(n){return n.className})}}),G&&(de("GLOBAL",h.global),Z(R("GLOBAL"))),Z(y),o.CONFIG.get("useSDK")&&function(n){var a=n.CONFIG.get("remoteImportsPath"),l=!n.CONFIG.get("useLocalSDK");n.CONFIG.set("remoteImportsPath",n.CONFIG.get("remoteSDKPath"));var b=!1,u="QCObjects-SDK";if(G)b=!0;else{var m=Ge("qcobjects-sdk");m!==null?(u="qcobjects-sdk",b=!0):(u="node_modules/qcobjects-sdk/QCObjects-SDK",b=!0)}if(b)if(O.info("Importing SDK... "+u),U&&typeof bt<"u"){let _=Yt()}else We(u,function(){l?O.debug("QCObjects-SDK.js loaded from remote location"):O.debug("QCObjects-SDK.js loaded from local"),n.CONFIG.set("remoteImportsPath",a)},l);else O.debug("SDK has not been imported as it is not available at the moment")}(o)}(P),G&&It(function(){He(function(){(function(o){let r=0,n=!1,a=Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight,document.body.clientHeight,document.documentElement.clientHeight),l=Math.max(document.body.scrollWidth,document.documentElement.scrollWidth,document.body.offsetWidth,document.documentElement.offsetWidth,document.body.clientWidth,document.documentElement.clientWidth);function b(u){var m=Math.round(o.scrollY*100/a),_=Math.round(o.scrollX*100/l),N=new CustomEvent("scrollpercent",{detail:{percentX:_,percentY:m}});u.target.dispatchEvent(N);var F="defaultscroll",L=[0,5,10,25,50,75,90,95,100];L.filter(function($){return $===m}).map(function($){F="percentY"+m.toString();var le=new CustomEvent(F,{detail:{percentX:_,percentY:m}});u.target.dispatchEvent(le)})}C(b,"scrollDispatcher"),document.addEventListener("scroll",function(u){n||(requestAnimationFrame(function(){b(u),n=!1}),n=!0)})})(P)})},null),G||(typeof P.global<"u"&&Object.hasOwnProperty.call(P.global,"_fireAsyncLoad")&&P.global._fireAsyncLoad.call(this),typeof P.global<"u"&&Object.hasOwnProperty.call(P.global,"onload")&&P.global.onload.call(this)),function(o){var r=C(function(){Object.freeze(Object.prototype),Object.freeze(Object)},"__freeze__");o&&P.CONFIG.get("secureObjects",!1)?He(function(){r()}):P.CONFIG.get("secureObjects",!1)&&r()}(G)}},"__qcobjects__").call(null,typeof St=="object"&&typeof St.exports=="object"?St.exports=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}:typeof global=="object"?global:typeof window=="object"?window:{})});var nn=Lt((Kn,Kt)=>{var tn=Zt();Kt.exports=tn});export{C as a,Lt as b,nn as c};
//# sourceMappingURL=chunk-VGJRBPUX.js.map
